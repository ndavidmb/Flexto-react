var B3=Object.defineProperty;var j3=(e,t,n)=>t in e?B3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var z3=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Cf=(e,t,n)=>(j3(e,typeof t!="symbol"?t+"":t,n),n);var mY=z3((_n,bn)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Oh={},ym={exports:{}},Cn={},$={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rl=Symbol.for("react.element"),H3=Symbol.for("react.portal"),W3=Symbol.for("react.fragment"),q3=Symbol.for("react.strict_mode"),G3=Symbol.for("react.profiler"),K3=Symbol.for("react.provider"),Y3=Symbol.for("react.context"),Q3=Symbol.for("react.forward_ref"),X3=Symbol.for("react.suspense"),J3=Symbol.for("react.memo"),Z3=Symbol.for("react.lazy"),ry=Symbol.iterator;function eT(e){return e===null||typeof e!="object"?null:(e=ry&&e[ry]||e["@@iterator"],typeof e=="function"?e:null)}var Xw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jw=Object.assign,Zw={};function Ga(e,t,n){this.props=e,this.context=t,this.refs=Zw,this.updater=n||Xw}Ga.prototype.isReactComponent={};Ga.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ga.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function e2(){}e2.prototype=Ga.prototype;function vm(e,t,n){this.props=e,this.context=t,this.refs=Zw,this.updater=n||Xw}var wm=vm.prototype=new e2;wm.constructor=vm;Jw(wm,Ga.prototype);wm.isPureReactComponent=!0;var iy=Array.isArray,t2=Object.prototype.hasOwnProperty,_m={current:null},n2={key:!0,ref:!0,__self:!0,__source:!0};function r2(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)t2.call(t,r)&&!n2.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Rl,type:e,key:s,ref:a,props:i,_owner:_m.current}}function tT(e,t){return{$$typeof:Rl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rl}function nT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sy=/\/+/g;function If(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nT(""+e.key):t.toString(36)}function Mu(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Rl:case H3:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+If(a,0):r,iy(i)?(n="",e!=null&&(n=e.replace(sy,"$&/")+"/"),Mu(i,t,n,"",function(u){return u})):i!=null&&(bm(i)&&(i=tT(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(sy,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",iy(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+If(s,o);a+=Mu(s,t,n,l,i)}else if(l=eT(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+If(s,o++),a+=Mu(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function du(e,t,n){if(e==null)return e;var r=[],i=0;return Mu(e,r,"","",function(s){return t.call(n,s,i++)}),r}function rT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wt={current:null},Lu={transition:null},iT={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:Lu,ReactCurrentOwner:_m};me.Children={map:du,forEach:function(e,t,n){du(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return du(e,function(){t++}),t},toArray:function(e){return du(e,function(t){return t})||[]},only:function(e){if(!bm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Ga;me.Fragment=W3;me.Profiler=G3;me.PureComponent=vm;me.StrictMode=q3;me.Suspense=X3;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iT;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jw({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=_m.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)t2.call(t,l)&&!n2.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Rl,type:e.type,key:i,ref:s,props:r,_owner:a}};me.createContext=function(e){return e={$$typeof:Y3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:K3,_context:e},e.Consumer=e};me.createElement=r2;me.createFactory=function(e){var t=r2.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:Q3,render:e}};me.isValidElement=bm;me.lazy=function(e){return{$$typeof:Z3,_payload:{_status:-1,_result:e},_init:rT}};me.memo=function(e,t){return{$$typeof:J3,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Lu.transition;Lu.transition={};try{e()}finally{Lu.transition=t}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(e,t){return Wt.current.useCallback(e,t)};me.useContext=function(e){return Wt.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return Wt.current.useDeferredValue(e)};me.useEffect=function(e,t){return Wt.current.useEffect(e,t)};me.useId=function(){return Wt.current.useId()};me.useImperativeHandle=function(e,t,n){return Wt.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return Wt.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return Wt.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return Wt.current.useMemo(e,t)};me.useReducer=function(e,t,n){return Wt.current.useReducer(e,t,n)};me.useRef=function(e){return Wt.current.useRef(e)};me.useState=function(e){return Wt.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return Wt.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return Wt.current.useTransition()};me.version="18.2.0";(function(e){e.exports=me})($);const rc=V3($.exports);var i2={exports:{}},s2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,D){var B=U.length;U.push(D);e:for(;0<B;){var Q=B-1>>>1,q=U[Q];if(0<i(q,D))U[Q]=D,U[B]=q,B=Q;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var D=U[0],B=U.pop();if(B!==D){U[0]=B;e:for(var Q=0,q=U.length,X=q>>>1;Q<X;){var G=2*(Q+1)-1,z=U[G],se=G+1,ye=U[se];if(0>i(z,B))se<q&&0>i(ye,z)?(U[Q]=ye,U[se]=B,Q=se):(U[Q]=z,U[G]=B,Q=G);else if(se<q&&0>i(ye,B))U[Q]=ye,U[se]=B,Q=se;else break e}}return D}function i(U,D){var B=U.sortIndex-D.sortIndex;return B!==0?B:U.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,f=null,d=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=U)r(u),D.sortIndex=D.expirationTime,t(l,D);else break;D=n(u)}}function E(U){if(y=!1,w(U),!g)if(n(l)!==null)g=!0,I(N);else{var D=n(u);D!==null&&T(E,D.startTime-U)}}function N(U,D){g=!1,y&&(y=!1,m(_),_=-1),p=!0;var B=d;try{for(w(D),f=n(l);f!==null&&(!(f.expirationTime>D)||U&&!k());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,d=f.priorityLevel;var q=Q(f.expirationTime<=D);D=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(l)&&r(l),w(D)}else r(l);f=n(l)}if(f!==null)var X=!0;else{var G=n(u);G!==null&&T(E,G.startTime-D),X=!1}return X}finally{f=null,d=B,p=!1}}var S=!1,P=null,_=-1,x=5,O=-1;function k(){return!(e.unstable_now()-O<x)}function R(){if(P!==null){var U=e.unstable_now();O=U;var D=!0;try{D=P(!0,U)}finally{D?L():(S=!1,P=null)}}else S=!1}var L;if(typeof v=="function")L=function(){v(R)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=R,L=function(){V.postMessage(null)}}else L=function(){b(R,0)};function I(U){P=U,S||(S=!0,L())}function T(U,D){_=b(function(){U(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,I(N))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(U){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var B=d;d=D;try{return U()}finally{d=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,D){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var B=d;d=U;try{return D()}finally{d=B}},e.unstable_scheduleCallback=function(U,D,B){var Q=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Q+B:Q):B=Q,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,U={id:c++,callback:D,priorityLevel:U,startTime:B,expirationTime:q,sortIndex:-1},B>Q?(U.sortIndex=B,t(u,U),n(l)===null&&U===n(u)&&(y?(m(_),_=-1):y=!0,T(E,B-Q))):(U.sortIndex=q,t(l,U),g||p||(g=!0,I(N))),U},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(U){var D=d;return function(){var B=d;d=D;try{return U.apply(this,arguments)}finally{d=B}}}})(s2);(function(e){e.exports=s2})(i2);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2=$.exports,xn=i2.exports;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o2=new Set,el={};function Vs(e,t){Ra(e,t),Ra(e+"Capture",t)}function Ra(e,t){for(el[e]=t,e=0;e<t.length;e++)o2.add(t[e])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nh=Object.prototype.hasOwnProperty,sT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ay={},oy={};function aT(e){return Nh.call(oy,e)?!0:Nh.call(ay,e)?!1:sT.test(e)?oy[e]=!0:(ay[e]=!0,!1)}function oT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lT(e,t,n,r){if(t===null||typeof t>"u"||oT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qt(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sm=/[\-:]([a-z])/g;function Em(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sm,Em);Tt[t]=new qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sm,Em);Tt[t]=new qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sm,Em);Tt[t]=new qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function xm(e,t,n,r){var i=Tt.hasOwnProperty(t)?Tt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lT(t,n,i,r)&&(n=null),r||i===null?aT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ni=a2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fu=Symbol.for("react.element"),la=Symbol.for("react.portal"),ua=Symbol.for("react.fragment"),Am=Symbol.for("react.strict_mode"),kh=Symbol.for("react.profiler"),l2=Symbol.for("react.provider"),u2=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),Rh=Symbol.for("react.suspense"),$h=Symbol.for("react.suspense_list"),Cm=Symbol.for("react.memo"),pi=Symbol.for("react.lazy"),c2=Symbol.for("react.offscreen"),ly=Symbol.iterator;function vo(e){return e===null||typeof e!="object"?null:(e=ly&&e[ly]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,Pf;function Oo(e){if(Pf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pf=t&&t[1]||""}return`
`+Pf+e}var Of=!1;function Nf(e,t){if(!e||Of)return"";Of=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Of=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Oo(e):""}function uT(e){switch(e.tag){case 5:return Oo(e.type);case 16:return Oo("Lazy");case 13:return Oo("Suspense");case 19:return Oo("SuspenseList");case 0:case 2:case 15:return e=Nf(e.type,!1),e;case 11:return e=Nf(e.type.render,!1),e;case 1:return e=Nf(e.type,!0),e;default:return""}}function Fh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ua:return"Fragment";case la:return"Portal";case kh:return"Profiler";case Am:return"StrictMode";case Rh:return"Suspense";case $h:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case u2:return(e.displayName||"Context")+".Consumer";case l2:return(e._context.displayName||"Context")+".Provider";case Tm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cm:return t=e.displayName||null,t!==null?t:Fh(e.type)||"Memo";case pi:t=e._payload,e=e._init;try{return Fh(e(t))}catch{}}return null}function cT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fh(t);case 8:return t===Am?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function d2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dT(e){var t=d2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hu(e){e._valueTracker||(e._valueTracker=dT(e))}function f2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=d2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ic(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dh(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function uy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function h2(e,t){t=t.checked,t!=null&&xm(e,"checked",t,!1)}function Mh(e,t){h2(e,t);var n=Bi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lh(e,t.type,Bi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lh(e,t,n){(t!=="number"||ic(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var No=Array.isArray;function Ea(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Uh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(No(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bi(n)}}function p2(e,t){var n=Bi(t.value),r=Bi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function m2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?m2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pu,g2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pu=pu||document.createElement("div"),pu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fT=["Webkit","ms","Moz","O"];Object.keys(Mo).forEach(function(e){fT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mo[t]=Mo[e]})});function y2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mo.hasOwnProperty(e)&&Mo[e]?(""+t).trim():t+"px"}function v2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=y2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var hT=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jh(e,t){if(t){if(hT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function zh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=null;function Im(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hh=null,xa=null,Aa=null;function hy(e){if(e=Dl(e)){if(typeof Hh!="function")throw Error(K(280));var t=e.stateNode;t&&(t=dd(t),Hh(e.stateNode,e.type,t))}}function w2(e){xa?Aa?Aa.push(e):Aa=[e]:xa=e}function _2(){if(xa){var e=xa,t=Aa;if(Aa=xa=null,hy(e),t)for(e=0;e<t.length;e++)hy(t[e])}}function b2(e,t){return e(t)}function S2(){}var kf=!1;function E2(e,t,n){if(kf)return e(t,n);kf=!0;try{return b2(e,t,n)}finally{kf=!1,(xa!==null||Aa!==null)&&(S2(),_2())}}function nl(e,t){var n=e.stateNode;if(n===null)return null;var r=dd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Wh=!1;if(Kr)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{Wh=!1}function pT(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Lo=!1,sc=null,ac=!1,qh=null,mT={onError:function(e){Lo=!0,sc=e}};function gT(e,t,n,r,i,s,a,o,l){Lo=!1,sc=null,pT.apply(mT,arguments)}function yT(e,t,n,r,i,s,a,o,l){if(gT.apply(this,arguments),Lo){if(Lo){var u=sc;Lo=!1,sc=null}else throw Error(K(198));ac||(ac=!0,qh=u)}}function Hs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function x2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function py(e){if(Hs(e)!==e)throw Error(K(188))}function vT(e){var t=e.alternate;if(!t){if(t=Hs(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return py(i),e;if(s===r)return py(i),t;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function A2(e){return e=vT(e),e!==null?T2(e):null}function T2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=T2(e);if(t!==null)return t;e=e.sibling}return null}var C2=xn.unstable_scheduleCallback,my=xn.unstable_cancelCallback,wT=xn.unstable_shouldYield,_T=xn.unstable_requestPaint,nt=xn.unstable_now,bT=xn.unstable_getCurrentPriorityLevel,Pm=xn.unstable_ImmediatePriority,I2=xn.unstable_UserBlockingPriority,oc=xn.unstable_NormalPriority,ST=xn.unstable_LowPriority,P2=xn.unstable_IdlePriority,od=null,Er=null;function ET(e){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(od,e,void 0,(e.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:TT,xT=Math.log,AT=Math.LN2;function TT(e){return e>>>=0,e===0?32:31-(xT(e)/AT|0)|0}var mu=64,gu=4194304;function ko(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ko(o):(s&=a,s!==0&&(r=ko(s)))}else a=n&~i,a!==0?r=ko(a):s!==0&&(r=ko(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&i)===0&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-sr(t),i=1<<n,r|=e[n],t&=~i;return r}function CT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-sr(s),o=1<<a,l=i[a];l===-1?((o&n)===0||(o&r)!==0)&&(i[a]=CT(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function Gh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function O2(){var e=mu;return mu<<=1,(mu&4194240)===0&&(mu=64),e}function Rf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $l(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sr(t),e[t]=n}function PT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-sr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Om(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-sr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Te=0;function N2(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var k2,Nm,R2,$2,F2,Kh=!1,yu=[],Ii=null,Pi=null,Oi=null,rl=new Map,il=new Map,yi=[],OT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gy(e,t){switch(e){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":rl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(t.pointerId)}}function _o(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Dl(t),t!==null&&Nm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function NT(e,t,n,r,i){switch(t){case"focusin":return Ii=_o(Ii,e,t,n,r,i),!0;case"dragenter":return Pi=_o(Pi,e,t,n,r,i),!0;case"mouseover":return Oi=_o(Oi,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return rl.set(s,_o(rl.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,il.set(s,_o(il.get(s)||null,e,t,n,r,i)),!0}return!1}function D2(e){var t=ps(e.target);if(t!==null){var n=Hs(t);if(n!==null){if(t=n.tag,t===13){if(t=x2(n),t!==null){e.blockedOn=t,F2(e.priority,function(){R2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vh=r,n.target.dispatchEvent(r),Vh=null}else return t=Dl(n),t!==null&&Nm(t),e.blockedOn=n,!1;t.shift()}return!0}function yy(e,t,n){Uu(e)&&n.delete(t)}function kT(){Kh=!1,Ii!==null&&Uu(Ii)&&(Ii=null),Pi!==null&&Uu(Pi)&&(Pi=null),Oi!==null&&Uu(Oi)&&(Oi=null),rl.forEach(yy),il.forEach(yy)}function bo(e,t){e.blockedOn===t&&(e.blockedOn=null,Kh||(Kh=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,kT)))}function sl(e){function t(i){return bo(i,e)}if(0<yu.length){bo(yu[0],e);for(var n=1;n<yu.length;n++){var r=yu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ii!==null&&bo(Ii,e),Pi!==null&&bo(Pi,e),Oi!==null&&bo(Oi,e),rl.forEach(t),il.forEach(t),n=0;n<yi.length;n++)r=yi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)D2(n),n.blockedOn===null&&yi.shift()}var Ta=ni.ReactCurrentBatchConfig,uc=!0;function RT(e,t,n,r){var i=Te,s=Ta.transition;Ta.transition=null;try{Te=1,km(e,t,n,r)}finally{Te=i,Ta.transition=s}}function $T(e,t,n,r){var i=Te,s=Ta.transition;Ta.transition=null;try{Te=4,km(e,t,n,r)}finally{Te=i,Ta.transition=s}}function km(e,t,n,r){if(uc){var i=Yh(e,t,n,r);if(i===null)Vf(e,t,r,cc,n),gy(e,r);else if(NT(i,e,t,n,r))r.stopPropagation();else if(gy(e,r),t&4&&-1<OT.indexOf(e)){for(;i!==null;){var s=Dl(i);if(s!==null&&k2(s),s=Yh(e,t,n,r),s===null&&Vf(e,t,r,cc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vf(e,t,r,null,n)}}var cc=null;function Yh(e,t,n,r){if(cc=null,e=Im(r),e=ps(e),e!==null)if(t=Hs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=x2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cc=e,null}function M2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bT()){case Pm:return 1;case I2:return 4;case oc:case ST:return 16;case P2:return 536870912;default:return 16}default:return 16}}var Ai=null,Rm=null,Bu=null;function L2(){if(Bu)return Bu;var e,t=Rm,n=t.length,r,i="value"in Ai?Ai.value:Ai.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Bu=i.slice(e,1<r?1-r:void 0)}function ju(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vu(){return!0}function vy(){return!1}function In(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vu:vy,this.isPropagationStopped=vy,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),t}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$m=In(Ka),Fl=Xe({},Ka,{view:0,detail:0}),FT=In(Fl),$f,Ff,So,ld=Xe({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==So&&(So&&e.type==="mousemove"?($f=e.screenX-So.screenX,Ff=e.screenY-So.screenY):Ff=$f=0,So=e),$f)},movementY:function(e){return"movementY"in e?e.movementY:Ff}}),wy=In(ld),DT=Xe({},ld,{dataTransfer:0}),MT=In(DT),LT=Xe({},Fl,{relatedTarget:0}),Df=In(LT),UT=Xe({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),BT=In(UT),jT=Xe({},Ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zT=In(jT),VT=Xe({},Ka,{data:0}),_y=In(VT),HT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qT[e])?!!t[e]:!1}function Fm(){return GT}var KT=Xe({},Fl,{key:function(e){if(e.key){var t=HT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ju(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fm,charCode:function(e){return e.type==="keypress"?ju(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ju(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YT=In(KT),QT=Xe({},ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),by=In(QT),XT=Xe({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fm}),JT=In(XT),ZT=Xe({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),eC=In(ZT),tC=Xe({},ld,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nC=In(tC),rC=[9,13,27,32],Dm=Kr&&"CompositionEvent"in window,Uo=null;Kr&&"documentMode"in document&&(Uo=document.documentMode);var iC=Kr&&"TextEvent"in window&&!Uo,U2=Kr&&(!Dm||Uo&&8<Uo&&11>=Uo),Sy=String.fromCharCode(32),Ey=!1;function B2(e,t){switch(e){case"keyup":return rC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function sC(e,t){switch(e){case"compositionend":return j2(t);case"keypress":return t.which!==32?null:(Ey=!0,Sy);case"textInput":return e=t.data,e===Sy&&Ey?null:e;default:return null}}function aC(e,t){if(ca)return e==="compositionend"||!Dm&&B2(e,t)?(e=L2(),Bu=Rm=Ai=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return U2&&t.locale!=="ko"?null:t.data;default:return null}}var oC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oC[e.type]:t==="textarea"}function z2(e,t,n,r){w2(r),t=dc(t,"onChange"),0<t.length&&(n=new $m("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bo=null,al=null;function lC(e){Z2(e,0)}function ud(e){var t=ha(e);if(f2(t))return e}function uC(e,t){if(e==="change")return t}var V2=!1;if(Kr){var Mf;if(Kr){var Lf="oninput"in document;if(!Lf){var Ay=document.createElement("div");Ay.setAttribute("oninput","return;"),Lf=typeof Ay.oninput=="function"}Mf=Lf}else Mf=!1;V2=Mf&&(!document.documentMode||9<document.documentMode)}function Ty(){Bo&&(Bo.detachEvent("onpropertychange",H2),al=Bo=null)}function H2(e){if(e.propertyName==="value"&&ud(al)){var t=[];z2(t,al,e,Im(e)),E2(lC,t)}}function cC(e,t,n){e==="focusin"?(Ty(),Bo=t,al=n,Bo.attachEvent("onpropertychange",H2)):e==="focusout"&&Ty()}function dC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ud(al)}function fC(e,t){if(e==="click")return ud(t)}function hC(e,t){if(e==="input"||e==="change")return ud(t)}function pC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var or=typeof Object.is=="function"?Object.is:pC;function ol(e,t){if(or(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nh.call(t,i)||!or(e[i],t[i]))return!1}return!0}function Cy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Iy(e,t){var n=Cy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cy(n)}}function W2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?W2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function q2(){for(var e=window,t=ic();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ic(e.document)}return t}function Mm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mC(e){var t=q2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&W2(n.ownerDocument.documentElement,n)){if(r!==null&&Mm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Iy(n,s);var a=Iy(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gC=Kr&&"documentMode"in document&&11>=document.documentMode,da=null,Qh=null,jo=null,Xh=!1;function Py(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xh||da==null||da!==ic(r)||(r=da,"selectionStart"in r&&Mm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jo&&ol(jo,r)||(jo=r,r=dc(Qh,"onSelect"),0<r.length&&(t=new $m("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=da)))}function wu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fa={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},Uf={},G2={};Kr&&(G2=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function cd(e){if(Uf[e])return Uf[e];if(!fa[e])return e;var t=fa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in G2)return Uf[e]=t[n];return e}var K2=cd("animationend"),Y2=cd("animationiteration"),Q2=cd("animationstart"),X2=cd("transitionend"),J2=new Map,Oy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(e,t){J2.set(e,t),Vs(t,[e])}for(var Bf=0;Bf<Oy.length;Bf++){var jf=Oy[Bf],yC=jf.toLowerCase(),vC=jf[0].toUpperCase()+jf.slice(1);Ki(yC,"on"+vC)}Ki(K2,"onAnimationEnd");Ki(Y2,"onAnimationIteration");Ki(Q2,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(X2,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Ny(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yT(r,t,void 0,e),e.currentTarget=null}function Z2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Ny(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Ny(i,o,u),s=l}}}if(ac)throw e=qh,ac=!1,qh=null,e}function Le(e,t){var n=t[np];n===void 0&&(n=t[np]=new Set);var r=e+"__bubble";n.has(r)||(e_(t,e,2,!1),n.add(r))}function zf(e,t,n){var r=0;t&&(r|=4),e_(n,e,r,t)}var _u="_reactListening"+Math.random().toString(36).slice(2);function ll(e){if(!e[_u]){e[_u]=!0,o2.forEach(function(n){n!=="selectionchange"&&(wC.has(n)||zf(n,!1,e),zf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_u]||(t[_u]=!0,zf("selectionchange",!1,t))}}function e_(e,t,n,r){switch(M2(t)){case 1:var i=RT;break;case 4:i=$T;break;default:i=km}n=i.bind(null,t,n,e),i=void 0,!Wh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vf(e,t,n,r,i){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ps(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}E2(function(){var u=s,c=Im(n),f=[];e:{var d=J2.get(e);if(d!==void 0){var p=$m,g=e;switch(e){case"keypress":if(ju(n)===0)break e;case"keydown":case"keyup":p=YT;break;case"focusin":g="focus",p=Df;break;case"focusout":g="blur",p=Df;break;case"beforeblur":case"afterblur":p=Df;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=MT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=JT;break;case K2:case Y2:case Q2:p=BT;break;case X2:p=eC;break;case"scroll":p=FT;break;case"wheel":p=nC;break;case"copy":case"cut":case"paste":p=zT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=by}var y=(t&4)!==0,b=!y&&e==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var v=u,w;v!==null;){w=v;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,m!==null&&(E=nl(v,m),E!=null&&y.push(ul(v,E,w)))),b)break;v=v.return}0<y.length&&(d=new p(d,g,null,n,c),f.push({event:d,listeners:y}))}}if((t&7)===0){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==Vh&&(g=n.relatedTarget||n.fromElement)&&(ps(g)||g[Yr]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?ps(g):null,g!==null&&(b=Hs(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=wy,E="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=by,E="onPointerLeave",m="onPointerEnter",v="pointer"),b=p==null?d:ha(p),w=g==null?d:ha(g),d=new y(E,v+"leave",p,n,c),d.target=b,d.relatedTarget=w,E=null,ps(c)===u&&(y=new y(m,v+"enter",g,n,c),y.target=w,y.relatedTarget=b,E=y),b=E,p&&g)t:{for(y=p,m=g,v=0,w=y;w;w=ia(w))v++;for(w=0,E=m;E;E=ia(E))w++;for(;0<v-w;)y=ia(y),v--;for(;0<w-v;)m=ia(m),w--;for(;v--;){if(y===m||m!==null&&y===m.alternate)break t;y=ia(y),m=ia(m)}y=null}else y=null;p!==null&&ky(f,d,p,y,!1),g!==null&&b!==null&&ky(f,b,g,y,!0)}}e:{if(d=u?ha(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var N=uC;else if(xy(d))if(V2)N=hC;else{N=dC;var S=cC}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=fC);if(N&&(N=N(e,u))){z2(f,N,n,c);break e}S&&S(e,d,u),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&Lh(d,"number",d.value)}switch(S=u?ha(u):window,e){case"focusin":(xy(S)||S.contentEditable==="true")&&(da=S,Qh=u,jo=null);break;case"focusout":jo=Qh=da=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Py(f,n,c);break;case"selectionchange":if(gC)break;case"keydown":case"keyup":Py(f,n,c)}var P;if(Dm)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ca?B2(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(U2&&n.locale!=="ko"&&(ca||_!=="onCompositionStart"?_==="onCompositionEnd"&&ca&&(P=L2()):(Ai=c,Rm="value"in Ai?Ai.value:Ai.textContent,ca=!0)),S=dc(u,_),0<S.length&&(_=new _y(_,e,null,n,c),f.push({event:_,listeners:S}),P?_.data=P:(P=j2(n),P!==null&&(_.data=P)))),(P=iC?sC(e,n):aC(e,n))&&(u=dc(u,"onBeforeInput"),0<u.length&&(c=new _y("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=P))}Z2(f,t)})}function ul(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=nl(e,n),s!=null&&r.unshift(ul(e,s,i)),s=nl(e,t),s!=null&&r.push(ul(e,s,i))),e=e.return}return r}function ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ky(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=nl(n,s),l!=null&&a.unshift(ul(n,l,o))):i||(l=nl(n,s),l!=null&&a.push(ul(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var _C=/\r\n?/g,bC=/\u0000|\uFFFD/g;function Ry(e){return(typeof e=="string"?e:""+e).replace(_C,`
`).replace(bC,"")}function bu(e,t,n){if(t=Ry(t),Ry(e)!==t&&n)throw Error(K(425))}function fc(){}var Jh=null,Zh=null;function ep(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tp=typeof setTimeout=="function"?setTimeout:void 0,SC=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,EC=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(xC)}:tp;function xC(e){setTimeout(function(){throw e})}function Hf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),sl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sl(t)}function Ni(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),_r="__reactFiber$"+Ya,cl="__reactProps$"+Ya,Yr="__reactContainer$"+Ya,np="__reactEvents$"+Ya,AC="__reactListeners$"+Ya,TC="__reactHandles$"+Ya;function ps(e){var t=e[_r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[_r]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fy(e);e!==null;){if(n=e[_r])return n;e=Fy(e)}return t}e=n,n=e.parentNode}return null}function Dl(e){return e=e[_r]||e[Yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ha(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function dd(e){return e[cl]||null}var rp=[],pa=-1;function Yi(e){return{current:e}}function ze(e){0>pa||(e.current=rp[pa],rp[pa]=null,pa--)}function $e(e,t){pa++,rp[pa]=e.current,e.current=t}var ji={},$t=Yi(ji),Zt=Yi(!1),xs=ji;function $a(e,t){var n=e.type.contextTypes;if(!n)return ji;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function en(e){return e=e.childContextTypes,e!=null}function hc(){ze(Zt),ze($t)}function Dy(e,t,n){if($t.current!==ji)throw Error(K(168));$e($t,t),$e(Zt,n)}function t_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(K(108,cT(e)||"Unknown",i));return Xe({},n,r)}function pc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ji,xs=$t.current,$e($t,e),$e(Zt,Zt.current),!0}function My(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=t_(e,t,xs),r.__reactInternalMemoizedMergedChildContext=e,ze(Zt),ze($t),$e($t,e)):ze(Zt),$e(Zt,n)}var Ur=null,fd=!1,Wf=!1;function n_(e){Ur===null?Ur=[e]:Ur.push(e)}function CC(e){fd=!0,n_(e)}function Qi(){if(!Wf&&Ur!==null){Wf=!0;var e=0,t=Te;try{var n=Ur;for(Te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ur=null,fd=!1}catch(i){throw Ur!==null&&(Ur=Ur.slice(e+1)),C2(Pm,Qi),i}finally{Te=t,Wf=!1}}return null}var ma=[],ga=0,mc=null,gc=0,jn=[],zn=0,As=null,jr=1,zr="";function ss(e,t){ma[ga++]=gc,ma[ga++]=mc,mc=e,gc=t}function r_(e,t,n){jn[zn++]=jr,jn[zn++]=zr,jn[zn++]=As,As=e;var r=jr;e=zr;var i=32-sr(r)-1;r&=~(1<<i),n+=1;var s=32-sr(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,jr=1<<32-sr(t)+i|n<<i|r,zr=s+e}else jr=1<<s|n<<i|r,zr=e}function Lm(e){e.return!==null&&(ss(e,1),r_(e,1,0))}function Um(e){for(;e===mc;)mc=ma[--ga],ma[ga]=null,gc=ma[--ga],ma[ga]=null;for(;e===As;)As=jn[--zn],jn[zn]=null,zr=jn[--zn],jn[zn]=null,jr=jn[--zn],jn[zn]=null}var Sn=null,yn=null,We=!1,nr=null;function i_(e,t){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ly(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Sn=e,yn=Ni(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Sn=e,yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=As!==null?{id:jr,overflow:zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Sn=e,yn=null,!0):!1;default:return!1}}function ip(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sp(e){if(We){var t=yn;if(t){var n=t;if(!Ly(e,t)){if(ip(e))throw Error(K(418));t=Ni(n.nextSibling);var r=Sn;t&&Ly(e,t)?i_(r,n):(e.flags=e.flags&-4097|2,We=!1,Sn=e)}}else{if(ip(e))throw Error(K(418));e.flags=e.flags&-4097|2,We=!1,Sn=e}}}function Uy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sn=e}function Su(e){if(e!==Sn)return!1;if(!We)return Uy(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ep(e.type,e.memoizedProps)),t&&(t=yn)){if(ip(e))throw s_(),Error(K(418));for(;t;)i_(e,t),t=Ni(t.nextSibling)}if(Uy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yn=Ni(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yn=null}}else yn=Sn?Ni(e.stateNode.nextSibling):null;return!0}function s_(){for(var e=yn;e;)e=Ni(e.nextSibling)}function Fa(){yn=Sn=null,We=!1}function Bm(e){nr===null?nr=[e]:nr.push(e)}var IC=ni.ReactCurrentBatchConfig;function er(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var yc=Yi(null),vc=null,ya=null,jm=null;function zm(){jm=ya=vc=null}function Vm(e){var t=yc.current;ze(yc),e._currentValue=t}function ap(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){vc=e,jm=ya=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Xt=!0),e.firstContext=null)}function Wn(e){var t=e._currentValue;if(jm!==e)if(e={context:e,memoizedValue:t,next:null},ya===null){if(vc===null)throw Error(K(308));ya=e,vc.dependencies={lanes:0,firstContext:e}}else ya=ya.next=e;return t}var ms=null;function Hm(e){ms===null?ms=[e]:ms.push(e)}function a_(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Hm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Qr(e,r)}function Qr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mi=!1;function Wm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ki(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(we&2)!==0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Qr(e,n)}return i=r.interleaved,i===null?(t.next=t,Hm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Qr(e,n)}function zu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Om(e,n)}}function By(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wc(e,t,n,r){var i=e.updateQueue;mi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,c=u=l=null,o=s;do{var d=o.lane,p=o.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(d=t,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=Xe({},f,d);break e;case 2:mi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Cs|=a,e.lanes=a,e.memoizedState=f}}function jy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var l_=new a2.Component().refs;function op(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hd={isMounted:function(e){return(e=e._reactInternals)?Hs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jt(),i=$i(e),s=Wr(r,i);s.payload=t,n!=null&&(s.callback=n),t=ki(e,s,i),t!==null&&(ar(t,e,i,r),zu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jt(),i=$i(e),s=Wr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ki(e,s,i),t!==null&&(ar(t,e,i,r),zu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jt(),r=$i(e),i=Wr(n,r);i.tag=2,t!=null&&(i.callback=t),t=ki(e,i,r),t!==null&&(ar(t,e,r,n),zu(t,e,r))}};function zy(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!ol(n,r)||!ol(i,s):!0}function u_(e,t,n){var r=!1,i=ji,s=t.contextType;return typeof s=="object"&&s!==null?s=Wn(s):(i=en(t)?xs:$t.current,r=t.contextTypes,s=(r=r!=null)?$a(e,i):ji),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Vy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hd.enqueueReplaceState(t,t.state,null)}function lp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=l_,Wm(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Wn(s):(s=en(t)?xs:$t.current,i.context=$a(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(op(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&hd.enqueueReplaceState(i,i.state,null),wc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Eo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;o===l_&&(o=i.refs={}),a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Eu(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hy(e){var t=e._init;return t(e._payload)}function c_(e){function t(m,v){if(e){var w=m.deletions;w===null?(m.deletions=[v],m.flags|=16):w.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Fi(m,v),m.index=0,m.sibling=null,m}function s(m,v,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<v?(m.flags|=2,v):w):(m.flags|=2,v)):(m.flags|=1048576,v)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,v,w,E){return v===null||v.tag!==6?(v=Jf(w,m.mode,E),v.return=m,v):(v=i(v,w),v.return=m,v)}function l(m,v,w,E){var N=w.type;return N===ua?c(m,v,w.props.children,E,w.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===pi&&Hy(N)===v.type)?(E=i(v,w.props),E.ref=Eo(m,v,w),E.return=m,E):(E=Ku(w.type,w.key,w.props,null,m.mode,E),E.ref=Eo(m,v,w),E.return=m,E)}function u(m,v,w,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Zf(w,m.mode,E),v.return=m,v):(v=i(v,w.children||[]),v.return=m,v)}function c(m,v,w,E,N){return v===null||v.tag!==7?(v=bs(w,m.mode,E,N),v.return=m,v):(v=i(v,w),v.return=m,v)}function f(m,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Jf(""+v,m.mode,w),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case fu:return w=Ku(v.type,v.key,v.props,null,m.mode,w),w.ref=Eo(m,null,v),w.return=m,w;case la:return v=Zf(v,m.mode,w),v.return=m,v;case pi:var E=v._init;return f(m,E(v._payload),w)}if(No(v)||vo(v))return v=bs(v,m.mode,w,null),v.return=m,v;Eu(m,v)}return null}function d(m,v,w,E){var N=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:o(m,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fu:return w.key===N?l(m,v,w,E):null;case la:return w.key===N?u(m,v,w,E):null;case pi:return N=w._init,d(m,v,N(w._payload),E)}if(No(w)||vo(w))return N!==null?null:c(m,v,w,E,null);Eu(m,w)}return null}function p(m,v,w,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(w)||null,o(v,m,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fu:return m=m.get(E.key===null?w:E.key)||null,l(v,m,E,N);case la:return m=m.get(E.key===null?w:E.key)||null,u(v,m,E,N);case pi:var S=E._init;return p(m,v,w,S(E._payload),N)}if(No(E)||vo(E))return m=m.get(w)||null,c(v,m,E,N,null);Eu(v,E)}return null}function g(m,v,w,E){for(var N=null,S=null,P=v,_=v=0,x=null;P!==null&&_<w.length;_++){P.index>_?(x=P,P=null):x=P.sibling;var O=d(m,P,w[_],E);if(O===null){P===null&&(P=x);break}e&&P&&O.alternate===null&&t(m,P),v=s(O,v,_),S===null?N=O:S.sibling=O,S=O,P=x}if(_===w.length)return n(m,P),We&&ss(m,_),N;if(P===null){for(;_<w.length;_++)P=f(m,w[_],E),P!==null&&(v=s(P,v,_),S===null?N=P:S.sibling=P,S=P);return We&&ss(m,_),N}for(P=r(m,P);_<w.length;_++)x=p(P,m,_,w[_],E),x!==null&&(e&&x.alternate!==null&&P.delete(x.key===null?_:x.key),v=s(x,v,_),S===null?N=x:S.sibling=x,S=x);return e&&P.forEach(function(k){return t(m,k)}),We&&ss(m,_),N}function y(m,v,w,E){var N=vo(w);if(typeof N!="function")throw Error(K(150));if(w=N.call(w),w==null)throw Error(K(151));for(var S=N=null,P=v,_=v=0,x=null,O=w.next();P!==null&&!O.done;_++,O=w.next()){P.index>_?(x=P,P=null):x=P.sibling;var k=d(m,P,O.value,E);if(k===null){P===null&&(P=x);break}e&&P&&k.alternate===null&&t(m,P),v=s(k,v,_),S===null?N=k:S.sibling=k,S=k,P=x}if(O.done)return n(m,P),We&&ss(m,_),N;if(P===null){for(;!O.done;_++,O=w.next())O=f(m,O.value,E),O!==null&&(v=s(O,v,_),S===null?N=O:S.sibling=O,S=O);return We&&ss(m,_),N}for(P=r(m,P);!O.done;_++,O=w.next())O=p(P,m,_,O.value,E),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?_:O.key),v=s(O,v,_),S===null?N=O:S.sibling=O,S=O);return e&&P.forEach(function(R){return t(m,R)}),We&&ss(m,_),N}function b(m,v,w,E){if(typeof w=="object"&&w!==null&&w.type===ua&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case fu:e:{for(var N=w.key,S=v;S!==null;){if(S.key===N){if(N=w.type,N===ua){if(S.tag===7){n(m,S.sibling),v=i(S,w.props.children),v.return=m,m=v;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===pi&&Hy(N)===S.type){n(m,S.sibling),v=i(S,w.props),v.ref=Eo(m,S,w),v.return=m,m=v;break e}n(m,S);break}else t(m,S);S=S.sibling}w.type===ua?(v=bs(w.props.children,m.mode,E,w.key),v.return=m,m=v):(E=Ku(w.type,w.key,w.props,null,m.mode,E),E.ref=Eo(m,v,w),E.return=m,m=E)}return a(m);case la:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(m,v.sibling),v=i(v,w.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=Zf(w,m.mode,E),v.return=m,m=v}return a(m);case pi:return S=w._init,b(m,v,S(w._payload),E)}if(No(w))return g(m,v,w,E);if(vo(w))return y(m,v,w,E);Eu(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,w),v.return=m,m=v):(n(m,v),v=Jf(w,m.mode,E),v.return=m,m=v),a(m)):n(m,v)}return b}var Da=c_(!0),d_=c_(!1),Ml={},xr=Yi(Ml),dl=Yi(Ml),fl=Yi(Ml);function gs(e){if(e===Ml)throw Error(K(174));return e}function qm(e,t){switch($e(fl,t),$e(dl,e),$e(xr,Ml),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bh(t,e)}ze(xr),$e(xr,t)}function Ma(){ze(xr),ze(dl),ze(fl)}function f_(e){gs(fl.current);var t=gs(xr.current),n=Bh(t,e.type);t!==n&&($e(dl,e),$e(xr,n))}function Gm(e){dl.current===e&&(ze(xr),ze(dl))}var Ke=Yi(0);function _c(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qf=[];function Km(){for(var e=0;e<qf.length;e++)qf[e]._workInProgressVersionPrimary=null;qf.length=0}var Vu=ni.ReactCurrentDispatcher,Gf=ni.ReactCurrentBatchConfig,Ts=0,Qe=null,ot=null,mt=null,bc=!1,zo=!1,hl=0,PC=0;function It(){throw Error(K(321))}function Ym(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Qm(e,t,n,r,i,s){if(Ts=s,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vu.current=e===null||e.memoizedState===null?RC:$C,e=n(r,i),zo){s=0;do{if(zo=!1,hl=0,25<=s)throw Error(K(301));s+=1,mt=ot=null,t.updateQueue=null,Vu.current=FC,e=n(r,i)}while(zo)}if(Vu.current=Sc,t=ot!==null&&ot.next!==null,Ts=0,mt=ot=Qe=null,bc=!1,t)throw Error(K(300));return e}function Xm(){var e=hl!==0;return hl=0,e}function yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Qe.memoizedState=mt=e:mt=mt.next=e,mt}function qn(){if(ot===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=mt===null?Qe.memoizedState:mt.next;if(t!==null)mt=t,ot=e;else{if(e===null)throw Error(K(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},mt===null?Qe.memoizedState=mt=e:mt=mt.next=e}return mt}function pl(e,t){return typeof t=="function"?t(e):t}function Kf(e){var t=qn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Ts&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,Qe.lanes|=c,Cs|=c}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,or(r,t.memoizedState)||(Xt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Qe.lanes|=s,Cs|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yf(e){var t=qn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);or(s,t.memoizedState)||(Xt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function h_(){}function p_(e,t){var n=Qe,r=qn(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,Xt=!0),r=r.queue,Jm(y_.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,ml(9,g_.bind(null,n,r,i,t),void 0,null),yt===null)throw Error(K(349));(Ts&30)!==0||m_(n,t,i)}return i}function m_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function g_(e,t,n,r){t.value=n,t.getSnapshot=r,v_(t)&&w_(e)}function y_(e,t,n){return n(function(){v_(t)&&w_(e)})}function v_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch{return!0}}function w_(e){var t=Qr(e,1);t!==null&&ar(t,e,1,-1)}function Wy(e){var t=yr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:e},t.queue=e,e=e.dispatch=kC.bind(null,Qe,e),[t.memoizedState,e]}function ml(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function __(){return qn().memoizedState}function Hu(e,t,n,r){var i=yr();Qe.flags|=e,i.memoizedState=ml(1|t,n,void 0,r===void 0?null:r)}function pd(e,t,n,r){var i=qn();r=r===void 0?null:r;var s=void 0;if(ot!==null){var a=ot.memoizedState;if(s=a.destroy,r!==null&&Ym(r,a.deps)){i.memoizedState=ml(t,n,s,r);return}}Qe.flags|=e,i.memoizedState=ml(1|t,n,s,r)}function qy(e,t){return Hu(8390656,8,e,t)}function Jm(e,t){return pd(2048,8,e,t)}function b_(e,t){return pd(4,2,e,t)}function S_(e,t){return pd(4,4,e,t)}function E_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function x_(e,t,n){return n=n!=null?n.concat([e]):null,pd(4,4,E_.bind(null,t,e),n)}function Zm(){}function A_(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ym(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function T_(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ym(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function C_(e,t,n){return(Ts&21)===0?(e.baseState&&(e.baseState=!1,Xt=!0),e.memoizedState=n):(or(n,t)||(n=O2(),Qe.lanes|=n,Cs|=n,e.baseState=!0),t)}function OC(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var r=Gf.transition;Gf.transition={};try{e(!1),t()}finally{Te=n,Gf.transition=r}}function I_(){return qn().memoizedState}function NC(e,t,n){var r=$i(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P_(e))O_(t,n);else if(n=a_(e,t,n,r),n!==null){var i=jt();ar(n,e,r,i),N_(n,t,r)}}function kC(e,t,n){var r=$i(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P_(e))O_(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;l===null?(i.next=i,Hm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=a_(e,t,i,r),n!==null&&(i=jt(),ar(n,e,r,i),N_(n,t,r))}}function P_(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function O_(e,t){zo=bc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function N_(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Om(e,n)}}var Sc={readContext:Wn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},RC={readContext:Wn,useCallback:function(e,t){return yr().memoizedState=[e,t===void 0?null:t],e},useContext:Wn,useEffect:qy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hu(4194308,4,E_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hu(4,2,e,t)},useMemo:function(e,t){var n=yr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=NC.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=yr();return e={current:e},t.memoizedState=e},useState:Wy,useDebugValue:Zm,useDeferredValue:function(e){return yr().memoizedState=e},useTransition:function(){var e=Wy(!1),t=e[0];return e=OC.bind(null,e[1]),yr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qe,i=yr();if(We){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),yt===null)throw Error(K(349));(Ts&30)!==0||m_(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qy(y_.bind(null,r,s,e),[e]),r.flags|=2048,ml(9,g_.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=yr(),t=yt.identifierPrefix;if(We){var n=zr,r=jr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=PC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$C={readContext:Wn,useCallback:A_,useContext:Wn,useEffect:Jm,useImperativeHandle:x_,useInsertionEffect:b_,useLayoutEffect:S_,useMemo:T_,useReducer:Kf,useRef:__,useState:function(){return Kf(pl)},useDebugValue:Zm,useDeferredValue:function(e){var t=qn();return C_(t,ot.memoizedState,e)},useTransition:function(){var e=Kf(pl)[0],t=qn().memoizedState;return[e,t]},useMutableSource:h_,useSyncExternalStore:p_,useId:I_,unstable_isNewReconciler:!1},FC={readContext:Wn,useCallback:A_,useContext:Wn,useEffect:Jm,useImperativeHandle:x_,useInsertionEffect:b_,useLayoutEffect:S_,useMemo:T_,useReducer:Yf,useRef:__,useState:function(){return Yf(pl)},useDebugValue:Zm,useDeferredValue:function(e){var t=qn();return ot===null?t.memoizedState=e:C_(t,ot.memoizedState,e)},useTransition:function(){var e=Yf(pl)[0],t=qn().memoizedState;return[e,t]},useMutableSource:h_,useSyncExternalStore:p_,useId:I_,unstable_isNewReconciler:!1};function La(e,t){try{var n="",r=t;do n+=uT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Qf(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function up(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var DC=typeof WeakMap=="function"?WeakMap:Map;function k_(e,t,n){n=Wr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xc||(xc=!0,wp=r),up(e,t)},n}function R_(e,t,n){n=Wr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){up(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){up(e,t),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Gy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new DC;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=QC.bind(null,e,t,n),t.then(e,e))}function Ky(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yy(e,t,n,r,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wr(-1,1),t.tag=2,ki(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var MC=ni.ReactCurrentOwner,Xt=!1;function Ut(e,t,n,r){t.child=e===null?d_(t,null,n,r):Da(t,e.child,n,r)}function Qy(e,t,n,r,i){n=n.render;var s=t.ref;return Ca(t,i),r=Qm(e,t,n,r,s,i),n=Xm(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xr(e,t,i)):(We&&n&&Lm(t),t.flags|=1,Ut(e,t,r,i),t.child)}function Xy(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!o0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,$_(e,t,s,r,i)):(e=Ku(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&i)===0){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ol,n(a,r)&&e.ref===t.ref)return Xr(e,t,i)}return t.flags|=1,e=Fi(s,r),e.ref=t.ref,e.return=t,t.child=e}function $_(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ol(s,r)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)(e.flags&131072)!==0&&(Xt=!0);else return t.lanes=e.lanes,Xr(e,t,i)}return cp(e,t,n,r,i)}function F_(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(wa,hn),hn|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(wa,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(wa,hn),hn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,$e(wa,hn),hn|=r;return Ut(e,t,i,n),t.child}function D_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function cp(e,t,n,r,i){var s=en(n)?xs:$t.current;return s=$a(t,s),Ca(t,i),n=Qm(e,t,n,r,s,i),r=Xm(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xr(e,t,i)):(We&&r&&Lm(t),t.flags|=1,Ut(e,t,n,i),t.child)}function Jy(e,t,n,r,i){if(en(n)){var s=!0;pc(t)}else s=!1;if(Ca(t,i),t.stateNode===null)Wu(e,t),u_(t,n,r),lp(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wn(u):(u=en(n)?xs:$t.current,u=$a(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Vy(t,a,r,u),mi=!1;var d=t.memoizedState;a.state=d,wc(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Zt.current||mi?(typeof c=="function"&&(op(t,n,c,r),l=t.memoizedState),(o=mi||zy(t,n,o,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,o_(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:er(t.type,o),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=en(n)?xs:$t.current,l=$a(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==l)&&Vy(t,a,r,l),mi=!1,d=t.memoizedState,a.state=d,wc(t,r,a,i);var g=t.memoizedState;o!==f||d!==g||Zt.current||mi?(typeof p=="function"&&(op(t,n,p,r),g=t.memoizedState),(u=mi||zy(t,n,u,r,d,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return dp(e,t,n,r,s,i)}function dp(e,t,n,r,i,s){D_(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&My(t,n,!1),Xr(e,t,s);r=t.stateNode,MC.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Da(t,e.child,null,s),t.child=Da(t,null,o,s)):Ut(e,t,o,s),t.memoizedState=r.state,i&&My(t,n,!0),t.child}function M_(e){var t=e.stateNode;t.pendingContext?Dy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dy(e,t.context,!1),qm(e,t.containerInfo)}function Zy(e,t,n,r,i){return Fa(),Bm(i),t.flags|=256,Ut(e,t,n,r),t.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function hp(e){return{baseLanes:e,cachePool:null,transitions:null}}function L_(e,t,n){var r=t.pendingProps,i=Ke.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$e(Ke,i&1),e===null)return sp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=a):s=yd(a,r,0,null),e=bs(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=hp(n),t.memoizedState=fp,e):e0(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return LC(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return(a&1)===0&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Fi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Fi(o,s):(s=bs(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?hp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=fp,r}return s=e.child,e=s.sibling,r=Fi(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function e0(e,t){return t=yd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xu(e,t,n,r){return r!==null&&Bm(r),Da(t,e.child,null,n),e=e0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LC(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Qf(Error(K(422))),xu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=yd({mode:"visible",children:r.children},i,0,null),s=bs(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&Da(t,e.child,null,a),t.child.memoizedState=hp(a),t.memoizedState=fp,s);if((t.mode&1)===0)return xu(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(K(419)),r=Qf(s,r,void 0),xu(e,t,a,r)}if(o=(a&e.childLanes)!==0,Xt||o){if(r=yt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|a))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qr(e,i),ar(r,e,i,-1))}return a0(),r=Qf(Error(K(421))),xu(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=XC.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,yn=Ni(i.nextSibling),Sn=t,We=!0,nr=null,e!==null&&(jn[zn++]=jr,jn[zn++]=zr,jn[zn++]=As,jr=e.id,zr=e.overflow,As=t),t=e0(t,r.children),t.flags|=4096,t)}function e1(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ap(e.return,t,n)}function Xf(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function U_(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ut(e,t,r.children,n),r=Ke.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&e1(e,n,t);else if(e.tag===19)e1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Ke,r),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_c(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xf(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_c(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xf(t,!0,n,null,s);break;case"together":Xf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cs|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Fi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function UC(e,t,n){switch(t.tag){case 3:M_(t),Fa();break;case 5:f_(t);break;case 1:en(t.type)&&pc(t);break;case 4:qm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$e(yc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(Ke,Ke.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?L_(e,t,n):($e(Ke,Ke.current&1),e=Xr(e,t,n),e!==null?e.sibling:null);$e(Ke,Ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return U_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Ke,Ke.current),r)break;return null;case 22:case 23:return t.lanes=0,F_(e,t,n)}return Xr(e,t,n)}var B_,pp,j_,z_;B_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pp=function(){};j_=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,gs(xr.current);var s=null;switch(n){case"input":i=Dh(e,i),r=Dh(e,r),s=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),s=[];break;case"textarea":i=Uh(e,i),r=Uh(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fc)}jh(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(el.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(el.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};z_=function(e,t,n,r){n!==r&&(t.flags|=4)};function xo(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function BC(e,t,n){var r=t.pendingProps;switch(Um(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return en(t.type)&&hc(),Pt(t),null;case 3:return r=t.stateNode,Ma(),ze(Zt),ze($t),Km(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Su(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,nr!==null&&(Sp(nr),nr=null))),pp(e,t),Pt(t),null;case 5:Gm(t);var i=gs(fl.current);if(n=t.type,e!==null&&t.stateNode!=null)j_(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return Pt(t),null}if(e=gs(xr.current),Su(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[_r]=t,r[cl]=s,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<Ro.length;i++)Le(Ro[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":uy(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":dy(r,s),Le("invalid",r)}jh(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&bu(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&bu(r.textContent,o,e),i=["children",""+o]):el.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Le("scroll",r)}switch(n){case"input":hu(r),cy(r,s,!0);break;case"textarea":hu(r),fy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=m2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[_r]=t,e[cl]=r,B_(e,t,!1,!1),t.stateNode=e;e:{switch(a=zh(n,r),n){case"dialog":Le("cancel",e),Le("close",e),i=r;break;case"iframe":case"object":case"embed":Le("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ro.length;i++)Le(Ro[i],e);i=r;break;case"source":Le("error",e),i=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=r;break;case"details":Le("toggle",e),i=r;break;case"input":uy(e,r),i=Dh(e,r),Le("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),Le("invalid",e);break;case"textarea":dy(e,r),i=Uh(e,r),Le("invalid",e);break;default:i=r}jh(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?v2(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&g2(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&tl(e,l):typeof l=="number"&&tl(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(el.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Le("scroll",e):l!=null&&xm(e,s,l,a))}switch(n){case"input":hu(e),cy(e,r,!1);break;case"textarea":hu(e),fy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bi(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ea(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ea(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)z_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=gs(fl.current),gs(xr.current),Su(t)){if(r=t.stateNode,n=t.memoizedProps,r[_r]=t,(s=r.nodeValue!==n)&&(e=Sn,e!==null))switch(e.tag){case 3:bu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bu(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=t,t.stateNode=r}return Pt(t),null;case 13:if(ze(Ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&yn!==null&&(t.mode&1)!==0&&(t.flags&128)===0)s_(),Fa(),t.flags|=98560,s=!1;else if(s=Su(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(K(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[_r]=t}else Fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pt(t),s=!1}else nr!==null&&(Sp(nr),nr=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ke.current&1)!==0?dt===0&&(dt=3):a0())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return Ma(),pp(e,t),e===null&&ll(t.stateNode.containerInfo),Pt(t),null;case 10:return Vm(t.type._context),Pt(t),null;case 17:return en(t.type)&&hc(),Pt(t),null;case 19:if(ze(Ke),s=t.memoizedState,s===null)return Pt(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)xo(s,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=_c(e),a!==null){for(t.flags|=128,xo(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Ke,Ke.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>Ua&&(t.flags|=128,r=!0,xo(s,!1),t.lanes=4194304)}else{if(!r)if(e=_c(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!We)return Pt(t),null}else 2*nt()-s.renderingStartTime>Ua&&n!==1073741824&&(t.flags|=128,r=!0,xo(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,n=Ke.current,$e(Ke,r?n&1|2:n&1),t):(Pt(t),null);case 22:case 23:return s0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(hn&1073741824)!==0&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function jC(e,t){switch(Um(t),t.tag){case 1:return en(t.type)&&hc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ma(),ze(Zt),ze($t),Km(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Gm(t),null;case 13:if(ze(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ke),null;case 4:return Ma(),null;case 10:return Vm(t.type._context),null;case 22:case 23:return s0(),null;case 24:return null;default:return null}}var Au=!1,kt=!1,zC=typeof WeakSet=="function"?WeakSet:Set,ne=null;function va(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(e,t,r)}else n.current=null}function mp(e,t,n){try{n()}catch(r){Ze(e,t,r)}}var t1=!1;function VC(e,t){if(Jh=uc,e=q2(),Mm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++u===i&&(o=a),d===s&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zh={focusedElem:e,selectionRange:n},uc=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var g=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:er(t.type,y),b);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(E){Ze(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return g=t1,t1=!1,g}function Vo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&mp(t,n,s)}i=i.next}while(i!==r)}}function md(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function V_(e){var t=e.alternate;t!==null&&(e.alternate=null,V_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_r],delete t[cl],delete t[np],delete t[AC],delete t[TC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function H_(e){return e.tag===5||e.tag===3||e.tag===4}function n1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||H_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fc));else if(r!==4&&(e=e.child,e!==null))for(yp(e,t,n),e=e.sibling;e!==null;)yp(e,t,n),e=e.sibling}function vp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vp(e,t,n),e=e.sibling;e!==null;)vp(e,t,n),e=e.sibling}var _t=null,tr=!1;function di(e,t,n){for(n=n.child;n!==null;)W_(e,t,n),n=n.sibling}function W_(e,t,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(od,n)}catch{}switch(n.tag){case 5:kt||va(n,t);case 6:var r=_t,i=tr;_t=null,di(e,t,n),_t=r,tr=i,_t!==null&&(tr?(e=_t,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(tr?(e=_t,n=n.stateNode,e.nodeType===8?Hf(e.parentNode,n):e.nodeType===1&&Hf(e,n),sl(e)):Hf(_t,n.stateNode));break;case 4:r=_t,i=tr,_t=n.stateNode.containerInfo,tr=!0,di(e,t,n),_t=r,tr=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&((s&2)!==0||(s&4)!==0)&&mp(n,t,a),i=i.next}while(i!==r)}di(e,t,n);break;case 1:if(!kt&&(va(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ze(n,t,o)}di(e,t,n);break;case 21:di(e,t,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,di(e,t,n),kt=r):di(e,t,n);break;default:di(e,t,n)}}function r1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zC),t.forEach(function(r){var i=JC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:_t=o.stateNode,tr=!1;break e;case 3:_t=o.stateNode.containerInfo,tr=!0;break e;case 4:_t=o.stateNode.containerInfo,tr=!0;break e}o=o.return}if(_t===null)throw Error(K(160));W_(s,a,i),_t=null,tr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ze(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)q_(t,e),t=t.sibling}function q_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xn(t,e),gr(e),r&4){try{Vo(3,e,e.return),md(3,e)}catch(y){Ze(e,e.return,y)}try{Vo(5,e,e.return)}catch(y){Ze(e,e.return,y)}}break;case 1:Xn(t,e),gr(e),r&512&&n!==null&&va(n,n.return);break;case 5:if(Xn(t,e),gr(e),r&512&&n!==null&&va(n,n.return),e.flags&32){var i=e.stateNode;try{tl(i,"")}catch(y){Ze(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&h2(i,s),zh(o,a);var u=zh(o,s);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?v2(i,f):c==="dangerouslySetInnerHTML"?g2(i,f):c==="children"?tl(i,f):xm(i,c,f,u)}switch(o){case"input":Mh(i,s);break;case"textarea":p2(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ea(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ea(i,!!s.multiple,s.defaultValue,!0):Ea(i,!!s.multiple,s.multiple?[]:"",!1))}i[cl]=s}catch(y){Ze(e,e.return,y)}}break;case 6:if(Xn(t,e),gr(e),r&4){if(e.stateNode===null)throw Error(K(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){Ze(e,e.return,y)}}break;case 3:if(Xn(t,e),gr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sl(t.containerInfo)}catch(y){Ze(e,e.return,y)}break;case 4:Xn(t,e),gr(e);break;case 13:Xn(t,e),gr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(r0=nt())),r&4&&r1(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(kt=(u=kt)||c,Xn(t,e),kt=u):Xn(t,e),gr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&(e.mode&1)!==0)for(ne=e,c=e.child;c!==null;){for(f=ne=c;ne!==null;){switch(d=ne,p=d.child,d.tag){case 0:case 11:case 14:case 15:Vo(4,d,d.return);break;case 1:va(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Ze(r,n,y)}}break;case 5:va(d,d.return);break;case 22:if(d.memoizedState!==null){s1(f);continue}}p!==null?(p.return=d,ne=p):s1(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=y2("display",a))}catch(y){Ze(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Ze(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xn(t,e),gr(e),r&4&&r1(e);break;case 21:break;default:Xn(t,e),gr(e)}}function gr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(H_(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tl(i,""),r.flags&=-33);var s=n1(e);vp(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=n1(e);yp(e,o,a);break;default:throw Error(K(161))}}catch(l){Ze(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HC(e,t,n){ne=e,G_(e)}function G_(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Au;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||kt;o=Au;var u=kt;if(Au=a,(kt=l)&&!u)for(ne=i;ne!==null;)a=ne,l=a.child,a.tag===22&&a.memoizedState!==null?a1(i):l!==null?(l.return=a,ne=l):a1(i);for(;s!==null;)ne=s,G_(s),s=s.sibling;ne=i,Au=o,kt=u}i1(e)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,ne=s):i1(e)}}function i1(e){for(;ne!==null;){var t=ne;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:kt||md(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:er(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&jy(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jy(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&sl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}kt||t.flags&512&&gp(t)}catch(d){Ze(t,t.return,d)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function s1(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function a1(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{md(4,t)}catch(l){Ze(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ze(t,i,l)}}var s=t.return;try{gp(t)}catch(l){Ze(t,s,l)}break;case 5:var a=t.return;try{gp(t)}catch(l){Ze(t,a,l)}}}catch(l){Ze(t,t.return,l)}if(t===e){ne=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ne=o;break}ne=t.return}}var WC=Math.ceil,Ec=ni.ReactCurrentDispatcher,t0=ni.ReactCurrentOwner,Hn=ni.ReactCurrentBatchConfig,we=0,yt=null,st=null,At=0,hn=0,wa=Yi(0),dt=0,gl=null,Cs=0,gd=0,n0=0,Ho=null,Yt=null,r0=0,Ua=1/0,Lr=null,xc=!1,wp=null,Ri=null,Tu=!1,Ti=null,Ac=0,Wo=0,_p=null,qu=-1,Gu=0;function jt(){return(we&6)!==0?nt():qu!==-1?qu:qu=nt()}function $i(e){return(e.mode&1)===0?1:(we&2)!==0&&At!==0?At&-At:IC.transition!==null?(Gu===0&&(Gu=O2()),Gu):(e=Te,e!==0||(e=window.event,e=e===void 0?16:M2(e.type)),e)}function ar(e,t,n,r){if(50<Wo)throw Wo=0,_p=null,Error(K(185));$l(e,n,r),((we&2)===0||e!==yt)&&(e===yt&&((we&2)===0&&(gd|=n),dt===4&&vi(e,At)),tn(e,r),n===1&&we===0&&(t.mode&1)===0&&(Ua=nt()+500,fd&&Qi()))}function tn(e,t){var n=e.callbackNode;IT(e,t);var r=lc(e,e===yt?At:0);if(r===0)n!==null&&my(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&my(n),t===1)e.tag===0?CC(o1.bind(null,e)):n_(o1.bind(null,e)),EC(function(){(we&6)===0&&Qi()}),n=null;else{switch(N2(r)){case 1:n=Pm;break;case 4:n=I2;break;case 16:n=oc;break;case 536870912:n=P2;break;default:n=oc}n=tb(n,K_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function K_(e,t){if(qu=-1,Gu=0,(we&6)!==0)throw Error(K(327));var n=e.callbackNode;if(Ia()&&e.callbackNode!==n)return null;var r=lc(e,e===yt?At:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Tc(e,r);else{t=r;var i=we;we|=2;var s=Q_();(yt!==e||At!==t)&&(Lr=null,Ua=nt()+500,_s(e,t));do try{KC();break}catch(o){Y_(e,o)}while(1);zm(),Ec.current=s,we=i,st!==null?t=0:(yt=null,At=0,t=dt)}if(t!==0){if(t===2&&(i=Gh(e),i!==0&&(r=i,t=bp(e,i))),t===1)throw n=gl,_s(e,0),vi(e,r),tn(e,nt()),n;if(t===6)vi(e,r);else{if(i=e.current.alternate,(r&30)===0&&!qC(i)&&(t=Tc(e,r),t===2&&(s=Gh(e),s!==0&&(r=s,t=bp(e,s))),t===1))throw n=gl,_s(e,0),vi(e,r),tn(e,nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:as(e,Yt,Lr);break;case 3:if(vi(e,r),(r&130023424)===r&&(t=r0+500-nt(),10<t)){if(lc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){jt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=tp(as.bind(null,e,Yt,Lr),t);break}as(e,Yt,Lr);break;case 4:if(vi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-sr(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WC(r/1960))-r,10<r){e.timeoutHandle=tp(as.bind(null,e,Yt,Lr),r);break}as(e,Yt,Lr);break;case 5:as(e,Yt,Lr);break;default:throw Error(K(329))}}}return tn(e,nt()),e.callbackNode===n?K_.bind(null,e):null}function bp(e,t){var n=Ho;return e.current.memoizedState.isDehydrated&&(_s(e,t).flags|=256),e=Tc(e,t),e!==2&&(t=Yt,Yt=n,t!==null&&Sp(t)),e}function Sp(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function qC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vi(e,t){for(t&=~n0,t&=~gd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sr(t),r=1<<n;e[n]=-1,t&=~r}}function o1(e){if((we&6)!==0)throw Error(K(327));Ia();var t=lc(e,0);if((t&1)===0)return tn(e,nt()),null;var n=Tc(e,t);if(e.tag!==0&&n===2){var r=Gh(e);r!==0&&(t=r,n=bp(e,r))}if(n===1)throw n=gl,_s(e,0),vi(e,t),tn(e,nt()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,as(e,Yt,Lr),tn(e,nt()),null}function i0(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(Ua=nt()+500,fd&&Qi())}}function Is(e){Ti!==null&&Ti.tag===0&&(we&6)===0&&Ia();var t=we;we|=1;var n=Hn.transition,r=Te;try{if(Hn.transition=null,Te=1,e)return e()}finally{Te=r,Hn.transition=n,we=t,(we&6)===0&&Qi()}}function s0(){hn=wa.current,ze(wa)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,SC(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(Um(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hc();break;case 3:Ma(),ze(Zt),ze($t),Km();break;case 5:Gm(r);break;case 4:Ma();break;case 13:ze(Ke);break;case 19:ze(Ke);break;case 10:Vm(r.type._context);break;case 22:case 23:s0()}n=n.return}if(yt=e,st=e=Fi(e.current,null),At=hn=t,dt=0,gl=null,n0=gd=Cs=0,Yt=Ho=null,ms!==null){for(t=0;t<ms.length;t++)if(n=ms[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ms=null}return e}function Y_(e,t){do{var n=st;try{if(zm(),Vu.current=Sc,bc){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bc=!1}if(Ts=0,mt=ot=Qe=null,zo=!1,hl=0,t0.current=null,n===null||n.return===null){dt=1,gl=t,st=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=At,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if((c.mode&1)===0&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Ky(a);if(p!==null){p.flags&=-257,Yy(p,a,o,s,t),p.mode&1&&Gy(s,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if((t&1)===0){Gy(s,u,t),a0();break e}l=Error(K(426))}}else if(We&&o.mode&1){var b=Ky(a);if(b!==null){(b.flags&65536)===0&&(b.flags|=256),Yy(b,a,o,s,t),Bm(La(l,o));break e}}s=l=La(l,o),dt!==4&&(dt=2),Ho===null?Ho=[s]:Ho.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=k_(s,l,t);By(s,m);break e;case 1:o=l;var v=s.type,w=s.stateNode;if((s.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ri===null||!Ri.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=R_(s,o,t);By(s,E);break e}}s=s.return}while(s!==null)}J_(n)}catch(N){t=N,st===n&&n!==null&&(st=n=n.return);continue}break}while(1)}function Q_(){var e=Ec.current;return Ec.current=Sc,e===null?Sc:e}function a0(){(dt===0||dt===3||dt===2)&&(dt=4),yt===null||(Cs&268435455)===0&&(gd&268435455)===0||vi(yt,At)}function Tc(e,t){var n=we;we|=2;var r=Q_();(yt!==e||At!==t)&&(Lr=null,_s(e,t));do try{GC();break}catch(i){Y_(e,i)}while(1);if(zm(),we=n,Ec.current=r,st!==null)throw Error(K(261));return yt=null,At=0,dt}function GC(){for(;st!==null;)X_(st)}function KC(){for(;st!==null&&!wT();)X_(st)}function X_(e){var t=eb(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?J_(e):st=t,t0.current=null}function J_(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=BC(n,t,hn),n!==null){st=n;return}}else{if(n=jC(n,t),n!==null){n.flags&=32767,st=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,st=null;return}}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);dt===0&&(dt=5)}function as(e,t,n){var r=Te,i=Hn.transition;try{Hn.transition=null,Te=1,YC(e,t,n,r)}finally{Hn.transition=i,Te=r}return null}function YC(e,t,n,r){do Ia();while(Ti!==null);if((we&6)!==0)throw Error(K(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(PT(e,s),e===yt&&(st=yt=null,At=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Tu||(Tu=!0,tb(oc,function(){return Ia(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Hn.transition,Hn.transition=null;var a=Te;Te=1;var o=we;we|=4,t0.current=null,VC(e,n),q_(n,e),mC(Zh),uc=!!Jh,Zh=Jh=null,e.current=n,HC(n),_T(),we=o,Te=a,Hn.transition=s}else e.current=n;if(Tu&&(Tu=!1,Ti=e,Ac=i),s=e.pendingLanes,s===0&&(Ri=null),ET(n.stateNode),tn(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xc)throw xc=!1,e=wp,wp=null,e;return(Ac&1)!==0&&e.tag!==0&&Ia(),s=e.pendingLanes,(s&1)!==0?e===_p?Wo++:(Wo=0,_p=e):Wo=0,Qi(),null}function Ia(){if(Ti!==null){var e=N2(Ac),t=Hn.transition,n=Te;try{if(Hn.transition=null,Te=16>e?16:e,Ti===null)var r=!1;else{if(e=Ti,Ti=null,Ac=0,(we&6)!==0)throw Error(K(331));var i=we;for(we|=4,ne=e.current;ne!==null;){var s=ne,a=s.child;if((ne.flags&16)!==0){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ne=u;ne!==null;){var c=ne;switch(c.tag){case 0:case 11:case 15:Vo(8,c,s)}var f=c.child;if(f!==null)f.return=c,ne=f;else for(;ne!==null;){c=ne;var d=c.sibling,p=c.return;if(V_(c),c===u){ne=null;break}if(d!==null){d.return=p,ne=d;break}ne=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ne=s}}if((s.subtreeFlags&2064)!==0&&a!==null)a.return=s,ne=a;else e:for(;ne!==null;){if(s=ne,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Vo(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ne=m;break e}ne=s.return}}var v=e.current;for(ne=v;ne!==null;){a=ne;var w=a.child;if((a.subtreeFlags&2064)!==0&&w!==null)w.return=a,ne=w;else e:for(a=v;ne!==null;){if(o=ne,(o.flags&2048)!==0)try{switch(o.tag){case 0:case 11:case 15:md(9,o)}}catch(N){Ze(o,o.return,N)}if(o===a){ne=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,ne=E;break e}ne=o.return}}if(we=i,Qi(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(od,e)}catch{}r=!0}return r}finally{Te=n,Hn.transition=t}}return!1}function l1(e,t,n){t=La(n,t),t=k_(e,t,1),e=ki(e,t,1),t=jt(),e!==null&&($l(e,1,t),tn(e,t))}function Ze(e,t,n){if(e.tag===3)l1(e,e,n);else for(;t!==null;){if(t.tag===3){l1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){e=La(n,e),e=R_(t,e,1),t=ki(t,e,1),e=jt(),t!==null&&($l(t,1,e),tn(t,e));break}}t=t.return}}function QC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&n,yt===e&&(At&n)===n&&(dt===4||dt===3&&(At&130023424)===At&&500>nt()-r0?_s(e,0):n0|=n),tn(e,t)}function Z_(e,t){t===0&&((e.mode&1)===0?t=1:(t=gu,gu<<=1,(gu&130023424)===0&&(gu=4194304)));var n=jt();e=Qr(e,t),e!==null&&($l(e,t,n),tn(e,n))}function XC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Z_(e,n)}function JC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),Z_(e,n)}var eb;eb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)Xt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Xt=!1,UC(e,t,n);Xt=(e.flags&131072)!==0}else Xt=!1,We&&(t.flags&1048576)!==0&&r_(t,gc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=$a(t,$t.current);Ca(t,n),i=Qm(null,t,r,e,i,n);var s=Xm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,en(r)?(s=!0,pc(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wm(t),i.updater=hd,t.stateNode=i,i._reactInternals=t,lp(t,r,e,n),t=dp(null,t,r,!0,s,n)):(t.tag=0,We&&s&&Lm(t),Ut(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=e4(r),e=er(r,e),i){case 0:t=cp(null,t,r,e,n);break e;case 1:t=Jy(null,t,r,e,n);break e;case 11:t=Qy(null,t,r,e,n);break e;case 14:t=Xy(null,t,r,er(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:er(r,i),cp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:er(r,i),Jy(e,t,r,i,n);case 3:e:{if(M_(t),e===null)throw Error(K(387));r=t.pendingProps,s=t.memoizedState,i=s.element,o_(e,t),wc(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=La(Error(K(423)),t),t=Zy(e,t,r,n,i);break e}else if(r!==i){i=La(Error(K(424)),t),t=Zy(e,t,r,n,i);break e}else for(yn=Ni(t.stateNode.containerInfo.firstChild),Sn=t,We=!0,nr=null,n=d_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fa(),r===i){t=Xr(e,t,n);break e}Ut(e,t,r,n)}t=t.child}return t;case 5:return f_(t),e===null&&sp(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,ep(r,i)?a=null:s!==null&&ep(r,s)&&(t.flags|=32),D_(e,t),Ut(e,t,a,n),t.child;case 6:return e===null&&sp(t),null;case 13:return L_(e,t,n);case 4:return qm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Da(t,null,r,n):Ut(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:er(r,i),Qy(e,t,r,i,n);case 7:return Ut(e,t,t.pendingProps,n),t.child;case 8:return Ut(e,t,t.pendingProps.children,n),t.child;case 12:return Ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,$e(yc,r._currentValue),r._currentValue=a,s!==null)if(or(s.value,a)){if(s.children===i.children&&!Zt.current){t=Xr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Wr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ap(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(K(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),ap(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ut(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),i=Wn(i),r=r(i),t.flags|=1,Ut(e,t,r,n),t.child;case 14:return r=t.type,i=er(r,t.pendingProps),i=er(r.type,i),Xy(e,t,r,i,n);case 15:return $_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:er(r,i),Wu(e,t),t.tag=1,en(r)?(e=!0,pc(t)):e=!1,Ca(t,n),u_(t,r,i),lp(t,r,i,n),dp(null,t,r,!0,e,n);case 19:return U_(e,t,n);case 22:return F_(e,t,n)}throw Error(K(156,t.tag))};function tb(e,t){return C2(e,t)}function ZC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,t,n,r){return new ZC(e,t,n,r)}function o0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function e4(e){if(typeof e=="function")return o0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tm)return 11;if(e===Cm)return 14}return 2}function Fi(e,t){var n=e.alternate;return n===null?(n=Vn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ku(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")o0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ua:return bs(n.children,i,s,t);case Am:a=8,i|=8;break;case kh:return e=Vn(12,n,t,i|2),e.elementType=kh,e.lanes=s,e;case Rh:return e=Vn(13,n,t,i),e.elementType=Rh,e.lanes=s,e;case $h:return e=Vn(19,n,t,i),e.elementType=$h,e.lanes=s,e;case c2:return yd(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case l2:a=10;break e;case u2:a=9;break e;case Tm:a=11;break e;case Cm:a=14;break e;case pi:a=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Vn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function bs(e,t,n,r){return e=Vn(7,e,r,t),e.lanes=n,e}function yd(e,t,n,r){return e=Vn(22,e,r,t),e.elementType=c2,e.lanes=n,e.stateNode={isHidden:!1},e}function Jf(e,t,n){return e=Vn(6,e,null,t),e.lanes=n,e}function Zf(e,t,n){return t=Vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function t4(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rf(0),this.expirationTimes=Rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l0(e,t,n,r,i,s,a,o,l){return e=new t4(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Vn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wm(s),e}function n4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:la,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nb(e){if(!e)return ji;e=e._reactInternals;e:{if(Hs(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(en(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(en(n))return t_(e,n,t)}return t}function rb(e,t,n,r,i,s,a,o,l){return e=l0(n,r,!0,e,i,s,a,o,l),e.context=nb(null),n=e.current,r=jt(),i=$i(n),s=Wr(r,i),s.callback=t!=null?t:null,ki(n,s,i),e.current.lanes=i,$l(e,i,r),tn(e,r),e}function vd(e,t,n,r){var i=t.current,s=jt(),a=$i(i);return n=nb(n),t.context===null?t.context=n:t.pendingContext=n,t=Wr(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ki(i,t,a),e!==null&&(ar(e,i,a,s),zu(e,i,a)),a}function Cc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function u1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function u0(e,t){u1(e,t),(e=e.alternate)&&u1(e,t)}function r4(){return null}var ib=typeof reportError=="function"?reportError:function(e){console.error(e)};function c0(e){this._internalRoot=e}wd.prototype.render=c0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));vd(e,t,null,null)};wd.prototype.unmount=c0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Is(function(){vd(null,e,null,null)}),t[Yr]=null}};function wd(e){this._internalRoot=e}wd.prototype.unstable_scheduleHydration=function(e){if(e){var t=$2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yi.length&&t!==0&&t<yi[n].priority;n++);yi.splice(n,0,e),n===0&&D2(e)}};function d0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function c1(){}function i4(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Cc(a);s.call(u)}}var a=rb(t,r,e,0,null,!1,!1,"",c1);return e._reactRootContainer=a,e[Yr]=a.current,ll(e.nodeType===8?e.parentNode:e),Is(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Cc(l);o.call(u)}}var l=l0(e,0,!1,null,null,!1,!1,"",c1);return e._reactRootContainer=l,e[Yr]=l.current,ll(e.nodeType===8?e.parentNode:e),Is(function(){vd(t,l,n,r)}),l}function bd(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Cc(a);o.call(l)}}vd(t,a,e,i)}else a=i4(n,t,e,i,r);return Cc(a)}k2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ko(t.pendingLanes);n!==0&&(Om(t,n|1),tn(t,nt()),(we&6)===0&&(Ua=nt()+500,Qi()))}break;case 13:Is(function(){var r=Qr(e,1);if(r!==null){var i=jt();ar(r,e,1,i)}}),u0(e,1)}};Nm=function(e){if(e.tag===13){var t=Qr(e,134217728);if(t!==null){var n=jt();ar(t,e,134217728,n)}u0(e,134217728)}};R2=function(e){if(e.tag===13){var t=$i(e),n=Qr(e,t);if(n!==null){var r=jt();ar(n,e,t,r)}u0(e,t)}};$2=function(){return Te};F2=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};Hh=function(e,t,n){switch(t){case"input":if(Mh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=dd(r);if(!i)throw Error(K(90));f2(r),Mh(r,i)}}}break;case"textarea":p2(e,n);break;case"select":t=n.value,t!=null&&Ea(e,!!n.multiple,t,!1)}};b2=i0;S2=Is;var s4={usingClientEntryPoint:!1,Events:[Dl,ha,dd,w2,_2,i0]},Ao={findFiberByHostInstance:ps,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},a4={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=A2(e),e===null?null:e.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance||r4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{od=Cu.inject(a4),Er=Cu}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s4;Cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d0(t))throw Error(K(200));return n4(e,t,null,n)};Cn.createRoot=function(e,t){if(!d0(e))throw Error(K(299));var n=!1,r="",i=ib;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=l0(e,1,!1,null,null,n,!1,r,i),e[Yr]=t.current,ll(e.nodeType===8?e.parentNode:e),new c0(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=A2(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return Is(e)};Cn.hydrate=function(e,t,n){if(!_d(t))throw Error(K(200));return bd(null,e,t,!0,n)};Cn.hydrateRoot=function(e,t,n){if(!d0(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=ib;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=rb(t,null,e,1,n!=null?n:null,i,!1,s,a),e[Yr]=t.current,ll(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new wd(t)};Cn.render=function(e,t,n){if(!_d(t))throw Error(K(200));return bd(null,e,t,!1,n)};Cn.unmountComponentAtNode=function(e){if(!_d(e))throw Error(K(40));return e._reactRootContainer?(Is(function(){bd(null,null,e,!1,function(){e._reactRootContainer=null,e[Yr]=null})}),!0):!1};Cn.unstable_batchedUpdates=i0;Cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_d(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return bd(e,t,n,!1,r)};Cn.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Cn})(ym);var d1=ym.exports;Oh.createRoot=d1.createRoot,Oh.hydrateRoot=d1.hydrateRoot;var sb={exports:{}},ab={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=$.exports;function o4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var l4=typeof Object.is=="function"?Object.is:o4,u4=Ba.useState,c4=Ba.useEffect,d4=Ba.useLayoutEffect,f4=Ba.useDebugValue;function h4(e,t){var n=t(),r=u4({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return d4(function(){i.value=n,i.getSnapshot=t,eh(i)&&s({inst:i})},[e,n,t]),c4(function(){return eh(i)&&s({inst:i}),e(function(){eh(i)&&s({inst:i})})},[e]),f4(n),n}function eh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!l4(e,n)}catch{return!0}}function p4(e,t){return t()}var m4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p4:h4;ab.useSyncExternalStore=Ba.useSyncExternalStore!==void 0?Ba.useSyncExternalStore:m4;(function(e){e.exports=ab})(sb);var ob={exports:{}},lb={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=$.exports,g4=sb.exports;function y4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var v4=typeof Object.is=="function"?Object.is:y4,w4=g4.useSyncExternalStore,_4=Sd.useRef,b4=Sd.useEffect,S4=Sd.useMemo,E4=Sd.useDebugValue;lb.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=_4(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=S4(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return f=g}return f=p}if(g=f,v4(c,p))return g;var y=r(p);return i!==void 0&&i(g,y)?g:(c=p,f=y)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var o=w4(e,s[0],s[1]);return b4(function(){a.hasValue=!0,a.value=o},[o]),E4(o),o};(function(e){e.exports=lb})(ob);function x4(e){e()}let ub=x4;const A4=e=>ub=e,T4=()=>ub,zi=rc.createContext(null);function cb(){return $.exports.useContext(zi)}const C4=()=>{throw new Error("uSES not initialized!")};let db=C4;const I4=e=>{db=e},P4=(e,t)=>e===t;function O4(e=zi){const t=e===zi?cb:()=>$.exports.useContext(e);return function(r,i=P4){const{store:s,subscription:a,getServerState:o}=t(),l=db(a.addNestedSub,s.getState,o||s.getState,r,i);return $.exports.useDebugValue(l),l}}const sn=O4();function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ic.apply(this,arguments)}var fb={exports:{}},Ce={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vt=typeof Symbol=="function"&&Symbol.for,f0=vt?Symbol.for("react.element"):60103,h0=vt?Symbol.for("react.portal"):60106,Ed=vt?Symbol.for("react.fragment"):60107,xd=vt?Symbol.for("react.strict_mode"):60108,Ad=vt?Symbol.for("react.profiler"):60114,Td=vt?Symbol.for("react.provider"):60109,Cd=vt?Symbol.for("react.context"):60110,p0=vt?Symbol.for("react.async_mode"):60111,Id=vt?Symbol.for("react.concurrent_mode"):60111,Pd=vt?Symbol.for("react.forward_ref"):60112,Od=vt?Symbol.for("react.suspense"):60113,N4=vt?Symbol.for("react.suspense_list"):60120,Nd=vt?Symbol.for("react.memo"):60115,kd=vt?Symbol.for("react.lazy"):60116,k4=vt?Symbol.for("react.block"):60121,R4=vt?Symbol.for("react.fundamental"):60117,$4=vt?Symbol.for("react.responder"):60118,F4=vt?Symbol.for("react.scope"):60119;function Pn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case f0:switch(e=e.type,e){case p0:case Id:case Ed:case Ad:case xd:case Od:return e;default:switch(e=e&&e.$$typeof,e){case Cd:case Pd:case kd:case Nd:case Td:return e;default:return t}}case h0:return t}}}function hb(e){return Pn(e)===Id}Ce.AsyncMode=p0;Ce.ConcurrentMode=Id;Ce.ContextConsumer=Cd;Ce.ContextProvider=Td;Ce.Element=f0;Ce.ForwardRef=Pd;Ce.Fragment=Ed;Ce.Lazy=kd;Ce.Memo=Nd;Ce.Portal=h0;Ce.Profiler=Ad;Ce.StrictMode=xd;Ce.Suspense=Od;Ce.isAsyncMode=function(e){return hb(e)||Pn(e)===p0};Ce.isConcurrentMode=hb;Ce.isContextConsumer=function(e){return Pn(e)===Cd};Ce.isContextProvider=function(e){return Pn(e)===Td};Ce.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===f0};Ce.isForwardRef=function(e){return Pn(e)===Pd};Ce.isFragment=function(e){return Pn(e)===Ed};Ce.isLazy=function(e){return Pn(e)===kd};Ce.isMemo=function(e){return Pn(e)===Nd};Ce.isPortal=function(e){return Pn(e)===h0};Ce.isProfiler=function(e){return Pn(e)===Ad};Ce.isStrictMode=function(e){return Pn(e)===xd};Ce.isSuspense=function(e){return Pn(e)===Od};Ce.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ed||e===Id||e===Ad||e===xd||e===Od||e===N4||typeof e=="object"&&e!==null&&(e.$$typeof===kd||e.$$typeof===Nd||e.$$typeof===Td||e.$$typeof===Cd||e.$$typeof===Pd||e.$$typeof===R4||e.$$typeof===$4||e.$$typeof===F4||e.$$typeof===k4)};Ce.typeOf=Pn;(function(e){e.exports=Ce})(fb);var pb=fb.exports,D4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},M4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mb={};mb[pb.ForwardRef]=D4;mb[pb.Memo]=M4;var L4={exports:{}},Ie={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0=Symbol.for("react.element"),g0=Symbol.for("react.portal"),Rd=Symbol.for("react.fragment"),$d=Symbol.for("react.strict_mode"),Fd=Symbol.for("react.profiler"),Dd=Symbol.for("react.provider"),Md=Symbol.for("react.context"),U4=Symbol.for("react.server_context"),Ld=Symbol.for("react.forward_ref"),Ud=Symbol.for("react.suspense"),Bd=Symbol.for("react.suspense_list"),jd=Symbol.for("react.memo"),zd=Symbol.for("react.lazy"),B4=Symbol.for("react.offscreen"),gb;gb=Symbol.for("react.module.reference");function Kn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case m0:switch(e=e.type,e){case Rd:case Fd:case $d:case Ud:case Bd:return e;default:switch(e=e&&e.$$typeof,e){case U4:case Md:case Ld:case zd:case jd:case Dd:return e;default:return t}}case g0:return t}}}Ie.ContextConsumer=Md;Ie.ContextProvider=Dd;Ie.Element=m0;Ie.ForwardRef=Ld;Ie.Fragment=Rd;Ie.Lazy=zd;Ie.Memo=jd;Ie.Portal=g0;Ie.Profiler=Fd;Ie.StrictMode=$d;Ie.Suspense=Ud;Ie.SuspenseList=Bd;Ie.isAsyncMode=function(){return!1};Ie.isConcurrentMode=function(){return!1};Ie.isContextConsumer=function(e){return Kn(e)===Md};Ie.isContextProvider=function(e){return Kn(e)===Dd};Ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===m0};Ie.isForwardRef=function(e){return Kn(e)===Ld};Ie.isFragment=function(e){return Kn(e)===Rd};Ie.isLazy=function(e){return Kn(e)===zd};Ie.isMemo=function(e){return Kn(e)===jd};Ie.isPortal=function(e){return Kn(e)===g0};Ie.isProfiler=function(e){return Kn(e)===Fd};Ie.isStrictMode=function(e){return Kn(e)===$d};Ie.isSuspense=function(e){return Kn(e)===Ud};Ie.isSuspenseList=function(e){return Kn(e)===Bd};Ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rd||e===Fd||e===$d||e===Ud||e===Bd||e===B4||typeof e=="object"&&e!==null&&(e.$$typeof===zd||e.$$typeof===jd||e.$$typeof===Dd||e.$$typeof===Md||e.$$typeof===Ld||e.$$typeof===gb||e.getModuleId!==void 0)};Ie.typeOf=Kn;(function(e){e.exports=Ie})(L4);function j4(){const e=T4();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const f1={notify(){},get:()=>[]};function z4(e,t){let n,r=f1;function i(f){return l(),r.subscribe(f)}function s(){r.notify()}function a(){c.onStateChange&&c.onStateChange()}function o(){return Boolean(n)}function l(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=j4())}function u(){n&&(n(),n=void 0,r.clear(),r=f1)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:a,isSubscribed:o,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const V4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H4=V4?$.exports.useLayoutEffect:$.exports.useEffect;var Vd={exports:{}},Hd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W4=$.exports,q4=Symbol.for("react.element"),G4=Symbol.for("react.fragment"),K4=Object.prototype.hasOwnProperty,Y4=W4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q4={key:!0,ref:!0,__self:!0,__source:!0};function yb(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)K4.call(t,r)&&!Q4.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:q4,type:e,key:s,ref:a,props:i,_owner:Y4.current}}Hd.Fragment=G4;Hd.jsx=yb;Hd.jsxs=yb;(function(e){e.exports=Hd})(Vd);const ge=Vd.exports.Fragment,h=Vd.exports.jsx,A=Vd.exports.jsxs;function X4({store:e,context:t,children:n,serverState:r}){const i=$.exports.useMemo(()=>{const o=z4(e);return{store:e,subscription:o,getServerState:r?()=>r:void 0}},[e,r]),s=$.exports.useMemo(()=>e.getState(),[e]);return H4(()=>{const{subscription:o}=i;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),s!==e.getState()&&o.notifyNestedSubs(),()=>{o.tryUnsubscribe(),o.onStateChange=void 0}},[i,s]),h((t||zi).Provider,{value:i,children:n})}function vb(e=zi){const t=e===zi?cb:()=>$.exports.useContext(e);return function(){const{store:r}=t();return r}}const J4=vb();function Z4(e=zi){const t=e===zi?J4:vb(e);return function(){return t().dispatch}}const Xi=Z4();I4(ob.exports.useSyncExternalStoreWithSelector);A4(ym.exports.unstable_batchedUpdates);var ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ys||(ys={}));var h1=function(e){return e},p1="beforeunload",eI="popstate";function tI(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,i=r.history;function s(){var P=r.location,_=P.pathname,x=P.search,O=P.hash,k=i.state||{};return[k.idx,h1({pathname:_,search:x,hash:O,state:k.usr||null,key:k.key||"default"})]}var a=null;function o(){if(a)p.call(a),a=null;else{var P=ys.Pop,_=s(),x=_[0],O=_[1];if(p.length){if(x!=null){var k=c-x;k&&(a={action:P,location:O,retry:function(){N(k*-1)}},N(k))}}else v(P)}}r.addEventListener(eI,o);var l=ys.Pop,u=s(),c=u[0],f=u[1],d=g1(),p=g1();c==null&&(c=0,i.replaceState(Ic({},i.state,{idx:c}),""));function g(P){return typeof P=="string"?P:Ep(P)}function y(P,_){return _===void 0&&(_=null),h1(Ic({pathname:f.pathname,hash:"",search:""},typeof P=="string"?Ws(P):P,{state:_,key:nI()}))}function b(P,_){return[{usr:P.state,key:P.key,idx:_},g(P)]}function m(P,_,x){return!p.length||(p.call({action:P,location:_,retry:x}),!1)}function v(P){l=P;var _=s();c=_[0],f=_[1],d.call({action:l,location:f})}function w(P,_){var x=ys.Push,O=y(P,_);function k(){w(P,_)}if(m(x,O,k)){var R=b(O,c+1),L=R[0],F=R[1];try{i.pushState(L,"",F)}catch{r.location.assign(F)}v(x)}}function E(P,_){var x=ys.Replace,O=y(P,_);function k(){E(P,_)}if(m(x,O,k)){var R=b(O,c),L=R[0],F=R[1];i.replaceState(L,"",F),v(x)}}function N(P){i.go(P)}var S={get action(){return l},get location(){return f},createHref:g,push:w,replace:E,go:N,back:function(){N(-1)},forward:function(){N(1)},listen:function(_){return d.push(_)},block:function(_){var x=p.push(_);return p.length===1&&r.addEventListener(p1,m1),function(){x(),p.length||r.removeEventListener(p1,m1)}}};return S}function m1(e){e.preventDefault(),e.returnValue=""}function g1(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function nI(){return Math.random().toString(36).substr(2,8)}function Ep(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,i=r===void 0?"":r,s=e.hash,a=s===void 0?"":s;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function Ws(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const y0=$.exports.createContext(null),v0=$.exports.createContext(null),Qa=$.exports.createContext({outlet:null,matches:[]});function lr(e,t){if(!e)throw new Error(t)}function rI(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ws(t):t,i=bb(r.pathname||"/",n);if(i==null)return null;let s=wb(e);iI(s);let a=null;for(let o=0;a==null&&o<s.length;++o)a=hI(s[o],i);return a}function wb(e,t,n,r){return t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=""),e.forEach((i,s)=>{let a={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||lr(!1),a.relativePath=a.relativePath.slice(r.length));let o=Di([r,a.relativePath]),l=n.concat(a);i.children&&i.children.length>0&&(i.index===!0&&lr(!1),wb(i.children,t,l,o)),!(i.path==null&&!i.index)&&t.push({path:o,score:dI(o,i.index),routesMeta:l})}),t}function iI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sI=/^:\w+$/,aI=3,oI=2,lI=1,uI=10,cI=-2,y1=e=>e==="*";function dI(e,t){let n=e.split("/"),r=n.length;return n.some(y1)&&(r+=cI),t&&(r+=oI),n.filter(i=>!y1(i)).reduce((i,s)=>i+(sI.test(s)?aI:s===""?lI:uI),r)}function fI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function hI(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let o=n[a],l=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=pI({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=o.route;s.push({params:r,pathname:Di([i,c.pathname]),pathnameBase:Sb(Di([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Di([i,c.pathnameBase]))}return s}function pI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=mI(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let d=o[f]||"";a=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=gI(o[f]||""),u},{}),pathname:s,pathnameBase:a,pattern:e}}function mI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(a,o)=>(r.push(o),"([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),r]}function gI(e,t){try{return decodeURIComponent(e)}catch{return e}}function yI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ws(e):e;return{pathname:n?n.startsWith("/")?n:vI(n,t):t,search:_I(r),hash:bI(i)}}function vI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _b(e,t,n){let r=typeof e=="string"?Ws(e):e,i=e===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=n;else{let o=t.length-1;if(i.startsWith("..")){let l=i.split("/");for(;l[0]==="..";)l.shift(),o-=1;r.pathname=l.join("/")}s=o>=0?t[o]:"/"}let a=yI(r,s);return i&&i!=="/"&&i.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function wI(e){return e===""||e.pathname===""?"/":typeof e=="string"?Ws(e).pathname:e.pathname}function bb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&n!=="/"?null:e.slice(t.length)||"/"}const Di=e=>e.join("/").replace(/\/\/+/g,"/"),Sb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_I=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SI(e){Xa()||lr(!1);let{basename:t,navigator:n}=$.exports.useContext(y0),{hash:r,pathname:i,search:s}=w0(e),a=i;if(t!=="/"){let o=wI(e),l=o!=null&&o.endsWith("/");a=i==="/"?t+(l?"/":""):Di([t,i])}return n.createHref({pathname:a,search:s,hash:r})}function Xa(){return $.exports.useContext(v0)!=null}function Ll(){return Xa()||lr(!1),$.exports.useContext(v0).location}function ri(){Xa()||lr(!1);let{basename:e,navigator:t}=$.exports.useContext(y0),{matches:n}=$.exports.useContext(Qa),{pathname:r}=Ll(),i=JSON.stringify(n.map(o=>o.pathnameBase)),s=$.exports.useRef(!1);return $.exports.useEffect(()=>{s.current=!0}),$.exports.useCallback(function(o,l){if(l===void 0&&(l={}),!s.current)return;if(typeof o=="number"){t.go(o);return}let u=_b(o,JSON.parse(i),r);e!=="/"&&(u.pathname=Di([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state)},[e,t,i,r])}const EI=$.exports.createContext(null);function Eb(e){let t=$.exports.useContext(Qa).outlet;return t&&$.exports.createElement(EI.Provider,{value:e},t)}function qs(){let{matches:e}=$.exports.useContext(Qa),t=e[e.length-1];return t?t.params:{}}function w0(e){let{matches:t}=$.exports.useContext(Qa),{pathname:n}=Ll(),r=JSON.stringify(t.map(i=>i.pathnameBase));return $.exports.useMemo(()=>_b(e,JSON.parse(r),n),[e,r,n])}function xI(e,t){Xa()||lr(!1);let{matches:n}=$.exports.useContext(Qa),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let a=Ll(),o;if(t){var l;let d=typeof t=="string"?Ws(t):t;s==="/"||((l=d.pathname)==null?void 0:l.startsWith(s))||lr(!1),o=d}else o=a;let u=o.pathname||"/",c=s==="/"?u:u.slice(s.length)||"/",f=rI(e,{pathname:c});return AI(f&&f.map(d=>Object.assign({},d,{params:Object.assign({},i,d.params),pathname:Di([s,d.pathname]),pathnameBase:d.pathnameBase==="/"?s:Di([s,d.pathnameBase])})),n)}function AI(e,t){return t===void 0&&(t=[]),e==null?null:e.reduceRight((n,r,i)=>$.exports.createElement(Qa.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,i+1))}}),null)}function Ja(e){let{to:t,replace:n,state:r}=e;Xa()||lr(!1);let i=ri();return $.exports.useEffect(()=>{i(t,{replace:n,state:r})}),null}function xb(e){return Eb(e.context)}function fe(e){lr(!1)}function TI(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ys.Pop,navigator:s,static:a=!1}=e;Xa()&&lr(!1);let o=Sb(t),l=$.exports.useMemo(()=>({basename:o,navigator:s,static:a}),[o,s,a]);typeof r=="string"&&(r=Ws(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:p="default"}=r,g=$.exports.useMemo(()=>{let y=bb(u,o);return y==null?null:{pathname:y,search:c,hash:f,state:d,key:p}},[o,u,c,f,d,p]);return g==null?null:$.exports.createElement(y0.Provider,{value:l},$.exports.createElement(v0.Provider,{children:n,value:{location:g,navigationType:i}}))}function Vi(e){let{children:t,location:n}=e;return xI(xp(t),n)}function xp(e){let t=[];return $.exports.Children.forEach(e,n=>{if(!$.exports.isValidElement(n))return;if(n.type===$.exports.Fragment){t.push.apply(t,xp(n.props.children));return}n.type!==fe&&lr(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=xp(n.props.children)),t.push(r)}),t}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pc.apply(this,arguments)}function Ab(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const CI=["onClick","reloadDocument","replace","state","target","to"],II=["aria-current","caseSensitive","className","end","style","to","children"];function PI(e){let{basename:t,children:n,window:r}=e,i=$.exports.useRef();i.current==null&&(i.current=tI({window:r}));let s=i.current,[a,o]=$.exports.useState({action:s.action,location:s.location});return $.exports.useLayoutEffect(()=>s.listen(o),[s]),$.exports.createElement(TI,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}function OI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const Wd=$.exports.forwardRef(function(t,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:a,target:o,to:l}=t,u=Ab(t,CI),c=SI(l),f=NI(l,{replace:s,state:a,target:o});function d(p){r&&r(p),!p.defaultPrevented&&!i&&f(p)}return $.exports.createElement("a",Pc({},u,{href:c,onClick:d,ref:n,target:o}))}),_0=$.exports.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,children:u}=t,c=Ab(t,II),f=Ll(),d=w0(l),p=f.pathname,g=d.pathname;i||(p=p.toLowerCase(),g=g.toLowerCase());let y=p===g||!a&&p.startsWith(g)&&p.charAt(g.length)==="/",b=y?r:void 0,m;typeof s=="function"?m=s({isActive:y}):m=[s,y?"active":null].filter(Boolean).join(" ");let v=typeof o=="function"?o({isActive:y}):o;return $.exports.createElement(Wd,Pc({},c,{"aria-current":b,className:m,ref:n,style:v,to:l}),typeof u=="function"?u({isActive:y}):u)});function NI(e,t){let{target:n,replace:r,state:i}=t===void 0?{}:t,s=ri(),a=Ll(),o=w0(e);return $.exports.useCallback(l=>{if(l.button===0&&(!n||n==="_self")&&!OI(l)){l.preventDefault();let u=!!r||Ep(a)===Ep(o);s(e,{replace:u,state:i})}},[a,s,o,r,i,n,e])}const v1={error:"text-red-700",info:"text-blue-700",success:"text-green-700",warning:"text-yellow-700"},kI={error:"bg-red-100",info:"bg-blue-100",success:"bg-green-100",warning:"bg-yellow-100"},RI={error:"bg-red-200",info:"bg-blue-200",success:"bg-green-200",warning:"bg-yellow-200"},$I={error:"bg-red-700",info:"bg-blue-700",success:"bg-green-700",warning:"bg-yellow-700"},FI=()=>h("svg",{"aria-hidden":"true",className:"flex-shrink-0 inline w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:h("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),an=Xi,ii=sn;function ir(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Hi(e){return!!e&&!!e[He]}function Jr(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===HI}(e)||Array.isArray(e)||!!e[A1]||!!(!((t=e.constructor)===null||t===void 0)&&t[A1])||b0(e)||S0(e))}function Ps(e,t,n){n===void 0&&(n=!1),Za(e)===0?(n?Object.keys:Oa)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Za(e){var t=e[He];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:b0(e)?2:S0(e)?3:0}function Pa(e,t){return Za(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function DI(e,t){return Za(e)===2?e.get(t):e[t]}function Tb(e,t,n){var r=Za(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Cb(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function b0(e){return zI&&e instanceof Map}function S0(e){return VI&&e instanceof Set}function os(e){return e.o||e.t}function E0(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Pb(e);delete t[He];for(var n=Oa(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function x0(e,t){return t===void 0&&(t=!1),A0(e)||Hi(e)||!Jr(e)||(Za(e)>1&&(e.set=e.add=e.clear=e.delete=MI),Object.freeze(e),t&&Ps(e,function(n,r){return x0(r,!0)},!0)),e}function MI(){ir(2)}function A0(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ar(e){var t=Ip[e];return t||ir(18,e),t}function LI(e,t){Ip[e]||(Ip[e]=t)}function Ap(){return yl}function th(e,t){t&&(Ar("Patches"),e.u=[],e.s=[],e.v=t)}function Oc(e){Tp(e),e.p.forEach(UI),e.p=null}function Tp(e){e===yl&&(yl=e.l)}function w1(e){return yl={p:[],l:yl,h:e,m:!0,_:0}}function UI(e){var t=e[He];t.i===0||t.i===1?t.j():t.g=!0}function nh(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Ar("ES5").S(t,e,r),r?(n[He].P&&(Oc(t),ir(4)),Jr(e)&&(e=Nc(t,e),t.l||kc(t,e)),t.u&&Ar("Patches").M(n[He].t,e,t.u,t.s)):e=Nc(t,n,[]),Oc(t),t.u&&t.v(t.u,t.s),e!==Ib?e:void 0}function Nc(e,t,n){if(A0(t))return t;var r=t[He];if(!r)return Ps(t,function(o,l){return _1(e,r,t,o,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return kc(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=E0(r.k):r.o,s=i,a=!1;r.i===3&&(s=new Set(i),i.clear(),a=!0),Ps(s,function(o,l){return _1(e,r,i,o,l,n,a)}),kc(e,i,!1),n&&e.u&&Ar("Patches").N(r,n,e.u,e.s)}return r.o}function _1(e,t,n,r,i,s,a){if(Hi(i)){var o=Nc(e,i,s&&t&&t.i!==3&&!Pa(t.R,r)?s.concat(r):void 0);if(Tb(n,r,o),!Hi(o))return;e.m=!1}else a&&n.add(i);if(Jr(i)&&!A0(i)){if(!e.h.D&&e._<1)return;Nc(e,i),t&&t.A.l||kc(e,i)}}function kc(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&x0(t,n)}function rh(e,t){var n=e[He];return(n?os(n):e)[t]}function b1(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function wi(e){e.P||(e.P=!0,e.l&&wi(e.l))}function ih(e){e.o||(e.o=E0(e.t))}function Cp(e,t,n){var r=b0(t)?Ar("MapSet").F(t,n):S0(t)?Ar("MapSet").T(t,n):e.O?function(i,s){var a=Array.isArray(i),o={i:a?1:0,A:s?s.A:Ap(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=o,u=vl;a&&(l=[o],u=$o);var c=Proxy.revocable(l,u),f=c.revoke,d=c.proxy;return o.k=d,o.j=f,d}(t,n):Ar("ES5").J(t,n);return(n?n.A:Ap()).p.push(r),r}function BI(e){return Hi(e)||ir(22,e),function t(n){if(!Jr(n))return n;var r,i=n[He],s=Za(n);if(i){if(!i.P&&(i.i<4||!Ar("ES5").K(i)))return i.t;i.I=!0,r=S1(n,s),i.I=!1}else r=S1(n,s);return Ps(r,function(a,o){i&&DI(i.t,a)===o||Tb(r,a,t(o))}),s===3?new Set(r):r}(e)}function S1(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return E0(e)}function jI(){function e(s,a){var o=i[s];return o?o.enumerable=a:i[s]=o={configurable:!0,enumerable:a,get:function(){var l=this[He];return vl.get(l,s)},set:function(l){var u=this[He];vl.set(u,s,l)}},o}function t(s){for(var a=s.length-1;a>=0;a--){var o=s[a][He];if(!o.P)switch(o.i){case 5:r(o)&&wi(o);break;case 4:n(o)&&wi(o)}}}function n(s){for(var a=s.t,o=s.k,l=Oa(o),u=l.length-1;u>=0;u--){var c=l[u];if(c!==He){var f=a[c];if(f===void 0&&!Pa(a,c))return!0;var d=o[c],p=d&&d[He];if(p?p.t!==f:!Cb(d,f))return!0}}var g=!!a[He];return l.length!==Oa(a).length+(g?0:1)}function r(s){var a=s.k;if(a.length!==s.t.length)return!0;var o=Object.getOwnPropertyDescriptor(a,a.length-1);if(o&&!o.get)return!0;for(var l=0;l<a.length;l++)if(!a.hasOwnProperty(l))return!0;return!1}var i={};LI("ES5",{J:function(s,a){var o=Array.isArray(s),l=function(c,f){if(c){for(var d=Array(f.length),p=0;p<f.length;p++)Object.defineProperty(d,""+p,e(p,!0));return d}var g=Pb(f);delete g[He];for(var y=Oa(g),b=0;b<y.length;b++){var m=y[b];g[m]=e(m,c||!!g[m].enumerable)}return Object.create(Object.getPrototypeOf(f),g)}(o,s),u={i:o?5:4,A:a?a.A:Ap(),P:!1,I:!1,R:{},l:a,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,He,{value:u,writable:!0}),l},S:function(s,a,o){o?Hi(a)&&a[He].A===s&&t(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[He];if(c){var f=c.t,d=c.k,p=c.R,g=c.i;if(g===4)Ps(d,function(w){w!==He&&(f[w]!==void 0||Pa(f,w)?p[w]||l(d[w]):(p[w]=!0,wi(c)))}),Ps(f,function(w){d[w]!==void 0||Pa(d,w)||(p[w]=!1,wi(c))});else if(g===5){if(r(c)&&(wi(c),p.length=!0),d.length<f.length)for(var y=d.length;y<f.length;y++)p[y]=!1;else for(var b=f.length;b<d.length;b++)p[b]=!0;for(var m=Math.min(d.length,f.length),v=0;v<m;v++)d.hasOwnProperty(v)||(p[v]=!0),p[v]===void 0&&l(d[v])}}}}(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var E1,yl,T0=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",zI=typeof Map<"u",VI=typeof Set<"u",x1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Ib=T0?Symbol.for("immer-nothing"):((E1={})["immer-nothing"]=!0,E1),A1=T0?Symbol.for("immer-draftable"):"__$immer_draftable",He=T0?Symbol.for("immer-state"):"__$immer_state",HI=""+Object.prototype.constructor,Oa=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Pb=Object.getOwnPropertyDescriptors||function(e){var t={};return Oa(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Ip={},vl={get:function(e,t){if(t===He)return e;var n=os(e);if(!Pa(n,t))return function(i,s,a){var o,l=b1(s,a);return l?"value"in l?l.value:(o=l.get)===null||o===void 0?void 0:o.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Jr(r)?r:r===rh(e.t,t)?(ih(e),e.o[t]=Cp(e.A.h,r,e)):r},has:function(e,t){return t in os(e)},ownKeys:function(e){return Reflect.ownKeys(os(e))},set:function(e,t,n){var r=b1(os(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=rh(os(e),t),s=i==null?void 0:i[He];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Cb(n,i)&&(n!==void 0||Pa(e.t,t)))return!0;ih(e),wi(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return rh(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,ih(e),wi(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=os(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ir(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ir(12)}},$o={};Ps(vl,function(e,t){$o[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),$o.deleteProperty=function(e,t){return $o.set.call(this,e,t,void 0)},$o.set=function(e,t,n){return vl.set.call(this,e[0],t,n,e[0])};var WI=function(){function e(n){var r=this;this.O=x1,this.D=!0,this.produce=function(i,s,a){if(typeof i=="function"&&typeof s!="function"){var o=s;s=i;var l=r;return function(y){var b=this;y===void 0&&(y=o);for(var m=arguments.length,v=Array(m>1?m-1:0),w=1;w<m;w++)v[w-1]=arguments[w];return l.produce(y,function(E){var N;return(N=s).call.apply(N,[b,E].concat(v))})}}var u;if(typeof s!="function"&&ir(6),a!==void 0&&typeof a!="function"&&ir(7),Jr(i)){var c=w1(r),f=Cp(r,i,void 0),d=!0;try{u=s(f),d=!1}finally{d?Oc(c):Tp(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return th(c,a),nh(y,c)},function(y){throw Oc(c),y}):(th(c,a),nh(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===Ib&&(u=void 0),r.D&&x0(u,!0),a){var p=[],g=[];Ar("Patches").M(i,u,p,g),a(p,g)}return u}ir(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(f))})};var a,o,l=r.produce(i,s,function(u,c){a=u,o=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,a,o]}):[l,a,o]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Jr(n)||ir(8),Hi(n)&&(n=BI(n));var r=w1(this),i=Cp(this,n,void 0);return i[He].C=!0,Tp(r),i},t.finishDraft=function(n,r){var i=n&&n[He],s=i.A;return th(s,r),nh(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!x1&&ir(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var a=Ar("Patches").$;return Hi(n)?a(n,r):this.produce(n,function(o){return a(o,r)})},e}(),An=new WI,Ob=An.produce;An.produceWithPatches.bind(An);An.setAutoFreeze.bind(An);An.setUseProxies.bind(An);An.applyPatches.bind(An);An.createDraft.bind(An);An.finishDraft.bind(An);function wl(e){return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(e)}function qI(e,t){if(wl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GI(e){var t=qI(e,"string");return wl(t)==="symbol"?t:String(t)}function KI(e,t,n){return t=GI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(n),!0).forEach(function(r){KI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var I1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),sh=function(){return Math.random().toString(36).substring(7).split("").join(".")},Rc={INIT:"@@redux/INIT"+sh(),REPLACE:"@@redux/REPLACE"+sh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+sh()}};function YI(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Nb(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Nt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Nt(1));return n(Nb)(e,t)}if(typeof e!="function")throw new Error(Nt(2));var i=e,s=t,a=[],o=a,l=!1;function u(){o===a&&(o=a.slice())}function c(){if(l)throw new Error(Nt(3));return s}function f(y){if(typeof y!="function")throw new Error(Nt(4));if(l)throw new Error(Nt(5));var b=!0;return u(),o.push(y),function(){if(!!b){if(l)throw new Error(Nt(6));b=!1,u();var v=o.indexOf(y);o.splice(v,1),a=null}}}function d(y){if(!YI(y))throw new Error(Nt(7));if(typeof y.type>"u")throw new Error(Nt(8));if(l)throw new Error(Nt(9));try{l=!0,s=i(s,y)}finally{l=!1}for(var b=a=o,m=0;m<b.length;m++){var v=b[m];v()}return y}function p(y){if(typeof y!="function")throw new Error(Nt(10));i=y,d({type:Rc.REPLACE})}function g(){var y,b=f;return y={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Nt(11));function w(){v.next&&v.next(c())}w();var E=b(w);return{unsubscribe:E}}},y[I1]=function(){return this},y}return d({type:Rc.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:p},r[I1]=g,r}function QI(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Rc.INIT});if(typeof r>"u")throw new Error(Nt(12));if(typeof n(void 0,{type:Rc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nt(13))})}function XI(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),a;try{QI(n)}catch(o){a=o}return function(l,u){if(l===void 0&&(l={}),a)throw a;for(var c=!1,f={},d=0;d<s.length;d++){var p=s[d],g=n[p],y=l[p],b=g(y,u);if(typeof b>"u")throw u&&u.type,new Error(Nt(14));f[p]=b,c=c||b!==y}return c=c||s.length!==Object.keys(l).length,c?f:l}}function $c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function JI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Nt(15))},a={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},o=t.map(function(l){return l(a)});return s=$c.apply(void 0,o)(i.dispatch),C1(C1({},i),{},{dispatch:s})}}}function kb(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(a){return function(o){return typeof o=="function"?o(i,s,e):a(o)}}};return t}var Rb=kb();Rb.withExtraArgument=kb;const P1=Rb;var ZI=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();globalThis&&globalThis.__generator;var Fc=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},eP=Object.defineProperty,O1=Object.getOwnPropertySymbols,tP=Object.prototype.hasOwnProperty,nP=Object.prototype.propertyIsEnumerable,N1=function(e,t,n){return t in e?eP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},_l=function(e,t){for(var n in t||(t={}))tP.call(t,n)&&N1(e,n,t[n]);if(O1)for(var r=0,i=O1(t);r<i.length;r++){var n=i[r];nP.call(t,n)&&N1(e,n,t[n])}return e},rP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$c:$c.apply(null,arguments)};function iP(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var sP=function(e){ZI(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Fc([void 0],n[0].concat(this)))):new(t.bind.apply(t,Fc([void 0],n.concat(this))))},t}(Array);function Pp(e){return Jr(e)?Ob(e,function(){}):e}function aP(e){return typeof e=="boolean"}function oP(){return function(t){return lP(t)}}function lP(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new sP;return n&&(aP(n)?r.push(P1):r.push(P1.withExtraArgument(n.extraArgument))),r}var uP=!0;function cP(e){var t=oP(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,a=s===void 0?t():s,o=n.devTools,l=o===void 0?!0:o,u=n.preloadedState,c=u===void 0?void 0:u,f=n.enhancers,d=f===void 0?void 0:f,p;if(typeof i=="function")p=i;else if(iP(i))p=XI(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=a;typeof g=="function"&&(g=g(t));var y=JI.apply(void 0,g),b=$c;l&&(b=rP(_l({trace:!uP},typeof l=="object"&&l)));var m=[y];Array.isArray(d)?m=Fc([y],d):typeof d=="function"&&(m=d(m));var v=b.apply(void 0,m);return Nb(p,c,v)}function bl(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return _l(_l({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function $b(e){var t={},n=[],r,i={addCase:function(s,a){var o=typeof s=="string"?s:s.type;if(o in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[o]=a,i},addMatcher:function(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function dP(e){return typeof e=="function"}function fP(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?$b(t):[t,n,r],s=i[0],a=i[1],o=i[2],l;if(dP(e))l=function(){return Pp(e())};else{var u=Pp(e);l=function(){return u}}function c(f,d){f===void 0&&(f=l());var p=Fc([s[d.type]],a.filter(function(g){var y=g.matcher;return y(d)}).map(function(g){var y=g.reducer;return y}));return p.filter(function(g){return!!g}).length===0&&(p=[o]),p.reduce(function(g,y){if(y)if(Hi(g)){var b=g,m=y(b,d);return typeof m>"u"?g:m}else{if(Jr(g))return Ob(g,function(v){return y(v,d)});var m=y(g,d);if(typeof m>"u"){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return g},f)}return c.getInitialState=l,c}function hP(e,t){return e+"/"+t}function qd(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:Pp(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},a={},o={};i.forEach(function(c){var f=r[c],d=hP(t,c),p,g;"reducer"in f?(p=f.reducer,g=f.prepare):p=f,s[c]=p,a[d]=p,o[c]=g?bl(d,g):bl(d)});function l(){var c=typeof e.extraReducers=="function"?$b(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,p=c[1],g=p===void 0?[]:p,y=c[2],b=y===void 0?void 0:y,m=_l(_l({},d),a);return fP(n,m,g,b)}var u;return{name:t,reducer:function(c,f){return u||(u=l()),u(c,f)},actions:o,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var C0="listenerMiddleware";bl(C0+"/add");bl(C0+"/removeAll");bl(C0+"/remove");jI();const To={triggerToast:!1,title:"",type:"info",details:[]},Fb=qd({name:"toast",initialState:To,reducers:{showToast:(e,{payload:t})=>{e.triggerToast=!0,e.details=t.details,e.title=t.title,e.type=t.type},hiddenToast:e=>{e.triggerToast=To.triggerToast,e.details=To.details,e.title=To.title,e.type=To.type}}}),{showToast:re,hiddenToast:pP}=Fb.actions,mP=({children:e,textColor:t})=>h("ul",{className:`mt-1.5 ml-4 ${t} list-disc list-inside`,children:e}),gP="_loaded_88w8u_1",Db={"animated-soft-container":"_animated-soft-container_88w8u_1","soft-transition":"_soft-transition_88w8u_1","animated-load":"_animated-load_88w8u_7",loaded:gP},yP=({type:e})=>A("div",{className:"relative",children:[h("span",{className:`w-full h-1 absolute ${RI[e]} rounded-lg`}),h("span",{className:`
              ${Db["animated-load"]}
              h-1 absolute 
              ${$I[e]}
              rounded-lg`})]}),vP=()=>{const e=ii(n=>n.toastState),t=an();return $.exports.useEffect(()=>{e.triggerToast&&setTimeout(()=>{t(pP())},8e3)},[e.triggerToast]),h(ge,{children:e.triggerToast&&A("div",{className:`
            absolute
            w-1/4
            z-40
            right-1
            bottom-2
            shadow
            text-sm
            rounded-lg
            ${v1[e.type]}
            ${kI[e.type]}
            ${Db["animated-soft-container"]}
          `,role:"alert",children:[h(yP,{type:e.type}),A("div",{className:"flex p-4",children:[h(FI,{}),A("div",{children:[A("span",{className:"font-medium",children:[e.title,e.details.length>0&&":"]}),h(mP,{textColor:v1[e.type],children:e.details.map((n,r)=>h("li",{children:n},`${r}/${n}`))})]})]})]})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},wP=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],a=e[n++],o=e[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Lb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],a=i+1<e.length,o=a?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,f=(s&3)<<4|o>>4;let d=(o&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Mb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):wP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||o==null||u==null||f==null)throw Error();const d=s<<2|o>>4;if(r.push(d),u!==64){const p=o<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_P=function(e){const t=Mb(e);return Lb.encodeByteArray(t,!0)},Ub=function(e){return _P(e).replace(/\./g,"")},bP=function(e){try{return Lb.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function xP(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function AP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TP(){const e=Ft();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function CP(){return typeof indexedDB=="object"}function IP(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="FirebaseError";class Rt extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=PP,Object.setPrototypeOf(this,Rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],a=s?OP(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Rt(i,o,r)}}function OP(e,t){return e.replace(NP,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const NP=/\{\$([^}]+)}/g;function kP(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Dc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],a=t[i];if(k1(s)&&k1(a)){if(!Dc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function k1(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Fo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Do(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function RP(e,t){const n=new $P(e,t);return n.subscribe.bind(n)}class $P{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FP(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=ah),i.error===void 0&&(i.error=ah),i.complete===void 0&&(i.complete=ah);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FP(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ah(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(e){return e&&e._delegate?e._delegate:e}class Wi{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new SP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LP(t))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ls){return this.instances.has(t)}getOptions(t=ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MP(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ls){return this.component?this.component.multipleInstances?t:ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MP(e){return e===ls?void 0:e}function LP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new DP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ae||(Ae={}));const BP={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},jP=Ae.INFO,zP={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},VP=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=zP[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class I0{constructor(t){this.name=t,this._logLevel=jP,this._logHandler=VP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...t),this._logHandler(this,Ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...t),this._logHandler(this,Ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...t),this._logHandler(this,Ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...t),this._logHandler(this,Ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...t),this._logHandler(this,Ae.ERROR,...t)}}const HP=(e,t)=>t.some(n=>e instanceof n);let R1,$1;function WP(){return R1||(R1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qP(){return $1||($1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bb=new WeakMap,Op=new WeakMap,jb=new WeakMap,oh=new WeakMap,P0=new WeakMap;function GP(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Mi(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&Bb.set(n,e)}).catch(()=>{}),P0.set(t,e),t}function KP(e){if(Op.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Op.set(e,t)}let Np={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Op.get(e);if(t==="objectStoreNames")return e.objectStoreNames||jb.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function YP(e){Np=e(Np)}function QP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(lh(this),t,...n);return jb.set(r,t.sort?t.sort():[t]),Mi(r)}:qP().includes(e)?function(...t){return e.apply(lh(this),t),Mi(Bb.get(this))}:function(...t){return Mi(e.apply(lh(this),t))}}function XP(e){return typeof e=="function"?QP(e):(e instanceof IDBTransaction&&KP(e),HP(e,WP())?new Proxy(e,Np):e)}function Mi(e){if(e instanceof IDBRequest)return GP(e);if(oh.has(e))return oh.get(e);const t=XP(e);return t!==e&&(oh.set(e,t),P0.set(t,e)),t}const lh=e=>P0.get(e);function JP(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=Mi(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Mi(a.result),l.oldVersion,l.newVersion,Mi(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),o}const ZP=["get","getKey","getAll","getAllKeys","count"],eO=["put","add","delete","clear"],uh=new Map;function F1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(uh.get(t))return uh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=eO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZP.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return uh.set(t,s),s}YP(e=>({...e,get:(t,n,r)=>F1(t,n)||e.get(t,n,r),has:(t,n)=>!!F1(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nO(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const kp="@firebase/app",D1="0.7.31";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new I0("@firebase/app"),rO="@firebase/app-compat",iO="@firebase/analytics-compat",sO="@firebase/analytics",aO="@firebase/app-check-compat",oO="@firebase/app-check",lO="@firebase/auth",uO="@firebase/auth-compat",cO="@firebase/database",dO="@firebase/database-compat",fO="@firebase/functions",hO="@firebase/functions-compat",pO="@firebase/installations",mO="@firebase/installations-compat",gO="@firebase/messaging",yO="@firebase/messaging-compat",vO="@firebase/performance",wO="@firebase/performance-compat",_O="@firebase/remote-config",bO="@firebase/remote-config-compat",SO="@firebase/storage",EO="@firebase/storage-compat",xO="@firebase/firestore",AO="@firebase/firestore-compat",TO="firebase",CO="9.9.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="[DEFAULT]",IO={[kp]:"fire-core",[rO]:"fire-core-compat",[sO]:"fire-analytics",[iO]:"fire-analytics-compat",[oO]:"fire-app-check",[aO]:"fire-app-check-compat",[lO]:"fire-auth",[uO]:"fire-auth-compat",[cO]:"fire-rtdb",[dO]:"fire-rtdb-compat",[fO]:"fire-fn",[hO]:"fire-fn-compat",[pO]:"fire-iid",[mO]:"fire-iid-compat",[gO]:"fire-fcm",[yO]:"fire-fcm-compat",[vO]:"fire-perf",[wO]:"fire-perf-compat",[_O]:"fire-rc",[bO]:"fire-rc-compat",[SO]:"fire-gcs",[EO]:"fire-gcs-compat",[xO]:"fire-fst",[AO]:"fire-fst-compat","fire-js":"fire-js",[TO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,Rp=new Map;function PO(e,t){try{e.container.addComponent(t)}catch(n){Os.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ns(e){const t=e.name;if(Rp.has(t))return Os.debug(`There were multiple attempts to register component ${t}.`),!1;Rp.set(t,e);for(const n of Mc.values())PO(n,e);return!0}function Gd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ks=new Ul("app","Firebase",OO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=CO;function kO(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:zb,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw ks.create("bad-app-name",{appName:String(r)});const i=Mc.get(r);if(i){if(Dc(e,i.options)&&Dc(n,i.config))return i;throw ks.create("duplicate-app",{appName:r})}const s=new UP(r);for(const o of Rp.values())s.addComponent(o);const a=new NO(e,n,s);return Mc.set(r,a),a}function O0(e=zb){const t=Mc.get(e);if(!t)throw ks.create("no-app",{appName:e});return t}function Tr(e,t,n){var r;let i=(r=IO[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${t}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Os.warn(o.join(" "));return}Ns(new Wi(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="firebase-heartbeat-database",$O=1,Sl="firebase-heartbeat-store";let ch=null;function Vb(){return ch||(ch=JP(RO,$O,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Sl)}}}).catch(e=>{throw ks.create("idb-open",{originalErrorMessage:e.message})})),ch}async function FO(e){var t;try{return(await Vb()).transaction(Sl).objectStore(Sl).get(Hb(e))}catch(n){if(n instanceof Rt)Os.warn(n.message);else{const r=ks.create("idb-get",{originalErrorMessage:(t=n)===null||t===void 0?void 0:t.message});Os.warn(r.message)}}}async function M1(e,t){var n;try{const i=(await Vb()).transaction(Sl,"readwrite");return await i.objectStore(Sl).put(t,Hb(e)),i.done}catch(r){if(r instanceof Rt)Os.warn(r.message);else{const i=ks.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Os.warn(i.message)}}}function Hb(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=1024,MO=30*24*60*60*1e3;class LO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=MO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L1(),{heartbeatsToSend:n,unsentEntries:r}=UO(this._heartbeatsCache.heartbeats),i=Ub(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function L1(){return new Date().toISOString().substring(0,10)}function UO(e,t=DO){const n=[];let r=e.slice();for(const i of e){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),U1(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),U1(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CP()?IP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await FO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return M1(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return M1(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function U1(e){return Ub(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(e){Ns(new Wi("platform-logger",t=>new tO(t),"PRIVATE")),Ns(new Wi("heartbeat",t=>new LO(t),"PRIVATE")),Tr(kp,D1,e),Tr(kp,D1,"esm2017"),Tr("fire-js","")}jO("");function N0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Wb(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zO=Wb,qb=new Ul("auth","Firebase",Wb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new I0("@firebase/auth");function Yu(e,...t){B1.logLevel<=Ae.ERROR&&B1.error(`Auth (${eo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(e,...t){throw k0(e,...t)}function Cr(e,...t){return k0(e,...t)}function VO(e,t,n){const r=Object.assign(Object.assign({},zO()),{[t]:n});return new Ul("auth","Firebase",r).create(t,{appName:e.name})}function k0(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return qb.create(e,...t)}function oe(e,t,...n){if(!e)throw k0(t,...n)}function Vr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Yu(t),new Error(t)}function Zr(e,t){e||Vr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Map;function Hr(e){Zr(e instanceof Function,"Expected a class definition");let t=j1.get(e);return t?(Zr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,j1.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(e,t){const n=Gd(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Dc(s,t!=null?t:{}))return i;ur(i,"already-initialized")}return n.initialize({options:t})}function WO(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function qO(){return z1()==="http:"||z1()==="https:"}function z1(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qO()||xP()||"connection"in navigator)?navigator.onLine:!0}function KO(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Zr(n>t,"Short delay should be less than long delay!"),this.isMobile=EP()||AP()}get(){return GO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(e,t){Zr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new jl(3e4,6e4);function to(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Gs(e,t,n,r,i={}){return Kb(e,i,async()=>{let s={},a={};r&&(t==="GET"?a=r:s={body:JSON.stringify(r)});const o=Bl(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),Gb.fetch()(Yb(e,e.config.apiHost,n,o),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function Kb(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},YO),t);try{const i=new XO(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Iu(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Iu(e,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Iu(e,"email-already-in-use",a);if(l==="USER_DISABLED")throw Iu(e,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw VO(e,c,u);ur(e,c)}}catch(i){if(i instanceof Rt)throw i;ur(e,"network-request-failed")}}async function zl(e,t,n,r,i={}){const s=await Gs(e,t,n,r,i);return"mfaPendingCredential"in s&&ur(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Yb(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?R0(e.config,i):`${e.config.apiScheme}://${i}`}class XO{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),QO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Iu(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(e,t){return Gs(e,"POST","/v1/accounts:delete",t)}async function ZO(e,t){return Gs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(e){if(!!e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eN(e,t=!1){const n=Fe(e),r=await n.getIdToken(t),i=$0(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qo(dh(i.auth_time)),issuedAtTime:qo(dh(i.iat)),expirationTime:qo(dh(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function dh(e){return Number(e)*1e3}function $0(e){var t;const[n,r,i]=e.split(".");if(n===void 0||r===void 0||i===void 0)return Yu("JWT malformed, contained fewer than 3 sections"),null;try{const s=bP(r);return s?JSON.parse(s):(Yu("Failed to decode base64 JWT payload"),null)}catch(s){return Yu("Caught error parsing JWT payload as JSON",(t=s)===null||t===void 0?void 0:t.toString()),null}}function tN(e){const t=$0(e);return oe(t,"internal-error"),oe(typeof t.exp<"u","internal-error"),oe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Rt&&nN(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function nN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var t;try{await this.user.getIdToken(!0)}catch(n){((t=n)===null||t===void 0?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qo(this.lastLoginAt),this.creationTime=qo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Rs(e,ZO(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?aN(s.providerUserInfo):[],o=sN(e.providerData,a),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(o!=null&&o.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Qb(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function iN(e){const t=Fe(e);await Lc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sN(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function aN(e){return e.map(t=>{var{providerId:n}=t,r=N0(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(e,t){const n=await Kb(e,{},async()=>{const r=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,a=Yb(e,i,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Gb.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){oe(t.idToken,"internal-error"),oe(typeof t.idToken<"u","internal-error"),oe(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):tN(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return oe(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await oN(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new El;return r&&(oe(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(e,t){oe(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ss{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=N0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Rs(this,this.stsTokenManager.getToken(this.auth,t));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return eN(this,t)}reload(){return iN(this)}_assign(t){this!==t&&(oe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Ss(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Lc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Rs(this,JO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,a,o,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(o=n.tenantId)!==null&&o!==void 0?o:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:E,isAnonymous:N,providerData:S,stsTokenManager:P}=n;oe(w&&P,t,"internal-error");const _=El.fromJSON(this.name,P);oe(typeof w=="string",t,"internal-error"),fi(f,t.name),fi(d,t.name),oe(typeof E=="boolean",t,"internal-error"),oe(typeof N=="boolean",t,"internal-error"),fi(p,t.name),fi(g,t.name),fi(y,t.name),fi(b,t.name),fi(m,t.name),fi(v,t.name);const x=new Ss({uid:w,auth:t,email:d,emailVerified:E,displayName:f,isAnonymous:N,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:_,createdAt:m,lastLoginAt:v});return S&&Array.isArray(S)&&(x.providerData=S.map(O=>Object.assign({},O))),b&&(x._redirectEventId=b),x}static async _fromIdTokenResponse(t,n,r=!1){const i=new El;i.updateFromServerResponse(n);const s=new Ss({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Lc(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Xb.type="NONE";const V1=Xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(e,t,n){return`firebase:${e}:${t}:${n}`}class Na{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ss._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Na(Hr(V1),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Hr(V1);const a=Qu(r,t.config.apiKey,t.name);let o=null;for(const u of n)try{const c=await u._get(a);if(c){const f=Ss._fromJSON(t,c);u!==s&&(o=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Na(s,t,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Na(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nS(t))return"Blackberry";if(rS(t))return"Webos";if(F0(t))return"Safari";if((t.includes("chrome/")||Zb(t))&&!t.includes("edge/"))return"Chrome";if(tS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Jb(e=Ft()){return/firefox\//i.test(e)}function F0(e=Ft()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Zb(e=Ft()){return/crios\//i.test(e)}function eS(e=Ft()){return/iemobile/i.test(e)}function tS(e=Ft()){return/android/i.test(e)}function nS(e=Ft()){return/blackberry/i.test(e)}function rS(e=Ft()){return/webos/i.test(e)}function Kd(e=Ft()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function lN(e=Ft()){var t;return Kd(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function uN(){return TP()&&document.documentMode===10}function iS(e=Ft()){return Kd(e)||tS(e)||rS(e)||nS(e)||/windows phone/i.test(e)||eS(e)}function cN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(e,t=[]){let n;switch(e){case"Browser":n=H1(Ft());break;case"Worker":n=`${H1(Ft())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((a,o)=>{try{const l=t(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){var n;if(this.auth.currentUser===t)return;const r=[];try{for(const i of this.queue)await i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t,n,r){this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W1(this),this.idTokenSubscription=new W1(this),this.beforeStateQueue=new dN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qb,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Na.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===o)&&(l==null?void 0:l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){var n;try{await Lc(t)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=KO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Fe(t):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&oe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hr(t)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Yd(e){return Fe(e)}class W1{constructor(t){this.auth=t,this.observer=null,this.addObserver=RP(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Vr("not implemented")}_getIdTokenResponse(t){return Vr("not implemented")}_linkToIdToken(t,n){return Vr("not implemented")}_getReauthenticationResolver(t){return Vr("not implemented")}}async function aS(e,t){return Gs(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(e,t){return zl(e,"POST","/v1/accounts:signInWithPassword",to(e,t))}async function pN(e,t){return Gs(e,"POST","/v1/accounts:sendOobCode",to(e,t))}async function mN(e,t){return pN(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(e,t){return zl(e,"POST","/v1/accounts:signInWithEmailLink",to(e,t))}async function yN(e,t){return zl(e,"POST","/v1/accounts:signInWithEmailLink",to(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends D0{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new xl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new xl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return hN(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return gN(t,{email:this._email,oobCode:this._password});default:ur(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return aS(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return yN(t,{idToken:n,email:this._email,oobCode:this._password});default:ur(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(e,t){return zl(e,"POST","/v1/accounts:signInWithIdp",to(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="http://localhost";class $s extends D0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new $s(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=N0(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new $s(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return ka(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ka(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ka(t,n)}buildRequest(){const t={requestUri:vN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Bl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _N(e){const t=Fo(Do(e)).link,n=t?Fo(Do(t)).deep_link_id:null,r=Fo(Do(e)).deep_link_id;return(r?Fo(Do(r)).link:null)||r||n||t||e}class M0{constructor(t){var n,r,i,s,a,o;const l=Fo(Do(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=wN((i=l.mode)!==null&&i!==void 0?i:null);oe(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(t){const n=_N(t);try{return new M0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(t,n){return xl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=M0.parseLink(n);return oe(r,"argument-error"),xl._fromEmailAndCode(t,r.code,r.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends oS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Vl{constructor(){super("facebook.com")}static credential(t){return $s._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return $s._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Vl{constructor(){super("github.com")}static credential(t){return $s._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bi.credentialFromTaggedObject(t)}static credentialFromError(t){return bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bi.credential(t.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Vl{constructor(){super("twitter.com")}static credential(t,n){return $s._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Si.credentialFromTaggedObject(t)}static credentialFromError(t){return Si.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(e,t){return zl(e,"POST","/v1/accounts:signUp",to(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Ss._fromIdTokenResponse(t,r,i),a=q1(r);return new Fs({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=q1(r);return new Fs({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function q1(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Rt{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Uc(t,n,r,i)}}function lS(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(e,s,t,r):s})}async function SN(e,t,n=!1){const r=await Rs(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fs._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(e,t,n=!1){var r;const{auth:i}=e,s="reauthenticate";try{const a=await Rs(e,lS(i,s,t,e),n);oe(a.idToken,i,"internal-error");const o=$0(a.idToken);oe(o,i,"internal-error");const{sub:l}=o;return oe(e.uid===l,i,"user-mismatch"),Fs._forOperation(e,s,a)}catch(a){throw((r=a)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&ur(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uS(e,t,n=!1){const r="signIn",i=await lS(e,r,t),s=await Fs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function xN(e,t){return uS(Yd(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(e,t,n){var r;oe(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),oe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oe(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(oe(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(e,t,n){const r=Fe(e),i={requestType:"PASSWORD_RESET",email:t};n&&AN(r,i,n),await mN(r,i)}async function CN(e,t,n){const r=Yd(e),i=await bN(r,{returnSecureToken:!0,email:t,password:n}),s=await Fs._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function IN(e,t,n){return xN(Fe(e),no.credential(t,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(e,t){return Gs(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=Fe(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},a=await Rs(r,PN(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function NN(e,t){return kN(Fe(e),null,t)}async function kN(e,t,n){const{auth:r}=e,s={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(s.email=t),n&&(s.password=n);const a=await Rs(e,aS(r,s));await e._updateTokensIfNecessary(a,!0)}function RN(e,t,n,r){return Fe(e).onAuthStateChanged(t,n,r)}async function $N(e){return Fe(e).delete()}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){const e=Ft();return F0(e)||Kd(e)}const DN=1e3,MN=10;class dS extends cS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=FN()&&cN(),this.fallbackToPolling=iS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);uN()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,MN):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},DN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}dS.type="LOCAL";const LN=dS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS extends cS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}fS.type="SESSION";const hS=fS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Qd(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await UN(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=L0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function jN(e){Ir().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function zN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VN(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function HN(){return pS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="firebaseLocalStorageDb",WN=1,jc="firebaseLocalStorage",gS="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xd(e,t){return e.transaction([jc],t?"readwrite":"readonly").objectStore(jc)}function qN(){const e=indexedDB.deleteDatabase(mS);return new Hl(e).toPromise()}function Fp(){const e=indexedDB.open(mS,WN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(jc,{keyPath:gS})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(jc)?t(r):(r.close(),await qN(),t(await Fp()))})})}async function G1(e,t,n){const r=Xd(e,!0).put({[gS]:t,value:n});return new Hl(r).toPromise()}async function GN(e,t){const n=Xd(e,!1).get(t),r=await new Hl(n).toPromise();return r===void 0?null:r.value}function K1(e,t){const n=Xd(e,!0).delete(t);return new Hl(n).toPromise()}const KN=800,YN=3;class yS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>YN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(HN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await zN(),!this.activeServiceWorker)return;this.sender=new BN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((t=r[0])===null||t===void 0?void 0:t.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||VN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fp();return await G1(t,Bc,"1"),await K1(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>G1(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>GN(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>K1(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Xd(i,!1).getAll();return new Hl(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yS.type="LOCAL";const QN=yS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function JN(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",XN().appendChild(r)})}function ZN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(e,t){return t?Hr(t):(oe(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends D0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ka(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ka(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function t6(e){return uS(e.auth,new U0(e),e.bypassAuthState)}function n6(e){const{auth:t,user:n}=e;return oe(n,t,"internal-error"),EN(n,new U0(e),e.bypassAuthState)}async function r6(e){const{auth:t,user:n}=e;return oe(n,t,"internal-error"),SN(n,new U0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return t6;case"linkViaPopup":case"linkViaRedirect":return r6;case"reauthViaPopup":case"reauthViaRedirect":return n6;default:ur(this.auth,"internal-error")}}resolve(t){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new jl(2e3,1e4);class _a extends vS{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return oe(t,this.auth,"internal-error"),t}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const t=L0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,i6.get())};t()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="pendingRedirect",Xu=new Map;class a6 extends vS{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Xu.get(this.auth._key());if(!t){try{const r=await o6(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Xu.set(this.auth._key(),t)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o6(e,t){const n=c6(t),r=u6(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function l6(e,t){Xu.set(e._key(),t)}function u6(e){return Hr(e._redirectPersistence)}function c6(e){return Qu(s6,e.config.apiKey,e.name)}async function d6(e,t,n=!1){const r=Yd(e),i=e6(r,t),a=await new a6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=10*60*1e3;class h6{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!p6(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!wS(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=f6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y1(t))}saveEventToCache(t){this.cachedEventUids.add(Y1(t)),this.lastProcessedEventTime=Date.now()}}function Y1(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function wS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function p6(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(e,t={}){return Gs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y6=/^https?/;async function v6(e){if(e.config.emulator)return;const{authorizedDomains:t}=await m6(e);for(const n of t)try{if(w6(n))return}catch{}ur(e,"unauthorized-domain")}function w6(e){const t=$p(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!y6.test(n))return!1;if(g6.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=new jl(3e4,6e4);function Q1(){const e=Ir().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function b6(e){return new Promise((t,n)=>{var r,i,s;function a(){Q1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Q1(),n(Cr(e,"network-request-failed"))},timeout:_6.get()})}if(!((i=(r=Ir().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Ir().gapi)===null||s===void 0)&&s.load)a();else{const o=ZN("iframefcb");return Ir()[o]=()=>{gapi.load?a():n(Cr(e,"network-request-failed"))},JN(`https://apis.google.com/js/api.js?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw Ju=null,t})}let Ju=null;function S6(e){return Ju=Ju||b6(e),Ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=new jl(5e3,15e3),x6="__/auth/iframe",A6="emulator/auth/iframe",T6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I6(e){const t=e.config;oe(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?R0(t,A6):`https://${e.config.authDomain}/${x6}`,r={apiKey:t.apiKey,appName:e.name,v:eo},i=C6.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bl(r).slice(1)}`}async function P6(e){const t=await S6(e),n=Ir().gapi;return oe(n,e,"internal-error"),t.open({where:document.body,url:I6(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Cr(e,"network-request-failed"),o=Ir().setTimeout(()=>{s(a)},E6.get());function l(){Ir().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N6=500,k6=600,R6="_blank",$6="http://localhost";class X1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F6(e,t,n,r=N6,i=k6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},O6),{width:r.toString(),height:i.toString(),top:s,left:a}),u=Ft().toLowerCase();n&&(o=Zb(u)?R6:n),Jb(u)&&(t=t||$6,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(lN(u)&&o!=="_self")return D6(t||"",o),new X1(null);const f=window.open(t||"",o,c);oe(f,e,"popup-blocked");try{f.focus()}catch{}return new X1(f)}function D6(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="__/auth/handler",L6="emulator/auth/handler";function J1(e,t,n,r,i,s){oe(e.config.authDomain,e,"auth-domain-config-required"),oe(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:eo,eventId:i};if(t instanceof oS){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",kP(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))a[l]=u}if(t instanceof Vl){const l=t.getScopes().filter(u=>u!=="");l.length>0&&(a.scopes=l.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const l of Object.keys(o))o[l]===void 0&&delete o[l];return`${U6(e)}?${Bl(o).slice(1)}`}function U6({config:e}){return e.emulator?R0(e,L6):`https://${e.authDomain}/${M6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="webStorageSupport";class B6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hS,this._completeRedirectFn=d6,this._overrideRedirectResult=l6}async _openPopup(t,n,r,i){var s;Zr((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=J1(t,n,r,$p(),i);return F6(t,a,L0())}async _openRedirect(t,n,r,i){return await this._originValidation(t),jN(J1(t,n,r,$p(),i)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await P6(t),r=new h6(t);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(fh,{type:fh},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[fh];a!==void 0&&n(!!a),ur(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=v6(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return iS()||F0()||Kd()}}const j6=B6;var Z1="@firebase/auth",ev="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{var i;t(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);!n||(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function H6(e){Ns(new Wi("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:s,authDomain:a}=r.options;return((o,l)=>{oe(s&&!s.includes(":"),"invalid-api-key",{appName:o.name}),oe(!(a!=null&&a.includes(":")),"argument-error",{appName:o.name});const u={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sS(e)},c=new fN(o,l,u);return WO(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ns(new Wi("auth-internal",t=>{const n=Yd(t.getProvider("auth").getImmediate());return(r=>new z6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(Z1,ev,V6(e)),Tr(Z1,ev,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(e=O0()){const t=Gd(e,"auth");return t.isInitialized()?t.getImmediate():HO(e,{popupRedirectResolver:j6,persistence:[QN,LN,hS]})}H6("Browser");var q6="firebase",G6="9.9.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(q6,G6,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="9.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new I0("@firebase/firestore");function zc(e,...t){if(ja.logLevel<=Ae.DEBUG){const n=t.map(j0);ja.debug(`Firestore (${ro}): ${e}`,...n)}}function B0(e,...t){if(ja.logLevel<=Ae.ERROR){const n=t.map(j0);ja.error(`Firestore (${ro}): ${e}`,...n)}}function K6(e,...t){if(ja.logLevel<=Ae.WARN){const n=t.map(j0);ja.warn(`Firestore (${ro}): ${e}`,...n)}}function j0(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e="Unexpected state"){const t=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+e;throw B0(t),new Error(t)}function nn(e,t){e||et()}function Wl(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="ok",Y6="cancelled",Go="unknown",ue="invalid-argument",Q6="deadline-exceeded",X6="not-found",J6="permission-denied",Dp="unauthenticated",Z6="resource-exhausted",Ds="failed-precondition",ek="aborted",tk="out-of-range",_S="unimplemented",nk="internal",rk="unavailable";class ae extends Rt{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Un.UNAUTHENTICATED))}shutdown(){}}class ak{constructor(t){this.auth=null,t.onInit(n=>{this.auth=n})}getToken(){return this.auth?this.auth.getToken().then(t=>t?(nn(typeof t.accessToken=="string"),new ik(t.accessToken,new Un(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(t,n){}shutdown(){}}class ok{constructor(t,n,r){this.type="FirstParty",this.user=Un.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class lk{constructor(t,n,r){this.t=t,this.i=n,this.o=r}getToken(){return Promise.resolve(new ok(this.t,this.i,this.o))}start(t,n){t.enqueueRetryable(()=>n(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uk{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ck{constructor(t){this.u=t,this.appCheck=null,t.onInit(n=>{this.appCheck=n})}getToken(){return this.appCheck?this.appCheck.getToken().then(t=>t?(nn(typeof t.token=="string"),new uk(t.token)):null):Promise.resolve(null)}invalidateToken(){}start(t,n){}shutdown(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(t,n,r,i,s,a,o,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.useFetchStreams=l}}class za{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new za("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof za&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t,n,r){n===void 0?n=0:n>t.length&&et(),r===void 0?r=t.length-n:r>t.length-n&&et(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Al.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Al?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ct extends Al{construct(t,n,r){return new ct(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ae(ue,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const fk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Al{construct(t,n,r){return new pn(t,n,r)}static isValidIdentifier(t){return fk.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pn(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ae(ue,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new ae(ue,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(ue,"Path has invalid escape sequence: "+t);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new ae(ue,"Unterminated ` in path: "+t);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.path=t}static fromPath(t){return new xt(ct.fromString(t))}static fromName(t){return new xt(ct.fromString(t).popFirst(5))}static empty(){return new xt(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ct.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ct.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xt(new ct(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(e,t,n){if(!n)throw new ae(ue,`Function ${e}() cannot be called with an empty ${t}.`)}function nv(e){if(!xt.isDocumentKey(e))throw new ae(ue,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rv(e){if(xt.isDocumentKey(e))throw new ae(ue,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Jd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":et()}function io(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ae(ue,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(e);throw new ae(ue,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(e){return e==null}function Vc(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iv,ve;function sv(e){if(e===void 0)return B0("RPC_ERROR","HTTP error has no status"),Go;switch(e){case 200:return tv;case 400:return Ds;case 401:return Dp;case 403:return J6;case 404:return X6;case 409:return ek;case 416:return tk;case 429:return Z6;case 499:return Y6;case 500:return Go;case 501:return _S;case 503:return rk;case 504:return Q6;default:return e>=200&&e<300?tv:e>=400&&e<500?Ds:e>=500&&e<600?nk:Go}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ve=iv||(iv={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";class mk extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.h=n+"://"+t.host,this.l="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}m(t,n,r,i,s){const a=this.p(t,n);zc("RestConnection","Sending: ",a,r);const o={};return this.g(o,i,s),this.v(t,a,o,r).then(l=>(zc("RestConnection","Received: ",l),l),l=>{throw K6("RestConnection",`${t} failed with error: `,l,"url: ",a,"request:",r),l})}T(t,n,r,i,s,a){return this.m(t,n,r,i,s)}g(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+ro,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}p(t,n){const r=pk[t];return`${this.h}/v1/${n}:${r}`}}{constructor(t,n){super(t),this.I=n}A(t,n){throw new Error("Not supported by FetchConnection")}async v(t,n,r,i){const s=JSON.stringify(i);let a;try{a=await this.I(n,{method:"POST",headers:r,body:s})}catch(o){throw new ae(sv(o.status),"Request failed with error: "+o.statusText)}if(!a.ok)throw new ae(sv(a.status),"Request failed with error: "+a.statusText);return a.json()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=gk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function pt(e,t){return e<t?-1:e>t?1:0}function SS(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ae(ue,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(ue,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ae(ue,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ae(ue,"Timestamp seconds out of range: "+t)}static now(){return En.fromMillis(Date.now())}static fromDate(t){return En.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new En(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?pt(this.nanoseconds,t.nanoseconds):pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new rr(t)}static min(){return new rr(new En(0,0))}static max(){return new rr(new En(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ql(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n){this.comparator=t,this.root=n||St.EMPTY}insert(t,n){return new Hc(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(t){return new Hc(this.comparator,this.root.remove(t,this.comparator).copy(null,null,St.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pu(this.root,t,this.comparator,!0)}}class Pu{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class St{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r!=null?r:St.RED,this.left=i!=null?i:St.EMPTY,this.right=s!=null?s:St.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new St(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return St.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const t=this.left.check();if(t!==this.right.check())throw et();return t+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(e,t,n,r,i){return this}insert(e,t,n){return new St(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t){this.comparator=t,this.data=new Hc(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(t){return new ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Wc)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Wc(this.comparator);return n.data=t,n}}class ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t){this.fields=t,t.sort(pn.comparator)}static empty(){return new Ms([])}unionWith(t){let n=new Wc(pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ms(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return SS(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new ei(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new ei(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ei.EMPTY_BYTE_STRING=new ei("");const vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(e){if(nn(!!e),typeof e=="string"){let t=0;const n=vk.exec(e);if(nn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:lt(e.seconds),nanos:lt(e.nanos)}}function lt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Tl(e){return typeof e=="string"?ei.fromBase64String(e):ei.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xS(e){const t=e.mapValue.fields.__previous_value__;return ES(t)?xS(t):t}function Cl(e){const t=Ls(e.mapValue.fields.__local_write_time__.timestampValue);return new En(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou={fields:{__type__:{stringValue:"__max__"}}};function Us(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ES(e)?4:function(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}(e)?9007199254740991:10:et()}function qc(e,t){if(e===t)return!0;const n=Us(e);if(n!==Us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Cl(e).isEqual(Cl(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ls(r.timestampValue),a=Ls(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Tl(r.bytesValue).isEqual(Tl(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return lt(r.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lt(r.integerValue)===lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=lt(r.doubleValue),a=lt(i.doubleValue);return s===a?Vc(s)===Vc(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return SS(e.arrayValue.values||[],t.arrayValue.values||[],qc);case 10:return function(r,i){const s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(av(s)!==av(a))return!1;for(const o in s)if(s.hasOwnProperty(o)&&(a[o]===void 0||!qc(s[o],a[o])))return!1;return!0}(e,t);default:return et()}}function Il(e,t){return(e.values||[]).find(n=>qc(n,t))!==void 0}function Gc(e,t){if(e===t)return 0;const n=Us(e),r=Us(t);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(e.booleanValue,t.booleanValue);case 2:return function(i,s){const a=lt(i.integerValue||i.doubleValue),o=lt(s.integerValue||s.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(e,t);case 3:return lv(e.timestampValue,t.timestampValue);case 4:return lv(Cl(e),Cl(t));case 5:return pt(e.stringValue,t.stringValue);case 6:return function(i,s){const a=Tl(i),o=Tl(s);return a.compareTo(o)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const a=i.split("/"),o=s.split("/");for(let l=0;l<a.length&&l<o.length;l++){const u=pt(a[l],o[l]);if(u!==0)return u}return pt(a.length,o.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const a=pt(lt(i.latitude),lt(s.latitude));return a!==0?a:pt(lt(i.longitude),lt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const a=i.values||[],o=s.values||[];for(let l=0;l<a.length&&l<o.length;++l){const u=Gc(a[l],o[l]);if(u)return u}return pt(a.length,o.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===Ou&&s===Ou)return 0;if(i===Ou)return 1;if(s===Ou)return-1;const a=i.fields||{},o=Object.keys(a),l=s.fields||{},u=Object.keys(l);o.sort(),u.sort();for(let c=0;c<o.length&&c<u.length;++c){const f=pt(o[c],u[c]);if(f!==0)return f;const d=Gc(a[o[c]],l[u[c]]);if(d!==0)return d}return pt(o.length,u.length)}(e.mapValue,t.mapValue);default:throw et()}}function lv(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return pt(e,t);const n=Ls(e),r=Ls(t),i=pt(n.seconds,r.seconds);return i!==0?i:pt(n.nanos,r.nanos)}function uv(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function AS(e){return!!e&&"arrayValue"in e}function cv(e){return!!e&&"nullValue"in e}function dv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hh(e){return!!e&&"mapValue"in e}function Ko(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ql(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ko(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ko(e.arrayValue.values[n]);return t}return Object.assign({},e)}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!hh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ko(n)}setAll(t){let n=pn.emptyPath(),r={},i=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Ko(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qc(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];hh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){ql(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new mn(Ko(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,n,r,i,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=a}static newInvalidDocument(t){return new vr(t,0,rr.min(),rr.min(),mn.empty(),0)}static newFoundDocument(t,n,r){return new vr(t,1,n,rr.min(),r,0)}static newNoDocument(t,n){return new vr(t,2,n,rr.min(),mn.empty(),0)}static newUnknownDocument(t,n){return new vr(t,3,n,rr.min(),mn.empty(),2)}convertToFoundDocument(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(t,n=null,r=[],i=[],s=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.P=null}}function fv(e,t=null,n=[],r=[],i=null,s=null,a=null){return new wk(e,t,n,r,i,s,a)}class kr extends class{}{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.V(t,n,r):new _k(t,n,r):n==="array-contains"?new Ek(t,r):n==="in"?new xk(t,r):n==="not-in"?new Ak(t,r):n==="array-contains-any"?new Tk(t,r):new kr(t,n,r)}static V(t,n,r){return n==="in"?new bk(t,r):new Sk(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.N(Gc(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.N(Gc(n,this.value))}N(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return et()}}D(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _k extends kr{constructor(t,n,r){super(t,n,r),this.key=xt.fromName(r.referenceValue)}matches(t){const n=xt.comparator(t.key,this.key);return this.N(n)}}class bk extends kr{constructor(t,n){super(t,"in",n),this.keys=TS("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Sk extends kr{constructor(t,n){super(t,"not-in",n),this.keys=TS("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function TS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xt.fromName(r.referenceValue))}class Ek extends kr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return AS(n)&&Il(n.arrayValue,this.value)}}class xk extends kr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Il(this.value.arrayValue,n)}}class Ak extends kr{constructor(t,n){super(t,"not-in",n)}matches(t){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Il(this.value.arrayValue,n)}}class Tk extends kr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!AS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Il(this.value.arrayValue,r))}}class hv{constructor(t,n){this.position=t,this.inclusive=n}}class Zu{constructor(t,n="asc"){this.field=t,this.dir=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.$=null,this.F=null,this.startAt,this.endAt}}function IS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function PS(e){for(const t of e.filters)if(t.D())return t.field;return null}function Ck(e){return e.collectionGroup!==null}function pv(e){const t=Wl(e);if(t.$===null){t.$=[];const n=PS(t),r=IS(t);if(n!==null&&r===null)n.isKeyField()||t.$.push(new Zu(n)),t.$.push(new Zu(pn.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.$.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.$.push(new Zu(pn.keyField(),s))}}}return t.$}function Ik(e){const t=Wl(e);if(!t.F)if(t.limitType==="F")t.F=fv(t.path,t.collectionGroup,pv(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of pv(t)){const a=s.dir==="desc"?"asc":"desc";n.push(new Zu(s.field,a))}const r=t.endAt?new hv(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new hv(t.startAt.position,t.startAt.inclusive):null;t.F=fv(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.F}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(e,t){return function(n){return typeof n=="number"&&Number.isInteger(n)&&!Vc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?function(n){return{integerValue:""+n}}(t):function(n,r){if(n.S){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(r)?"-0":r}}(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this._=void 0}}class Ok extends Zd{}class Nk extends Zd{constructor(t){super(),this.elements=t}}class kk extends Zd{constructor(t){super(),this.elements=t}}class Rk extends Zd{constructor(t,n){super(),this.q=t,this.O=n}}class Pr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Pr}static exists(t){return new Pr(void 0,t)}static updateTime(t){return new Pr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}class ef{}class OS extends ef{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class z0 extends ef{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}class V0 extends ef{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $k extends ef{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Dk=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class Mk{constructor(t,n){this.databaseId=t,this.S=n}}function Mp(e,t){return e.S?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Lk(e,t){return e.S?t.toBase64():t.toUint8Array()}function Uk(e,t){return Mp(e,t.toTimestamp())}function Lp(e){return nn(!!e),rr.fromTimestamp(function(t){const n=Ls(t);return new En(n.seconds,n.nanos)}(e))}function H0(e,t){return function(n){return new ct(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Kc(e,t){return H0(e.databaseId,t.path)}function Up(e,t){const n=function(i){const s=ct.fromString(i);return nn(kS(s)),s}(t);if(n.get(1)!==e.databaseId.projectId)throw new ae(ue,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ae(ue,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xt((nn((r=n).length>4&&r.get(4)==="documents"),r.popFirst(5)));var r}function mv(e,t){return H0(e.databaseId,t)}function NS(e){return new ct(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gv(e,t,n){return{name:Kc(e,t),fields:n.value.mapValue.fields}}function Bk(e,t){return"found"in t?function(n,r){nn(!!r.found),r.found.name,r.found.updateTime;const i=Up(n,r.found.name),s=Lp(r.found.updateTime),a=new mn({mapValue:{fields:r.found.fields}});return vr.newFoundDocument(i,s,a)}(e,t):"missing"in t?function(n,r){nn(!!r.missing),nn(!!r.readTime);const i=Up(n,r.missing),s=Lp(r.readTime);return vr.newNoDocument(i,s)}(e,t):et()}function jk(e,t){let n;if(t instanceof OS)n={update:gv(e,t.key,t.value)};else if(t instanceof V0)n={delete:Kc(e,t.key)};else if(t instanceof z0)n={update:gv(e,t.key,t.data),updateMask:Wk(t.fieldMask)};else{if(!(t instanceof $k))return et();n={verify:Kc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof Ok)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nk)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kk)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rk)return{fieldPath:s.field.canonicalString(),increment:a.O};throw et()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Uk(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:et()}(e,t.precondition)),n}function zk(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=mv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=mv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(f){if(f.op==="=="){if(dv(f.value))return{unaryFilter:{field:sa(f.field),op:"IS_NAN"}};if(cv(f.value))return{unaryFilter:{field:sa(f.field),op:"IS_NULL"}}}else if(f.op==="!="){if(dv(f.value))return{unaryFilter:{field:sa(f.field),op:"IS_NOT_NAN"}};if(cv(f.value))return{unaryFilter:{field:sa(f.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(f.field),op:Hk(f.op),value:f.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:sa(c.field),direction:Vk(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=function(l,u){return l.S||hk(u)?u:{value:u}}(e,t.limit);var o;return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function Vk(e){return Fk[e]}function Hk(e){return Dk[e]}function sa(e){return{fieldPath:e.canonicalString()}}function Wk(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function kS(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(e){return new Mk(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.H=r,this.q=i,this.J=!1}X(){if(this.J)throw new ae(Ds,"The client has already been terminated.")}m(t,n,r){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.H.m(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Dp&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(Go,i.toString())})}T(t,n,r,i){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.H.T(t,n,r,s,a,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Dp&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(Go,s.toString())})}terminate(){this.J=!0}}async function tf(e,t){const n=Wl(e),r=NS(n.q)+"/documents",i={writes:t.map(s=>jk(n.q,s))};await n.m("Commit",r,i)}async function Gk(e,t){const n=Wl(e),r=NS(n.q)+"/documents",i={documents:t.map(l=>Kc(n.q,l))},s=await n.T("BatchGetDocuments",r,i,t.length),a=new Map;s.forEach(l=>{const u=Bk(n.q,l);a.set(u.key.toString(),u)});const o=[];return t.forEach(l=>{const u=a.get(l.toString());nn(!!u),o.push(u)}),o}async function Kk(e,t){const n=Wl(e),r=zk(n.q,Ik(t));return(await n.T("RunQuery",r.parent,{structuredQuery:r.structuredQuery})).filter(i=>!!i.document).map(i=>function(s,a,o){const l=Up(s,a.name),u=Lp(a.updateTime),c=new mn({mapValue:{fields:a.fields}}),f=vr.newFoundDocument(l,u,c);return o&&f.setHasCommittedMutations(),o?f.setHasCommittedMutations():f}(n.q,i.document,void 0))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Map;function so(e){if(e._terminated)throw new ae(Ds,"The client has already been terminated.");if(!Yo.has(e)){zc("ComponentProvider","Initializing Datastore");const s=function(l){return new mk(l,fetch.bind(null))}((t=e._databaseId,n=e.app.options.appId||"",r=e._persistenceKey,i=e._freezeSettings(),new dk(t,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams))),a=W0(e._databaseId),o=function(l,u,c,f){return new qk(l,u,c,f)}(e._authCredentials,e._appCheckCredentials,s,a);Yo.set(e,o)}var t,n,r,i;/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return Yo.get(e)}class yv{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new ae(ue,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ae(ue,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(r,i,s,a){if(i===!0&&a===!0)throw new ae(ue,`${r} and ${s} cannot be used together.`)}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,t instanceof za?this._databaseId=t:(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ae(ue,'"projectId" not provided in firebase.initializeApp.');return new za(i.options.projectId)}(t))}get app(){if(!this._app)throw new ae(Ds,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new ae(Ds,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new sk;switch(n.type){case"gapi":const r=n.client;return nn(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new lk(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ae(ue,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Yo.get(t);n&&(zc("ComponentProvider","Removing Datastore"),Yo.delete(t),n.terminate())}(this),Promise.resolve()}}function Yk(e=O0()){return Gd(e,"firestore/lite").getImmediate()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zt(this.firestore,t,this._key)}}class Gl{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Gl(this.firestore,t,this._query)}}class qr extends Gl{constructor(t,n,r){super(t,n,new CS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zt(this.firestore,null,new xt(t))}withConverter(t){return new qr(this.firestore,t,this._path)}}function Ci(e,t,...n){if(e=Fe(e),bS("collection","path",t),e instanceof nf){const r=ct.fromString(t,...n);return rv(r),new qr(e,null,r)}{if(!(e instanceof zt||e instanceof qr))throw new ae(ue,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ct.fromString(t,...n));return rv(r),new qr(e.firestore,null,r)}}function br(e,t,...n){if(e=Fe(e),arguments.length===1&&(t=yk.R()),bS("doc","path",t),e instanceof nf){const r=ct.fromString(t,...n);return nv(r),new zt(e,null,new xt(r))}{if(!(e instanceof zt||e instanceof qr))throw new ae(ue,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ct.fromString(t,...n));return nv(r),new zt(e.firestore,e instanceof qr?e.converter:null,new xt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ae(ue,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}function q0(){return new ao("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Va(ei.fromBase64String(t))}catch(n){throw new ae(ue,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Va(ei.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ae(ue,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ae(ue,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return pt(this._lat,t._lat)||pt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=/^__.*__$/;class Xk{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new z0(t,this.data,this.fieldMask,n,this.fieldTransforms):new OS(t,this.data,n,this.fieldTransforms)}}class RS{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new z0(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function $S(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class Y0{constructor(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.q=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Z(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get tt(){return this.settings.tt}et(t){return new Y0(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.q,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}nt(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.et({path:r,rt:!1});return i.st(t),i}it(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.et({path:r,rt:!1});return i.Z(),i}ot(t){return this.et({path:void 0,rt:!0})}ut(t){return Yc(t,this.settings.methodName,this.settings.ct||!1,this.path,this.settings.at)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Z(){if(this.path)for(let t=0;t<this.path.length;t++)this.st(this.path.get(t))}st(t){if(t.length===0)throw this.ut("Document fields must not be empty");if($S(this.tt)&&Qk.test(t))throw this.ut('Document fields cannot begin and end with "__"')}}class Jk{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.q=r||W0(t)}ht(t,n,r,i=!1){return new Y0({tt:t,methodName:n,at:r,path:pn.emptyPath(),rt:!1,ct:i},this.databaseId,this.q,this.ignoreUndefinedProperties)}}function rf(e){const t=e._freezeSettings(),n=W0(e._databaseId);return new Jk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function FS(e,t,n,r,i,s={}){const a=e.ht(s.merge||s.mergeFields?2:0,t,n,i);Q0("Data must be an object, but it was:",a,r);const o=LS(r,a);let l,u;if(s.merge)l=new Ms(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=Bp(t,f,n);if(!a.contains(d))throw new ae(ue,`Field '${d}' is specified in your field mask but missing from your input data.`);BS(c,d)||c.push(d)}l=new Ms(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new Xk(new mn(o),l,u)}class sf extends G0{_toFieldTransform(t){if(t.tt!==2)throw t.tt===1?t.ut(`${this._methodName}() can only appear at the top level of your update data`):t.ut(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sf}}function DS(e,t,n,r){const i=e.ht(1,t,n);Q0("Data must be an object, but it was:",i,r);const s=[],a=mn.empty();ql(r,(l,u)=>{const c=X0(t,l,n);u=Fe(u);const f=i.it(c);if(u instanceof sf)s.push(c);else{const d=Kl(u,f);d!=null&&(s.push(c),a.set(c,d))}});const o=new Ms(s);return new RS(a,o,i.fieldTransforms)}function MS(e,t,n,r,i,s){const a=e.ht(1,t,n),o=[Bp(t,r,n)],l=[i];if(s.length%2!=0)throw new ae(ue,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Bp(t,s[d])),l.push(s[d+1]);const u=[],c=mn.empty();for(let d=o.length-1;d>=0;--d)if(!BS(u,o[d])){const p=o[d];let g=l[d];g=Fe(g);const y=a.it(p);if(g instanceof sf)u.push(p);else{const b=Kl(g,y);b!=null&&(u.push(p),c.set(p,b))}}const f=new Ms(u);return new RS(c,f,a.fieldTransforms)}function Zk(e,t,n,r=!1){return Kl(n,e.ht(r?4:3,t))}function Kl(e,t){if(US(e=Fe(e)))return Q0("Unsupported field value:",t,e),LS(e,t);if(e instanceof G0)return function(n,r){if(!$S(r.tt))throw r.ut(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ut(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.rt&&t.tt!==4)throw t.ut("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const a of n){let o=Kl(a,r.ot(s));o==null&&(o={nullValue:"NULL_VALUE"}),i.push(o),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Fe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Pk(r.q,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=En.fromDate(n);return{timestampValue:Mp(r.q,i)}}if(n instanceof En){const i=new En(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Mp(r.q,i)}}if(n instanceof K0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Va)return{bytesValue:Lk(r.q,n._byteString)};if(n instanceof zt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ut(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:H0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ut(`Unsupported field value: ${Jd(n)}`)}(e,t)}function LS(e,t){const n={};return function(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ql(e,(r,i)=>{const s=Kl(i,t.nt(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function US(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof En||e instanceof K0||e instanceof Va||e instanceof zt||e instanceof G0)}function Q0(e,t,n){if(!US(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Jd(n);throw r==="an object"?t.ut(e+" a custom object"):t.ut(e+" "+r)}}function Bp(e,t,n){if((t=Fe(t))instanceof ao)return t._internalPath;if(typeof t=="string")return X0(e,t);throw Yc("Field path arguments must be of type string or ",e,!1,void 0,n)}const e5=new RegExp("[~\\*/\\[\\]]");function X0(e,t,n){if(t.search(e5)>=0)throw Yc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ao(...t.split("."))._internalPath}catch{throw Yc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Yc(e,t,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ae(ue,o+e+l)}function BS(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new zS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(VS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zS extends jS{data(){return super.data()}}class t5{constructor(t,n){this._docs=n,this.query=t}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return this.docs.length===0}forEach(t,n){this._docs.forEach(t,n)}}function VS(e,t){return typeof t=="string"?X0(e,t):t instanceof ao?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{}function ec(e,...t){for(const n of t)e=n._apply(e);return e}class r5 extends n5{constructor(t,n,r){super(),this.dt=t,this.wt=n,this.yt=r,this.type="where"}_apply(t){const n=rf(t.firestore),r=function(i,s,a,o,l,u,c){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ae(ue,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){wv(c,u);const p=[];for(const g of c)p.push(vv(o,i,g));f={arrayValue:{values:p}}}else f=vv(o,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||wv(c,u),f=Zk(a,s,c,u==="in"||u==="not-in");const d=kr.create(l,u,f);return function(p,g){if(g.D()){const b=PS(p);if(b!==null&&!b.isEqual(g.field))throw new ae(ue,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${b.toString()}' and '${g.field.toString()}'`);const m=IS(p);m!==null&&i5(p,g.field,m)}const y=function(b,m){for(const v of b.filters)if(m.indexOf(v.op)>=0)return v.op;return null}(p,function(b){switch(b){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(g.op));if(y!==null)throw y===g.op?new ae(ue,`Invalid query. You cannot use more than one '${g.op.toString()}' filter.`):new ae(ue,`Invalid query. You cannot use '${g.op.toString()}' filters with '${y.toString()}' filters.`)}(i,d),d}(t._query,"where",n,t.firestore._databaseId,this.dt,this.wt,this.yt);return new Gl(t.firestore,t.converter,function(i,s){const a=i.filters.concat([s]);return new CS(i.path,i.collectionGroup,i.explicitOrderBy.slice(),a,i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function ut(e,t,n){const r=t,i=VS("where",e);return new r5(i,r,n)}function vv(e,t,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new ae(ue,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ck(t)&&n.indexOf("/")!==-1)throw new ae(ue,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ct.fromString(n));if(!xt.isDocumentKey(r))throw new ae(ue,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uv(e,new xt(r))}if(n instanceof zt)return uv(e,n._key);throw new ae(ue,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(n)}.`)}function wv(e,t){if(!Array.isArray(e)||e.length===0)throw new ae(ue,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new ae(ue,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function i5(e,t,n){if(!n.isEqual(t))throw new ae(ue,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class WS extends class{convertValue(t,n="none"){switch(Us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return lt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Tl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw et()}}convertObject(t,n){const r={};return ql(t.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new K0(lt(t.latitude),lt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=xS(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const n=Ls(t);return new En(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ct.fromString(t);nn(kS(r));const i=new za(r.get(1),r.get(3)),s=new xt(r.popFirst(5));return i.isEqual(n)||B0(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(t){super(),this.firestore=t}convertBytes(t){return new Va(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function qS(e){const t=so((e=io(e,zt)).firestore),n=new WS(e.firestore);return Gk(t,[e._key]).then(r=>{nn(r.length===1);const i=r[0];return new jS(e.firestore,n,e._key,i.isFoundDocument()?i:null,e.converter)})}function jp(e){(function(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ae(_S,"limitToLast() queries require specifying at least one orderBy() clause")})((e=io(e,Gl))._query);const t=so(e.firestore),n=new WS(e.firestore);return Kk(t,e._query).then(r=>{const i=r.map(s=>new zS(e.firestore,n,s.key,s,e.converter));return e._query.limitType==="L"&&i.reverse(),new t5(e,i)})}function GS(e,t,n,...r){const i=rf((e=io(e,zt)).firestore);let s;return s=typeof(t=Fe(t))=="string"||t instanceof ao?MS(i,"updateDoc",e._key,t,n,r):DS(i,"updateDoc",e._key,t),tf(so(e.firestore),[s.toMutation(e._key,Pr.exists(!0))])}function s5(e){return tf(so((e=io(e,zt)).firestore),[new V0(e._key,Pr.none())])}function Qc(e,t){const n=br(e=io(e,qr)),r=HS(e.converter,t),i=FS(rf(e.firestore),"addDoc",n._key,r,n.converter!==null,{});return tf(so(e.firestore),[i.toMutation(n._key,Pr.exists(!1))]).then(()=>n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=rf(t)}set(t,n,r){this._verifyNotCommitted();const i=ph(t,this._firestore),s=HS(i.converter,n,r),a=FS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Pr.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const s=ph(t,this._firestore);let a;return a=typeof(n=Fe(n))=="string"||n instanceof ao?MS(this._dataReader,"WriteBatch.update",s._key,n,r,i):DS(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,Pr.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=ph(t,this._firestore);return this._mutations=this._mutations.concat(new V0(n._key,Pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(Ds,"A write batch can no longer be used after commit() has been called.")}}function ph(e,t){if((e=Fe(e)).firestore!==t)throw new ae(ue,"Provided document reference is from a different Firestore instance.");return e}function o5(e){const t=so(e=io(e,nf));return new a5(e,n=>tf(t,n))}(function(e){ro=e})(`${eo}_lite`),Ns(new Wi("firestore/lite",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new nf(n,new ak(e.getProvider("auth-internal")),new ck(e.getProvider("app-check-internal")));return t&&r._setSettings(t),r},"PUBLIC")),Tr("firestore-lite","3.4.14",""),Tr("firestore-lite","3.4.14","esm2017");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="firebasestorage.googleapis.com",YS="storageBucket",l5=2*60*1e3,u5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends Rt{constructor(t,n){super(mh(t),`Firebase Storage: ${n} (${mh(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}_codeEquals(t){return mh(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function mh(e){return"storage/"+e}function J0(){const e="An unknown error occurred, please check the error payload for server response.";return new rt("unknown",e)}function c5(e){return new rt("object-not-found","Object '"+e+"' does not exist.")}function d5(e){return new rt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function f5(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rt("unauthenticated",e)}function h5(){return new rt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function p5(e){return new rt("unauthorized","User does not have permission to access '"+e+"'.")}function m5(){return new rt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function g5(){return new rt("canceled","User canceled the upload/download.")}function y5(e){return new rt("invalid-url","Invalid URL '"+e+"'.")}function v5(e){return new rt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function w5(){return new rt("no-default-bucket","No default bucket found. Did you set the '"+YS+"' property when initializing the app?")}function _5(){return new rt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function b5(){return new rt("no-download-url","The given file does not have any download URLs.")}function zp(e){return new rt("invalid-argument",e)}function QS(){return new rt("app-deleted","The Firebase app was deleted.")}function S5(e){return new rt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qo(e,t){return new rt("invalid-format","String does not match format '"+e+"': "+t)}function Co(e){throw new rt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=vn.makeFromUrl(t,n)}catch{return new vn(t,"")}if(r.path==="")return r;throw v5(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),g={bucket:1,path:3},y=n===KS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",m=new RegExp(`^https?://${y}/${i}/${b}`,"i"),w=[{regex:o,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<w.length;E++){const N=w[E],S=N.regex.exec(t);if(S){const P=S[N.indices.bucket];let _=S[N.indices.path];_||(_=""),r=new vn(P,_),N.postModify(r);break}}if(r==null)throw y5(t);return r}}class E5{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let u=!1;function c(...b){u||(u=!0,t.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,e(p,l())},b)}function d(){s&&clearTimeout(s)}function p(b,...m){if(u){d();return}if(b){d(),c.call(null,b,...m);return}if(l()||a){d(),c.call(null,b,...m);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,f(w)}let g=!1;function y(b){g||(g=!0,d(),!u&&(i!==null?(b||(o=2),clearTimeout(i),f(0)):b||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,y(!0)},n),y}function A5(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(e){return e!==void 0}function C5(e){return typeof e=="object"&&!Array.isArray(e)}function Z0(e){return typeof e=="string"||e instanceof String}function _v(e){return eg()&&e instanceof Blob}function eg(){return typeof Blob<"u"}function bv(e,t,n,r){if(r<t)throw zp(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw zp(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function XS(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Es||(Es={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(t,n,r,i,s,a,o,l,u,c,f){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,p)=>{this.resolve_=d,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Nu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===Es.NO_ERROR,l=s.getStatus();if(!o||this.isRetryStatusCode_(l)){const c=s.getErrorCode()===Es.ABORT;r(!1,new Nu(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Nu(u,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());T5(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=J0();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?QS():g5();a(l)}else{const l=m5();a(l)}};this.canceled_?n(!1,new Nu(!1,null,!0)):this.backoffId_=x5(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&A5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s}}class Nu{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function P5(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function O5(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function N5(e,t){t&&(e["X-Firebase-GMPID"]=t)}function k5(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function R5(e,t,n,r,i,s){const a=XS(e.urlParams),o=e.url+a,l=Object.assign({},e.headers);return N5(l,t),P5(l,n),O5(l,s),k5(l,r),new I5(o,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function F5(...e){const t=$5();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(eg())return new Blob(e);throw new rt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function D5(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gh{constructor(t,n){this.data=t,this.contentType=n||null}}function L5(e,t){switch(e){case Sr.RAW:return new gh(JS(t));case Sr.BASE64:case Sr.BASE64URL:return new gh(ZS(e,t));case Sr.DATA_URL:return new gh(B5(t),j5(t))}throw J0()}function JS(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function U5(e){let t;try{t=decodeURIComponent(e)}catch{throw Qo(Sr.DATA_URL,"Malformed data URL.")}return JS(t)}function ZS(e,t){switch(e){case Sr.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Qo(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Sr.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Qo(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=M5(t)}catch{throw Qo(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class eE{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Qo(Sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=z5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function B5(e){const t=new eE(e);return t.base64?ZS(Sr.BASE64,t.rest):U5(t.rest)}function j5(e){return new eE(e).contentType}function z5(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,n){let r=0,i="";_v(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(_v(this.data_)){const r=this.data_,i=D5(r,t,n);return i===null?null:new Ei(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Ei(r,!0)}}static getBlob(...t){if(eg()){const n=t.map(r=>r instanceof Ei?r.data_:r);return new Ei(F5.apply(null,n))}else{const n=t.map(a=>Z0(a)?L5(Sr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new Ei(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(e){let t;try{t=JSON.parse(e)}catch{return null}return C5(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function H5(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function nE(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(e,t){return t}class Lt{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||W5}}let ku=null;function q5(e){return!Z0(e)||e.length<2?e:nE(e)}function rE(){if(ku)return ku;const e=[];e.push(new Lt("bucket")),e.push(new Lt("generation")),e.push(new Lt("metageneration")),e.push(new Lt("name","fullPath",!0));function t(s,a){return q5(a)}const n=new Lt("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Lt("size");return i.xform=r,e.push(i),e.push(new Lt("timeCreated")),e.push(new Lt("updated")),e.push(new Lt("md5Hash",null,!0)),e.push(new Lt("cacheControl",null,!0)),e.push(new Lt("contentDisposition",null,!0)),e.push(new Lt("contentEncoding",null,!0)),e.push(new Lt("contentLanguage",null,!0)),e.push(new Lt("contentType",null,!0)),e.push(new Lt("metadata","customMetadata",!0)),ku=e,ku}function G5(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new vn(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function K5(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,t[a.server])}return G5(r,e),r}function iE(e,t,n){const r=tE(t);return r===null?null:K5(e,r,n)}function Y5(e,t,n,r){const i=tE(t);if(i===null||!Z0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(u=>{const c=e.bucket,f=e.fullPath,d="/b/"+a(c)+"/o/"+a(f),p=af(d,n,r),g=XS({alt:"media",token:u});return p+g})[0]}function Q5(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class tg{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(e){if(!e)throw J0()}function X5(e,t){function n(r,i){const s=iE(e,i,t);return sE(s!==null),s}return n}function J5(e,t){function n(r,i){const s=iE(e,i,t);return sE(s!==null),Y5(s,i,e.host,e._protocol)}return n}function aE(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=h5():i=f5():n.getStatus()===402?i=d5(e.bucket):n.getStatus()===403?i=p5(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function oE(e){const t=aE(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=c5(e.path)),s.serverResponse=i.serverResponse,s}return n}function Z5(e,t,n){const r=t.fullServerUrl(),i=af(r,e.host,e._protocol),s="GET",a=e.maxOperationRetryTime,o=new tg(i,s,J5(e,n),a);return o.errorHandler=oE(t),o}function eR(e,t){const n=t.fullServerUrl(),r=af(n,e.host,e._protocol),i="DELETE",s=e.maxOperationRetryTime;function a(l,u){}const o=new tg(r,i,a,s);return o.successCodes=[200,204],o.errorHandler=oE(t),o}function tR(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function nR(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=tR(null,t)),r}function rR(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const u=nR(t,r,i),c=Q5(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=Ei.getBlob(f,r,d);if(p===null)throw _5();const g={name:u.fullPath},y=af(s,e.host,e._protocol),b="POST",m=e.maxUploadRetryTime,v=new tg(y,b,X5(e,n),m);return v.urlParams=g,v.headers=a,v.body=p.uploadData(),v.errorHandler=aE(t),v}class iR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Es.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Es.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Es.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw Co("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Co("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Co("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Co("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Co("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class sR extends iR{initXhr(){this.xhr_.responseType="text"}}function ng(){return new sR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,n){this._service=t,n instanceof vn?this._location=n:this._location=vn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Bs(t,n)}get root(){const t=new vn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nE(this._location.path)}get storage(){return this._service}get parent(){const t=V5(this._location.path);if(t===null)return null;const n=new vn(this._location.bucket,t);return new Bs(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw S5(t)}}function aR(e,t,n){e._throwIfRoot("uploadBytes");const r=rR(e.storage,e._location,rE(),new Ei(t,!0),n);return e.storage.makeRequestWithTokens(r,ng).then(i=>({metadata:i,ref:e}))}function oR(e){e._throwIfRoot("getDownloadURL");const t=Z5(e.storage,e._location,rE());return e.storage.makeRequestWithTokens(t,ng).then(n=>{if(n===null)throw b5();return n})}function lR(e){e._throwIfRoot("deleteObject");const t=eR(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ng)}function uR(e,t){const n=H5(e._location.path,t),r=new vn(e._location.bucket,n);return new Bs(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(e){return/^[A-Za-z]+:\/\//.test(e)}function dR(e,t){return new Bs(e,t)}function lE(e,t){if(e instanceof rg){const n=e;if(n._bucket==null)throw w5();const r=new Bs(n,n._bucket);return t!=null?lE(r,t):r}else return t!==void 0?uR(e,t):e}function fR(e,t){if(t&&cR(t)){if(e instanceof rg)return dR(e,t);throw zp("To use ref(service, url), the first argument must be a Storage instance.")}else return lE(e,t)}function Sv(e,t){const n=t==null?void 0:t[YS];return n==null?null:vn.makeFromBucketSpec(n,e)}class rg{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=KS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=l5,this._maxUploadRetryTime=u5,this._requests=new Set,i!=null?this._bucket=vn.makeFromBucketSpec(i,this._host):this._bucket=Sv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,t):this._bucket=Sv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){bv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){bv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Bs(this,t)}_makeRequest(t,n,r,i){if(this._deleted)return new E5(QS());{const s=R5(t,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Ev="@firebase/storage",xv="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="storage";function hR(e,t,n){return e=Fe(e),aR(e,t,n)}function Av(e){return e=Fe(e),oR(e)}function pR(e){return e=Fe(e),lR(e)}function yh(e,t){return e=Fe(e),fR(e,t)}function mR(e=O0(),t){return e=Fe(e),Gd(e,uE).getImmediate({identifier:t})}function gR(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new rg(n,r,i,t,eo)}function yR(){Ns(new Wi(uE,gR,"PUBLIC").setMultipleInstances(!0)),Tr(Ev,xv,""),Tr(Ev,xv,"esm2017")}yR();const vR={apiKey:"AIzaSyBc2Fkk9536EpTPTujmUIFa9WyACoPGEMQ",authDomain:"flexto-2bebc.firebaseapp.com",databaseURL:"https://flexto-2bebc-default-rtdb.firebaseio.com",projectId:"flexto-2bebc",storageBucket:"flexto-2bebc.appspot.com",messagingSenderId:"483083084972",appId:"1:483083084972:web:b24a08e5ed130b5f01ab09",measurementId:"G-3QLX3Z3GY7"},ig=kO(vR),vh=mR(ig),Et=Yk(ig),aa=W6(ig);new Br;const wR={EMAIL_ALREADY_IN_USE:"auth/email-already-in-use"},_R={[wR.EMAIL_ALREADY_IN_USE]:"El correo ya esta en uso"};var qi=(e=>(e[e.APPROVED=2]="APPROVED",e[e.PENDING=1]="PENDING",e[e.NO_LOGGED=0]="NO_LOGGED",e))(qi||{}),je=(e=>(e.CLIENT="client",e.ADMIN="admin",e))(je||{});const bR={uid:"",email:"",displayName:"",photoUrl:"",role:je.CLIENT,agreement:"",userState:qi.NO_LOGGED},cE=qd({name:"auth",initialState:bR,reducers:{login:(e,{payload:t})=>{e.uid=t.uid,e.email=t.email,e.displayName=t.displayName,e.photoUrl=t.photoUrl,e.agreement=t.agreement,e.role=t.role,e.userState=t.userState},logout:e=>{e.uid="",e.email="",e.displayName="",e.photoUrl="",e.role=je.CLIENT,e.agreement="",e.userState=qi.NO_LOGGED},registerProcess:e=>{e={...e,userState:qi.PENDING}},updateOwnerState:(e,{payload:t})=>{e.displayName=t.displayName,e.photoUrl=t.photoUrl}}}),{login:wh,logout:SR,registerProcess:yY,updateOwnerState:ER}=cE.actions,xR={loading:!1},dE=qd({name:"loading",initialState:xR,reducers:{setLoading:(e,t)=>{e.loading=t.payload}}}),{setLoading:H}=dE.actions;var gn=(e=>(e[e.ACT=1]="ACT",e[e.PUBLIC_SPACE=2]="PUBLIC_SPACE",e[e.ACCESS=3]="ACCESS",e))(gn||{});const Ha={1:"Acta",2:"Espacio p\xFAblico",3:"Acceso"};var rn=(e=>(e.APARTMENTS="apartments",e.CUSTOMIZATIONS="customizations",e.REGISTERED_USER="registeredUsers",e.REQUEST="request",e.STATE="state",e.STATE_OWNERS="state-owners",e.ACT_TEMPLATES="act-templates",e.ACT="act",e.PUBLIC_SPACES="public-spaces",e.BOOKING="booking",e.PAYMENT="payment",e.OWNER_PAYMENT="owner-payment",e.MAIL="mail",e))(rn||{});function Rr(e){const{theme:t}=sn(c=>c.themeState),{id:n}=qs();return{getAllFirestore:async c=>{if(!t.id&&!n)return[];const f=`customizations/${n||t.id}`,d=c?ec(Ci(Et,e),ut("customization","==",f),...c):ec(Ci(Et,e),ut("customization","==",f));return(await jp(d)).docs.map(y=>({id:y.id,...y.data()}))},updateFirestore:async(c,f)=>{const d=br(Et,`${e}/${c}`),p=`customizations/${t.id||c}`;return await GS(d,{...f,customization:p})},deleteFirestore:async c=>{await s5(br(Et,`${e}/${c}`))},addFirestore:async c=>await Qc(Ci(Et,e),{...c,customization:`customizations/${t==null?void 0:t.id}`}),getByParam:async(c,f)=>{if(!t.id&&!n)return[];const d=`customizations/${n||t.id}`,p=ec(Ci(Et,e),ut("customization","==",d),ut(c,"==",f));return(await jp(p)).docs.map(b=>({id:b.id,...b.data()}))},getById:async c=>{const f=br(Et,`${e}/${c}`),d=await qS(f);return{id:d.id,...d.data()}},getDocRef:c=>br(Et,`${e}/${c}`)}}var Jt=(e=>(e.PENDING="null",e.ACCEPTED="true",e.REJECTED="false",e))(Jt||{});const AR={null:"Pendiente",false:"Rechazado",true:"Aceptado"},fE=()=>{const e=Rr(rn.REQUEST),{theme:t}=sn(l=>l.themeState);return{createRequest:async l=>{var c,f;return await e.addFirestore({type:l.requestType,description:l.description,customization:t.id,approved:Jt.PENDING,user:{displayName:l.displayName,email:l.email,uid:l.uid,phoneNumber:l.phoneNumber},dateDetail:{date:l.date,startHour:(c=l.startHour)!=null?c:0,endHour:(f=l.endHour)!=null?f:0},foreignId:l.foreignId,createdAt:new Date().toUTCString()})},getAdminRequest:async()=>await e.getAllFirestore(),changeRequestState:async(l,u)=>{await e.updateFirestore(u.id,{customization:u.customization,dateDetail:u.dateDetail,description:u.description,type:u.type,user:u.user,id:u.id,approved:l})},deleteRequest:async l=>{await e.deleteFirestore(l)},getOwnerRequests:async l=>await e.getAllFirestore([ut("user.uid","==",l)]),updateOwner:async(l,u)=>await e.updateFirestore(l.id,{...l,user:{...l.user,...u}})}},oo=()=>{const e=Rr(rn.REGISTERED_USER);return{getOwnerByUid:async g=>{const[y]=await e.getByParam("uid",g);return y},getAllOwners:async()=>await e.getAllFirestore([ut("role","==",je.CLIENT)]),getOwnersWithIds:g=>e.getAllFirestore([ut(q0(),"in",g)]),getOwnerById:async g=>await e.getById(g),getOwnerByEmail:async g=>{const[y]=await e.getByParam("email",g);return y},getActiveOwners:async()=>await e.getAllFirestore([ut("role","==",je.CLIENT),ut("accepted","==",!0),ut("deleted","==",!1)]),activateOwnerAccount:async(g,y)=>{try{await e.updateFirestore(g,{...y,accepted:!0})}catch(b){console.error(b)}},deleteTemporallyUser:g=>e.updateFirestore(g.id,{...g,deleted:!0}),deleteOwner:async g=>await e.deleteFirestore(g),createOwner:async g=>await e.addFirestore(g),getOwnersByState:async g=>await e.getAllFirestore([ut("role","==",je.CLIENT),ut("states","array-contains",g)]),updateOwner:async(g,y)=>{await e.updateFirestore(g,y)},updateActOwner:async(g,y)=>{await e.updateFirestore(g,y)}}};class Tn extends Error{constructor(n){super();Cf(this,"message");this.message=n}}function of(e){const t=e.getFullYear(),n=(1+e.getMonth()).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0");return n+"/"+r+"/"+t}function hE(e){const t=e.getFullYear(),n=(1+e.getMonth()).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0");return t+"-"+n+"-"+r}class pE extends Error{constructor(n,r){super(n);Cf(this,"fallbackData");this.name="RegisterError",this.fallbackData=r}}var Li=(e=>(e.PICTURES="pictures",e.TEMPLATES="templates",e))(Li||{});const sg=()=>({deleteFile:async(r,i)=>{const s=yh(vh,`${i}/${r}`);return await pR(s)},uploadFile:async r=>{const{file:i,filename:s,filepath:a}=r,o=yh(vh,`${a}/${s}`);return await hR(o,i),await Av(o)},getUrl:async({fileName:r,path:i})=>{const s=yh(vh,`${i}/${r}`);return await Av(s)}}),mE=()=>{const e=sg(),t=async p=>await CN(aa,p.email,p.password),n=async(p,g)=>await e.uploadFile({file:p,filename:g,filepath:Li.PICTURES}),r=async p=>{try{return await e.deleteFile(p,Li.PICTURES),!0}catch(g){if(g instanceof Rt&&g.code==="storage/object-not-found")return!0;throw g}},i=async(p,g,y)=>await ON(p,{displayName:g,photoURL:y}),s=async p=>await $N(p);return{createUser:t,deleteAppUser:async({newUserInstance:p})=>{p&&await Promise.all([s(p),r(p.uid)])},removeUserImage:r,uploadUserImage:n,updateUserProfile:i,updatePasswordFb:async(p,g)=>{await NN(p,g)},signIn:async(p,g)=>await IN(aa,p,g),logOut:async()=>await aa.signOut(),createCompleteUser:async p=>{let g=null;try{const{user:y}=await t({email:p.email,password:p.password});g=y;let b;return p.photo&&(b=await n(p.photo.blob,g.uid)),await i(y,p.displayName,b),{newUserInstance:g,photoUrl:b}}catch{throw new pE("Error al crear el registro",{newUserInstance:g})}},changePasswordEmail:async p=>{await TN(aa,p)},getCurrentUser:()=>aa.currentUser}},gE=()=>{const e=Rr(rn.APARTMENTS);return{getApartments:async()=>await e.getAllFirestore(),getApartmentByOwner:async u=>{const[c]=await e.getByParam("owner",u);return c},getApartmentById:async u=>await e.getById(u),addApartment:async u=>await e.addFirestore(u),deleteApartment:async u=>await e.deleteFirestore(u),updateApartment:async(u,c)=>await e.updateFirestore(u,c),getAvailableApartments:async()=>await e.getAllFirestore([ut("owner","==","")]),getApartmentRef:u=>e.getDocRef(u)}},Tv=Ci(Et,"mail");function lf(){return{sendEmail:async({email:n,body:r,subject:i,html:s=!1})=>{await Qc(Tv,s?{to:n,message:{subject:i,body:r}}:{to:n,message:{subject:i,html:r}})},sendBulkEmails:async(n,{body:r,subject:i,html:s=!1})=>{await Qc(Tv,s?{to:n,message:{subject:i,body:r}}:{to:n,message:{subject:i,html:r}})}}}const Vp={"1 AM":1,"2 AM":2,"3 AM":3,"4 AM":4,"5 AM":5,"6 AM":6,"7 AM":7,"8 AM":8,"9 AM":9,"10 AM":10,"11 AM":11,"12 AM":12,"1 PM":13,"2 PM":14,"3 PM":15,"4 PM":16,"5 PM":17,"6 PM":18,"7 PM":19,"8 PM":20,"9 PM":21,"10 PM":22,"11 PM":23,"12 PM":24},js={1:"1 AM",2:"2 AM",3:"3 AM",4:"4 AM",5:"5 AM",6:"6 AM",7:"7 AM",8:"8 AM",9:"9 AM",10:"10 AM",11:"11 AM",12:"12 AM",13:"1 PM",14:"2 PM",15:"3 PM",16:"4 PM",17:"5 PM",18:"6 PM",19:"7 PM",20:"8 PM",21:"9 PM",22:"10 PM",23:"11 PM",24:"12 PM"},ag=()=>{const e=Rr(rn.BOOKING);return{addBooking:async a=>await e.addFirestore(a),getAllBookings:async()=>await e.getAllFirestore(),getBookingsByOwner:async a=>await e.getAllFirestore([ut("owner.uid","==",a)]),deleteBooking:async a=>await e.deleteFirestore(a),updateBookingUser:async a=>await e.updateFirestore(a.id,a)}},og=()=>{const e=ag(),{uid:t}=ii(l=>l.authState),n=lf();return{addBooking:async l=>{await e.addBooking(l)},deleteBooking:async l=>{await e.deleteBooking(l.id),await n.sendEmail({email:"nmontanob@slabcode.com",body:`Se cancelo la reservaci\xF3n para "${l.publicSpace}" el d\xEDa ${l.date} a las ${js[l.startHour]}`,subject:"Se cancelo su reservaci\xF3n para el espacio p\xFAblico"})},getBookingsByOwner:async()=>(await e.getBookingsByOwner(t)).map(u=>({...u,publicSpaceName:u.publicSpace.name})),getBookings:async()=>(await e.getAllBookings()).map(u=>({...u,publicSpaceName:u.publicSpace.name})),updateAllOwners:async l=>{(await e.getBookingsByOwner(l.uid)).map(c=>e.updateBookingUser({...c,owner:{...l}}))}}},yE=()=>{const e=gE(),t=oo();return{getApartmentsWithOwners:async()=>{const[u,c]=await Promise.all([e.getApartments(),t.getAllOwners()]),f=u.map(d=>{const p={...d,phone:"",email:"",name:"",hasOwner:!1};if(!d.owner)return p;const g=c.find(y=>y.uid===d.owner);return g?{...d,phone:g.phoneNumber,email:g.email,name:g.displayName,hasOwner:!0}:p});return f.sort((d,p)=>d.tower.localeCompare(p.tower)),f},getApartmentByOwner:async u=>{const c=await e.getApartmentByOwner(u),f=await t.getOwnerByUid(u);return{apartment:c,owner:f}},addApartment:async u=>await e.addApartment(u),deleteApartment:async u=>{await e.deleteApartment(u.id);let c=null;u.owner&&u.owner!==""&&(c=await t.getOwnerByUid(u.owner),await t.updateOwner(c.id,{...c,apartmentId:""}))},updateApartment:async u=>{await e.updateApartment(u.id,u)},getAvailableApartments:async()=>await e.getAvailableApartments(),updateExtraInfo:(u,c)=>e.updateApartment(u.id,{...u,extraInfo:{...c}})}};var Bt=(e=>(e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY",e[e.SUNDAY=7]="SUNDAY",e))(Bt||{});const TR={Lunes:Bt.MONDAY,Martes:Bt.TUESDAY,Mi\u00E9rcoles:Bt.WEDNESDAY,Jueves:Bt.THURSDAY,Viernes:Bt.FRIDAY,S\u00E1bado:Bt.SATURDAY,Domingo:Bt.SUNDAY},lg={[Bt.MONDAY]:"Lunes",[Bt.TUESDAY]:"Martes",[Bt.WEDNESDAY]:"Mi\xE9rcoles",[Bt.THURSDAY]:"Jueves",[Bt.FRIDAY]:"Viernes",[Bt.SATURDAY]:"S\xE1bado",[Bt.SUNDAY]:"Domingo"};function CR(e,t){const n={},r={};return Object.entries(Vp).filter(([i,s])=>s>=e||s<=t).forEach(([i,s])=>{if(s===t){r[i]=s;return}if(s===e){n[i]=s;return}n[i]=s,r[i]=s}),{startHours:Object.entries(n),endHours:Object.entries(r)}}const IR=()=>{const e=Rr(rn.PUBLIC_SPACES);return{getAll:async()=>await e.getAllFirestore(),create:async a=>await e.addFirestore(a),updatePublicSpace:async a=>await e.updateFirestore(a.id,a),deletePublicSpace:async a=>await e.deleteFirestore(a),getPublicSpaceById:async a=>await e.getById(a)}},ug=()=>{const e=IR(),t=ag();return{getAllPublicSpaces:async()=>await e.getAll(),getPublicSpacesHours:async()=>{const[l,u]=await Promise.all([e.getAll(),t.getAllBookings()]);return{publicWithHours:l.map(f=>{const d=CR(Number(f.schedule.rangeStartHour),Number(f.schedule.rangeEndHour));return{...f,availableHours:d}}),bookings:u}},createPublicSpace:async l=>await e.create(l),updatePublicSpace:async l=>await e.updatePublicSpace(l),deletePublicSpace:async l=>await e.deletePublicSpace(l),getPublicSpaceById:async l=>await e.getPublicSpaceById(l)}},cg=()=>{const e=fE(),t=oo(),n=ug(),r=yE(),i=og(),s=ii(m=>m.authState),a=async()=>{const m=await e.getAdminRequest();return m.sort((v,w)=>new Date(w.createdAt).getTime()-new Date(v.createdAt).getTime()),m},o=async m=>{await e.deleteRequest(m)},l=async(m,v)=>{try{await e.changeRequestState(m,v)}catch(w){throw await e.changeRequestState(Jt.PENDING,v),w}};return{getAdminRequest:a,changeRequestState:l,deleteRequest:o,createAccessRequest:async m=>{await e.createRequest({requestType:gn.ACCESS,uid:m.uid,email:m.email,displayName:m.displayName,description:m.description,phoneNumber:m.phoneNumber,date:of(new Date),foreignId:""})},createPublicSpaceRequest:async m=>{const[v,w]=await Promise.all([t.getOwnerByUid(s.uid),n.getPublicSpaceById(m.space.id)]),E=new Date(m.date).getDay()+1;if(!w.schedule.days.includes(E))throw new Tn("D\xEDas disponibles: "+w.schedule.days.map(N=>`${lg[N]}`));await e.createRequest({description:`Solicitud de reserva: "${m.space.name}"`,endHour:m.endHour,startHour:m.startHour,requestType:gn.PUBLIC_SPACE,displayName:s.displayName,uid:s.uid,email:s.email,phoneNumber:v.phoneNumber,date:m.date,foreignId:m.space.id})},acceptAccessRequest:async(m,v)=>{let w=null;try{w=await t.getOwnerByUid(m.user.uid),await Promise.all([t.updateOwner(w.id,{...w,apartmentId:v.id}),r.updateApartment({...v,owner:m.user.uid,id:v.id}),l(Jt.ACCEPTED,m),t.activateOwnerAccount(w.id,w)])}catch(E){throw console.error(E),w&&await t.updateOwner(w.id,{...w,apartmentId:""}),await r.updateApartment({...v,id:v.id,owner:""}),E}},acceptPublicSpaceRequest:async m=>{try{const v=await n.getPublicSpaceById(m.foreignId),w={date:m.dateDetail.date,startHour:Number(m.dateDetail.startHour),endHour:Number(m.dateDetail.endHour),owner:m.user,publicSpace:{name:v.name,id:v.id},createAt:new Date().toUTCString()};await Promise.all([i.addBooking(w),l(Jt.ACCEPTED,m)])}catch(v){throw console.error(v),v}},getOwnerRequest:async m=>{try{return await e.getOwnerRequests(m)}catch(v){return console.error(v),[]}},createActRequest:async m=>{const{phoneNumber:v}=await t.getOwnerByUid(s.uid);await e.createRequest({description:m.recordDetail,requestType:gn.ACT,displayName:s.displayName,uid:s.uid,email:s.email,phoneNumber:v,date:m.date,foreignId:""})},updateAllUsers:async m=>{const w=(await e.getOwnerRequests(m.uid)).map(E=>e.updateOwner(E,m));await Promise.all(w)},acceptActRequest:async(m,v)=>{let w=null;try{if(m.user.uid!==void 0)w=await t.getOwnerByUid(m.user.uid);else throw new Error("ID is undefined");await Promise.all([t.updateActOwner(w.id,{...w,actsAccess:v}),l(Jt.ACCEPTED,m)])}catch(E){throw console.error(E),E}}}};function dg(e){const{theme:t}=sn(u=>u.themeState),{id:n}=qs();return{getBatch:()=>o5(Et),getWithDocRef:async()=>{if(!t.id&&!n)return[];const u=`customizations/${n||t.id}`,c=ec(Ci(Et,e),ut("customization","==",u));return(await jp(c)).docs.map(p=>({...p.data(),docRef:p.ref,id:p.id}))},bulkDelete:(u,c)=>{c.forEach(({id:f})=>{const d=br(Et,`${e}/${f}`);u.delete(d)})},bulkCreate:(u,c)=>{const f=br(Ci(Et,e));c.forEach(d=>{u.set(f,{...d,customization:`customizations/${t==null?void 0:t.id}`})})},bulkUpdate:(u,c,f)=>{c.forEach(d=>{const p=br(Et,`${e}/${d[f]}`);u.set(p,{...d,customization:`customizations/${t==null?void 0:t.id}`})})},commitBatch:u=>u.commit()}}const vE=()=>{const e=Rr(rn.OWNER_PAYMENT),t=dg(rn.OWNER_PAYMENT);return{deleteOwnerPayment:d=>e.deleteFirestore(d),updateOwnerPaymentState:d=>e.updateFirestore(d.id,d),updateBulkStates:async d=>{const p=t.getBatch();return t.bulkUpdate(p,d,"id"),t.commitBatch(p)},createOwnerPayment:d=>e.addFirestore(d),getAllOwnersPayment:async()=>await e.getAllFirestore(),getOwnersByPayment:async d=>(await e.getAllFirestore()).filter(g=>g.payments.some(y=>y.paymentId===d)),getPaymentByOwner:async d=>{const[p]=await e.getByParam("ownerId",d);return p},getPaymentsByOwners:d=>e.getAllFirestore([ut("ownerId","in",d)]),getPaymentOwnerRef:d=>e.getDocRef(d),bulkOperations:async({toDeleteIds:d,toUpdate:p,toAdd:g})=>{const y=t.getBatch();return t.bulkCreate(y,g),t.bulkUpdate(y,p,"id"),t.bulkDelete(y,d),t.commitBatch(y)}}};function PR(){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let n="";for(let r=0,i=t.length;r<8;++r)n+=t.charAt(Math.floor(Math.random()*i));return n}const wE=()=>{const e=oo(),t=gE(),n=ag(),r=cg(),i=og(),s=vE(),a=mE(),o=sg(),{getBatch:l,commitBatch:u,bulkDelete:c}=dg(rn.BOOKING),f=lf(),{id:d}=qs(),p=an();return{getOwners:async()=>{const[S,P]=await Promise.all([e.getActiveOwners(),t.getApartments()]);return S.map(_=>({apartment:P.find(O=>O.owner===_.uid),..._}))},getOwnerById:S=>e.getOwnerById(S),getOwnerDetailBooking:async S=>{console.log(S);const P=await e.getOwnerByUid(S),[_,x]=await Promise.all([t.getApartmentByOwner(P.uid),n.getBookingsByOwner(P.uid)]);return{owner:P,apartment:_,bookings:x}},getOwnerDetailUid:async S=>{const[P,_]=await Promise.all([e.getOwnerByUid(S),t.getApartmentByOwner(S)]);return{owner:P,apartment:_}},updateOwner:async(S,P)=>{const _=a.getCurrentUser();if(!_)return;let x=null;if(S.name&&S.blob){const[,F]=await Promise.all([o.deleteFile(P.uid,Li.PICTURES),o.uploadFile({file:S.blob,filename:P.uid,filepath:Li.PICTURES})]);x=F}const O={displayName:S.displayName,phoneNumber:S.phoneNumber},k={...O,email:P.email,uid:P.uid},R=x!=null?x:_.photoURL,L=[a.updateUserProfile(_,O.displayName,R!=null?R:void 0),e.updateOwner(P.id,{...P,...O,photoUrl:R}),r.updateAllUsers(k),i.updateAllOwners(k)];await Promise.all(L),p(ER({displayName:O.displayName,photoUrl:R}))},createOwner:async S=>{const P=PR(),{newUserInstance:_}=await a.createCompleteUser({displayName:S.name,email:S.email,phoneNumber:S.phone,requestDescription:"",password:P,photo:null,role:je.CLIENT});Promise.all([t.updateApartment(S.apartment.id,{...S.apartment,owner:_.uid})]),await e.createOwner({role:je.CLIENT,uid:_.uid,accepted:!0,phoneNumber:S.phone.toString(),apartmentId:S.apartment.id,displayName:_.displayName,email:_.email,photoUrl:_.photoURL,deleted:!1,actsAccess:[]}),await f.sendEmail({email:S.email,subject:"Se acaba de crear un usuario en FlexTo",body:`<h1>\xA1Hola! Bienvenido a FlexTo ${_.displayName}</h1>
      <br />
      <p>
      Se te acaba de asignar un usuario a este correo electr\xF3nico con la contrase\xF1a temporal, ingresa a la p\xE1gina para poder cambiarla <br/>
      <b>Contrase\xF1a: ${P}</b>
      <br/>
      <br/>
      Gracias por su atenci\xF3n.
      <br/>
      <br/>
      Equipo FlexTo. S.A.S
      </p>
      <p>Si no solicito ning\xFAn usuario haga caso omiso a este mensaje.</p>`})},deleteTemporallyUser:async S=>{const P=await e.getOwnerById(S);await e.deleteTemporallyUser(P)},deleteUserTotally:async S=>{const P=await e.getOwnerById(S),[_,x,O]=await Promise.all([t.getApartmentByOwner(P.uid),n.getBookingsByOwner(P.uid),s.getPaymentByOwner(P.id),e.deleteOwner(P.id)]),k=t.getApartmentRef(_.id),R=s.getPaymentOwnerRef(O.id),L=l();c(L,x),L.set(k,{..._,owner:"",customization:`customizations/${d}`}),L.delete(R),u(L)}}},_E=()=>{const e=mE(),t=oo(),n=wE(),r=fE(),i=async u=>{let c=null;try{const{newUserInstance:f,photoUrl:d}=await e.createCompleteUser(u);await t.createOwner({role:je.CLIENT,uid:f.uid,accepted:!1,phoneNumber:u.phoneNumber.toString(),apartmentId:"",displayName:f.displayName,email:f.email,photoUrl:f.photoURL,deleted:!1,actsAccess:[]});const{id:p}=await r.createRequest({requestType:gn.ACCESS,uid:f.uid,email:f.email,displayName:f.displayName,description:u.requestDescription,phoneNumber:u.phoneNumber,date:of(new Date),foreignId:""});return c=p,{ok:!0,user:{email:f.email,uid:f.uid,displayName:f.displayName,photoUrl:d!=null?d:"",role:je.CLIENT}}}catch(f){throw f instanceof pE&&(e.deleteAppUser(f.fallbackData),c&&t.deleteOwner(c)),f}},s=async(u,c)=>{const f=await t.getOwnerByUid(c.uid);if(f)return{...f,uid:f.uid,email:c.email,displayName:c.displayName,photoUrl:c.photoURL,role:f.role,deleted:f.deleted,agreement:u,userState:f.accepted?qi.APPROVED:qi.PENDING};throw new Rt("custom-error","invalid agreement")},a=async(u,c)=>{const{user:f}=await e.signIn(u.email,u.password),d=await s(c,f);if(d.deleted)throw await l(d.id,f),new Tn("user_deleted");return d},o=async u=>{if(!await t.getOwnerByEmail(u))throw new Tn("El usuario no existe");return await e.changePasswordEmail(u)},l=async(u,c)=>{await Promise.all([e.deleteAppUser({newUserInstance:c}),n.deleteUserTotally(u)])};return{registerUser:i,signInWithEmailAndPassword:a,logOut:e.logOut,getExtraUser:s,sendRecoveryPasswordEmail:o,deleteUser:l}};function bE(e){const t=_E(),n=an(),r=ri(),i=async u=>{n(H(!0));try{const c=await t.signInWithEmailAndPassword(u,e);n(wh(c)),l(c)}catch(c){if(console.error(c),c instanceof Tn&&c.message==="user_deleted"){n(re({title:"Su cuenta ha sido eliminada por el administrador",details:["Puede contactar con el administrador para validar esta informaci\xF3n"],type:"info"})),a();return}c instanceof Rt&&(n(re({type:"error",title:"Error en el ingreso",details:["Usuario o contrase\xF1a invalida"]})),a())}finally{n(H(!1))}},s=async u=>{if(!u){r(`/${e}/auth`,{replace:!0});return}n(H(!0));try{const c=await t.getExtraUser(e,u);n(wh(c)),l(c)}catch(c){c instanceof Rt&&(n(re({type:"error",title:"Error en el ingreso",details:["No se pudo autenticar correctamente"]})),a())}finally{n(H(!1))}},a=async()=>{n(H(!0));try{n(SR()),await t.logOut(),r(`/${e}/auth`,{replace:!0})}finally{n(H(!1))}},o=async u=>{n(H(!0));try{const c=await t.registerUser(u);if(!c)return;n(wh({...c.user,agreement:e,userState:qi.PENDING})),r(`/${e}/home/wait-approved`,{replace:!0})}catch(c){console.error(c),c instanceof Rt&&n(re({title:"Error al crear el usuario",details:[_R[c.code]],type:"error"}))}finally{n(H(!1))}},l=u=>{if(u.userState===qi.PENDING){r(`/${e}/home/wait-approved`,{replace:!0});return}const c=new URL(location.href);if(u.role===je.CLIENT){const f=c.pathname.includes("auth")?`/${e}/home/request`:`/${c.pathname}`;r(f,{replace:!0});return}if(u.role===je.ADMIN){const f=c.pathname.includes("auth")?`/${e}/home/owners`:`/${c.pathname}`;r(f,{replace:!0})}};return{signInWithEmailAndPassword:i,logOut:a,register:o,getRedirectPath:l,signInFirebase:s}}const OR=e=>{const t=bE(e);return{getCurrentUser:()=>new Promise(i=>{RN(aa,s=>{i(s)})}),getRedirectPath:async i=>{await t.signInFirebase(i)}}};let Cv=null,Iv=null;function SE(){return{getCustomizationById:async r=>{if(Cv!==r){Cv=r;const i=br(Et,`customizations/${r}`),s=await qS(i);if(!s.exists())throw new Error("Theme doesn't exist");Iv={id:s.id,...s.data()}}return Iv},addCustomization:async r=>await Qc(Ci(Et,"customizations"),r),updateCustomization:async r=>{const{id:i,...s}=r,a=br(Et,`customizations/${i}`);await GS(a,s)}}}const NR={theme:{id:"",logo:"",menu:["",""],menuDark:["",""],primary:["",""]}},EE=qd({name:"theme",initialState:NR,reducers:{setTheme:(e,t)=>{e.theme=t.payload}}}),{setTheme:xE}=EE.actions,kR=e=>`
.bg-primary {
  background-color: ${e.primary[0]};
}

.text-primary {
  color: ${e.primary[0]};
}

.accent-primary {
  accent-color: ${e.primary[0]};
}

.search-input::placeholder {
  color: ${e.primary[0]};
}

.fill-primary {
  fill: ${e.primary[0]} !important;
}

.border-primary {
  border-color: ${e.primary[0]};
}

.bg-menu {
  background-color: ${e.menu[0]};
}

.bg-menu-dark {
  background-color: ${e.menuDark[0]};
}

.border-primary-search:focus {
  border-color: ${e.primary[0]};
}

.bg-menu-item:hover {
  background-color: ${e.menu[0]};
  filter: brightness(85%);
}
`;function RR(e){const t=kR(e);let n=document.getElementById("theme-style");n||(n=document.createElement("style"),n.id="theme-style",document.head.append(n)),n.textContent=t;const r=document.documentElement;r.style.setProperty("--primary",e.primary[0]),r.style.setProperty("--menu",e.menu[0])}const $R=e=>{const t=SE(),n=Xi(),r=ri();return{setup:async()=>{try{const s=await t.getCustomizationById(e);return n(xE(s)),RR(s),s}catch{r("/NotFound")}}}},FR=()=>{const{id:e}=qs(),[t,n]=$.exports.useState(!0);if(!e)return h(Ja,{to:"/NotFound"});const r=$R(e),{getCurrentUser:i,getRedirectPath:s}=OR(e);return $.exports.useEffect(()=>{r.setup().then(()=>i()).then(a=>s(a)).finally(()=>{n(!1)})},[]),t?h(ge,{}):A(ge,{children:[h(vP,{}),h(xb,{})]})},DR=()=>A("div",{className:"bg-indigo-900 relative overflow-hidden h-screen",children:[h("img",{src:"https://external-preview.redd.it/4MddL-315mp40uH18BgGL2-5b6NIPHcDMBSWuN11ynM.jpg?width=960&crop=smart&auto=webp&s=b98d54a43b3dac555df398588a2c791e0f3076d9",className:"absolute h-full w-full object-cover"}),h("div",{className:"inset-0 bg-black opacity-25 absolute"}),h("div",{className:"container mx-auto px-6 md:px-12 relative z-10 flex items-center py-32 xl:py-40",children:A("div",{className:"w-full font-mono flex flex-col items-center relative z-10",children:[h("h1",{className:"font-extrabold text-5xl text-center text-white leading-tight mt-4",children:"You are all alone here"}),h("p",{className:"font-extrabold text-8xl my-44 text-white animate-bounce",children:"404"})]})})]}),fg=()=>{const e=sn(t=>t.loadingState.loading);return h(ge,{children:e&&h(hg,{})})},hg=()=>A(ge,{children:[h("div",{className:"absolute h-screen w-full background-blur z-50 top-0 left-0"}),A("div",{className:"absolute flex items-center justify-center h-screen w-full z-50 top-0 left-0",role:"status",children:[A("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin fill-blue-700 fill-primary",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),h("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),h("span",{className:"sr-only",children:"Loading..."})]})]});var AE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pv=rc.createContext&&rc.createContext(AE),Ui=globalThis&&globalThis.__assign||function(){return Ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ui.apply(this,arguments)},MR=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function TE(e){return e&&e.map(function(t,n){return rc.createElement(t.tag,Ui({key:n},t.attr),TE(t.child))})}function _e(e){return function(t){return h(LR,{...Ui({attr:Ui({},e.attr)},t),children:TE(e.child)})}}function LR(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,a=MR(e,["attr","size","title"]),o=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),A("svg",{...Ui({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Ui(Ui({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),children:[s&&h("title",{children:s}),e.children]})};return Pv!==void 0?h(Pv.Consumer,{children:function(n){return t(n)}}):t(AE)}function CE(e){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400L100 256l144-144M120 256h292"}}]})(e)}function UR(e){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432 176H320V64a48 48 0 00-48-48H80a48 48 0 00-48 48v416a16 16 0 0016 16h104a8 8 0 008-8v-71.55c0-8.61 6.62-16 15.23-16.43A16 16 0 01192 416v72a8 8 0 008 8h264a16 16 0 0016-16V224a48 48 0 00-48-48zM98.08 431.87a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm80 240a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm80 320a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zm0-80a16 16 0 1113.79-13.79 16 16 0 01-13.79 13.79zM444 464H320V208h112a16 16 0 0116 16v236a4 4 0 01-4 4z"}},{tag:"path",attr:{d:"M400 400a16 16 0 1016 16 16 16 0 00-16-16zm0-80a16 16 0 1016 16 16 16 0 00-16-16zm0-80a16 16 0 1016 16 16 16 0 00-16-16zm-64 160a16 16 0 1016 16 16 16 0 00-16-16zm0-80a16 16 0 1016 16 16 16 0 00-16-16zm0-80a16 16 0 1016 16 16 16 0 00-16-16z"}}]})(e)}function IE(e){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}function BR(e){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320V144a32 32 0 00-32-32h0a32 32 0 00-32 32v112m0 0V80a32 32 0 00-32-32h0a32 32 0 00-32 32v160m-64 1V96a32 32 0 00-32-32h0a32 32 0 00-32 32v224m128-80V48a32 32 0 00-32-32h0a32 32 0 00-32 32v192"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M432 320c0 117.4-64 176-152 176s-123.71-39.6-144-88L83.33 264c-6.66-18.05-3.64-34.79 11.87-43.6h0c15.52-8.82 35.91-4.28 44.31 11.68L176 320"}}]})(e)}function jR(e){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M160 256a16 16 0 0116-16h144V136c0-32-33.79-56-64-56H104a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h160a56.06 56.06 0 0056-56V272H176a16 16 0 01-16-16zm299.31-11.31l-80-80a16 16 0 00-22.62 22.62L409.37 240H320v32h89.37l-52.68 52.69a16 16 0 1022.62 22.62l80-80a16 16 0 000-22.62z"}}]})(e)}function zR(e){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M424 80H88a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h336a56.06 56.06 0 0056-56V136a56.06 56.06 0 00-56-56zm-14.18 92.63l-144 112a16 16 0 01-19.64 0l-144-112a16 16 0 1119.64-25.26L256 251.73l134.18-104.36a16 16 0 0119.64 25.26z"}}]})(e)}function VR(e){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zm65.83 264H204.18a27.71 27.71 0 01-22-10.67 30.22 30.22 0 01-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 01-5.32 25.78A27.68 27.68 0 01467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zm65.66 31.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 004.79 23.36A25.32 25.32 0 0041.72 400h111a8 8 0 007.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 00-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z"}}]})(e)}function HR(e){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M465.94 119.76l-73.7-73.7A47.68 47.68 0 00358.3 32H96a64 64 0 00-64 64v320a64 64 0 0064 64h320a64 64 0 0064-64V153.7a47.68 47.68 0 00-14.06-33.94zM120 112h176a8 8 0 018 8v48a8 8 0 01-8 8H120a8 8 0 01-8-8v-48a8 8 0 018-8zm139.75 319.91a80 80 0 1176.16-76.16 80.06 80.06 0 01-76.16 76.16z"}},{tag:"circle",attr:{cx:"256",cy:"352",r:"48"}}]})(e)}function pg(e){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"}}]})(e)}const uf=()=>{const{theme:e}=sn(n=>n.themeState);return{authController:bE(e.id)}};var Ov=Array.isArray,Nv=Object.keys,WR=Object.prototype.hasOwnProperty,qR=typeof Element<"u";function Hp(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Ov(e),r=Ov(t),i,s,a;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!Hp(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var o=e instanceof Date,l=t instanceof Date;if(o!=l)return!1;if(o&&l)return e.getTime()==t.getTime();var u=e instanceof RegExp,c=t instanceof RegExp;if(u!=c)return!1;if(u&&c)return e.toString()==t.toString();var f=Nv(e);if(s=f.length,s!==Nv(t).length)return!1;for(i=s;i--!==0;)if(!WR.call(t,f[i]))return!1;if(qR&&e instanceof Element&&t instanceof Element)return e===t;for(i=s;i--!==0;)if(a=f[i],!(a==="_owner"&&e.$$typeof)&&!Hp(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}var gi=function(t,n){try{return Hp(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}},GR=function(t){return KR(t)&&!YR(t)};function KR(e){return!!e&&typeof e=="object"}function YR(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||JR(e)}var QR=typeof Symbol=="function"&&Symbol.for,XR=QR?Symbol.for("react.element"):60103;function JR(e){return e.$$typeof===XR}function ZR(e){return Array.isArray(e)?[]:{}}function Xc(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Pl(ZR(e),e,t):e}function e$(e,t,n){return e.concat(t).map(function(r){return Xc(r,n)})}function t$(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=Xc(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=Xc(t[i],n):r[i]=Pl(e[i],t[i],n)}),r}function Pl(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||e$,n.isMergeableObject=n.isMergeableObject||GR;var r=Array.isArray(t),i=Array.isArray(e),s=r===i;return s?r?n.arrayMerge(e,t,n):t$(e,t,n):Xc(t,n)}Pl.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return Pl(r,i,n)},{})};var Wp=Pl,n$=typeof global=="object"&&global&&global.Object===Object&&global;const PE=n$;var r$=typeof self=="object"&&self&&self.Object===Object&&self,i$=PE||r$||Function("return this")();const $r=i$;var s$=$r.Symbol;const Gi=s$;var OE=Object.prototype,a$=OE.hasOwnProperty,o$=OE.toString,Io=Gi?Gi.toStringTag:void 0;function l$(e){var t=a$.call(e,Io),n=e[Io];try{e[Io]=void 0;var r=!0}catch{}var i=o$.call(e);return r&&(t?e[Io]=n:delete e[Io]),i}var u$=Object.prototype,c$=u$.toString;function d$(e){return c$.call(e)}var f$="[object Null]",h$="[object Undefined]",kv=Gi?Gi.toStringTag:void 0;function Ks(e){return e==null?e===void 0?h$:f$:kv&&kv in Object(e)?l$(e):d$(e)}function NE(e,t){return function(n){return e(t(n))}}var p$=NE(Object.getPrototypeOf,Object);const mg=p$;function Ys(e){return e!=null&&typeof e=="object"}var m$="[object Object]",g$=Function.prototype,y$=Object.prototype,kE=g$.toString,v$=y$.hasOwnProperty,w$=kE.call(Object);function Rv(e){if(!Ys(e)||Ks(e)!=m$)return!1;var t=mg(e);if(t===null)return!0;var n=v$.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&kE.call(n)==w$}function _$(){this.__data__=[],this.size=0}function RE(e,t){return e===t||e!==e&&t!==t}function cf(e,t){for(var n=e.length;n--;)if(RE(e[n][0],t))return n;return-1}var b$=Array.prototype,S$=b$.splice;function E$(e){var t=this.__data__,n=cf(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():S$.call(t,n,1),--this.size,!0}function x$(e){var t=this.__data__,n=cf(t,e);return n<0?void 0:t[n][1]}function A$(e){return cf(this.__data__,e)>-1}function T$(e,t){var n=this.__data__,r=cf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function si(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}si.prototype.clear=_$;si.prototype.delete=E$;si.prototype.get=x$;si.prototype.has=A$;si.prototype.set=T$;function C$(){this.__data__=new si,this.size=0}function I$(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function P$(e){return this.__data__.get(e)}function O$(e){return this.__data__.has(e)}function Yl(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var N$="[object AsyncFunction]",k$="[object Function]",R$="[object GeneratorFunction]",$$="[object Proxy]";function $E(e){if(!Yl(e))return!1;var t=Ks(e);return t==k$||t==R$||t==N$||t==$$}var F$=$r["__core-js_shared__"];const _h=F$;var $v=function(){var e=/[^.]+$/.exec(_h&&_h.keys&&_h.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function D$(e){return!!$v&&$v in e}var M$=Function.prototype,L$=M$.toString;function Qs(e){if(e!=null){try{return L$.call(e)}catch{}try{return e+""}catch{}}return""}var U$=/[\\^$.*+?()[\]{}|]/g,B$=/^\[object .+?Constructor\]$/,j$=Function.prototype,z$=Object.prototype,V$=j$.toString,H$=z$.hasOwnProperty,W$=RegExp("^"+V$.call(H$).replace(U$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function q$(e){if(!Yl(e)||D$(e))return!1;var t=$E(e)?W$:B$;return t.test(Qs(e))}function G$(e,t){return e==null?void 0:e[t]}function Xs(e,t){var n=G$(e,t);return q$(n)?n:void 0}var K$=Xs($r,"Map");const Ol=K$;var Y$=Xs(Object,"create");const Nl=Y$;function Q$(){this.__data__=Nl?Nl(null):{},this.size=0}function X$(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var J$="__lodash_hash_undefined__",Z$=Object.prototype,e8=Z$.hasOwnProperty;function t8(e){var t=this.__data__;if(Nl){var n=t[e];return n===J$?void 0:n}return e8.call(t,e)?t[e]:void 0}var n8=Object.prototype,r8=n8.hasOwnProperty;function i8(e){var t=this.__data__;return Nl?t[e]!==void 0:r8.call(t,e)}var s8="__lodash_hash_undefined__";function a8(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nl&&t===void 0?s8:t,this}function zs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zs.prototype.clear=Q$;zs.prototype.delete=X$;zs.prototype.get=t8;zs.prototype.has=i8;zs.prototype.set=a8;function o8(){this.size=0,this.__data__={hash:new zs,map:new(Ol||si),string:new zs}}function l8(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function df(e,t){var n=e.__data__;return l8(t)?n[typeof t=="string"?"string":"hash"]:n.map}function u8(e){var t=df(this,e).delete(e);return this.size-=t?1:0,t}function c8(e){return df(this,e).get(e)}function d8(e){return df(this,e).has(e)}function f8(e,t){var n=df(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Ji(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ji.prototype.clear=o8;Ji.prototype.delete=u8;Ji.prototype.get=c8;Ji.prototype.has=d8;Ji.prototype.set=f8;var h8=200;function p8(e,t){var n=this.__data__;if(n instanceof si){var r=n.__data__;if(!Ol||r.length<h8-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ji(r)}return n.set(e,t),this.size=n.size,this}function lo(e){var t=this.__data__=new si(e);this.size=t.size}lo.prototype.clear=C$;lo.prototype.delete=I$;lo.prototype.get=P$;lo.prototype.has=O$;lo.prototype.set=p8;function m8(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var g8=function(){try{var e=Xs(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Fv=g8;function FE(e,t,n){t=="__proto__"&&Fv?Fv(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var y8=Object.prototype,v8=y8.hasOwnProperty;function DE(e,t,n){var r=e[t];(!(v8.call(e,t)&&RE(r,n))||n===void 0&&!(t in e))&&FE(e,t,n)}function ff(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var o=t[s],l=r?r(n[o],e[o],o,n,e):void 0;l===void 0&&(l=e[o]),i?FE(n,o,l):DE(n,o,l)}return n}function w8(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var _8="[object Arguments]";function Dv(e){return Ys(e)&&Ks(e)==_8}var ME=Object.prototype,b8=ME.hasOwnProperty,S8=ME.propertyIsEnumerable,E8=Dv(function(){return arguments}())?Dv:function(e){return Ys(e)&&b8.call(e,"callee")&&!S8.call(e,"callee")};const x8=E8;var A8=Array.isArray;const Ql=A8;function T8(){return!1}var LE=typeof _n=="object"&&_n&&!_n.nodeType&&_n,Mv=LE&&typeof bn=="object"&&bn&&!bn.nodeType&&bn,C8=Mv&&Mv.exports===LE,Lv=C8?$r.Buffer:void 0,I8=Lv?Lv.isBuffer:void 0,P8=I8||T8;const UE=P8;var O8=9007199254740991,N8=/^(?:0|[1-9]\d*)$/;function k8(e,t){var n=typeof e;return t=t==null?O8:t,!!t&&(n=="number"||n!="symbol"&&N8.test(e))&&e>-1&&e%1==0&&e<t}var R8=9007199254740991;function BE(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=R8}var $8="[object Arguments]",F8="[object Array]",D8="[object Boolean]",M8="[object Date]",L8="[object Error]",U8="[object Function]",B8="[object Map]",j8="[object Number]",z8="[object Object]",V8="[object RegExp]",H8="[object Set]",W8="[object String]",q8="[object WeakMap]",G8="[object ArrayBuffer]",K8="[object DataView]",Y8="[object Float32Array]",Q8="[object Float64Array]",X8="[object Int8Array]",J8="[object Int16Array]",Z8="[object Int32Array]",eF="[object Uint8Array]",tF="[object Uint8ClampedArray]",nF="[object Uint16Array]",rF="[object Uint32Array]",Ue={};Ue[Y8]=Ue[Q8]=Ue[X8]=Ue[J8]=Ue[Z8]=Ue[eF]=Ue[tF]=Ue[nF]=Ue[rF]=!0;Ue[$8]=Ue[F8]=Ue[G8]=Ue[D8]=Ue[K8]=Ue[M8]=Ue[L8]=Ue[U8]=Ue[B8]=Ue[j8]=Ue[z8]=Ue[V8]=Ue[H8]=Ue[W8]=Ue[q8]=!1;function iF(e){return Ys(e)&&BE(e.length)&&!!Ue[Ks(e)]}function gg(e){return function(t){return e(t)}}var jE=typeof _n=="object"&&_n&&!_n.nodeType&&_n,Xo=jE&&typeof bn=="object"&&bn&&!bn.nodeType&&bn,sF=Xo&&Xo.exports===jE,bh=sF&&PE.process,aF=function(){try{var e=Xo&&Xo.require&&Xo.require("util").types;return e||bh&&bh.binding&&bh.binding("util")}catch{}}();const Wa=aF;var Uv=Wa&&Wa.isTypedArray,oF=Uv?gg(Uv):iF;const lF=oF;var uF=Object.prototype,cF=uF.hasOwnProperty;function zE(e,t){var n=Ql(e),r=!n&&x8(e),i=!n&&!r&&UE(e),s=!n&&!r&&!i&&lF(e),a=n||r||i||s,o=a?w8(e.length,String):[],l=o.length;for(var u in e)(t||cF.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||k8(u,l)))&&o.push(u);return o}var dF=Object.prototype;function yg(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||dF;return e===n}var fF=NE(Object.keys,Object);const hF=fF;var pF=Object.prototype,mF=pF.hasOwnProperty;function gF(e){if(!yg(e))return hF(e);var t=[];for(var n in Object(e))mF.call(e,n)&&n!="constructor"&&t.push(n);return t}function VE(e){return e!=null&&BE(e.length)&&!$E(e)}function vg(e){return VE(e)?zE(e):gF(e)}function yF(e,t){return e&&ff(t,vg(t),e)}function vF(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var wF=Object.prototype,_F=wF.hasOwnProperty;function bF(e){if(!Yl(e))return vF(e);var t=yg(e),n=[];for(var r in e)r=="constructor"&&(t||!_F.call(e,r))||n.push(r);return n}function wg(e){return VE(e)?zE(e,!0):bF(e)}function SF(e,t){return e&&ff(t,wg(t),e)}var HE=typeof _n=="object"&&_n&&!_n.nodeType&&_n,Bv=HE&&typeof bn=="object"&&bn&&!bn.nodeType&&bn,EF=Bv&&Bv.exports===HE,jv=EF?$r.Buffer:void 0,zv=jv?jv.allocUnsafe:void 0;function xF(e,t){if(t)return e.slice();var n=e.length,r=zv?zv(n):new e.constructor(n);return e.copy(r),r}function WE(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function AF(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}function qE(){return[]}var TF=Object.prototype,CF=TF.propertyIsEnumerable,Vv=Object.getOwnPropertySymbols,IF=Vv?function(e){return e==null?[]:(e=Object(e),AF(Vv(e),function(t){return CF.call(e,t)}))}:qE;const _g=IF;function PF(e,t){return ff(e,_g(e),t)}function GE(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var OF=Object.getOwnPropertySymbols,NF=OF?function(e){for(var t=[];e;)GE(t,_g(e)),e=mg(e);return t}:qE;const KE=NF;function kF(e,t){return ff(e,KE(e),t)}function YE(e,t,n){var r=t(e);return Ql(e)?r:GE(r,n(e))}function RF(e){return YE(e,vg,_g)}function $F(e){return YE(e,wg,KE)}var FF=Xs($r,"DataView");const qp=FF;var DF=Xs($r,"Promise");const Gp=DF;var MF=Xs($r,"Set");const Kp=MF;var LF=Xs($r,"WeakMap");const Yp=LF;var Hv="[object Map]",UF="[object Object]",Wv="[object Promise]",qv="[object Set]",Gv="[object WeakMap]",Kv="[object DataView]",BF=Qs(qp),jF=Qs(Ol),zF=Qs(Gp),VF=Qs(Kp),HF=Qs(Yp),us=Ks;(qp&&us(new qp(new ArrayBuffer(1)))!=Kv||Ol&&us(new Ol)!=Hv||Gp&&us(Gp.resolve())!=Wv||Kp&&us(new Kp)!=qv||Yp&&us(new Yp)!=Gv)&&(us=function(e){var t=Ks(e),n=t==UF?e.constructor:void 0,r=n?Qs(n):"";if(r)switch(r){case BF:return Kv;case jF:return Hv;case zF:return Wv;case VF:return qv;case HF:return Gv}return t});const bg=us;var WF=Object.prototype,qF=WF.hasOwnProperty;function GF(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&qF.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var KF=$r.Uint8Array;const Yv=KF;function Sg(e){var t=new e.constructor(e.byteLength);return new Yv(t).set(new Yv(e)),t}function YF(e,t){var n=t?Sg(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var QF=/\w*$/;function XF(e){var t=new e.constructor(e.source,QF.exec(e));return t.lastIndex=e.lastIndex,t}var Qv=Gi?Gi.prototype:void 0,Xv=Qv?Qv.valueOf:void 0;function JF(e){return Xv?Object(Xv.call(e)):{}}function ZF(e,t){var n=t?Sg(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var eD="[object Boolean]",tD="[object Date]",nD="[object Map]",rD="[object Number]",iD="[object RegExp]",sD="[object Set]",aD="[object String]",oD="[object Symbol]",lD="[object ArrayBuffer]",uD="[object DataView]",cD="[object Float32Array]",dD="[object Float64Array]",fD="[object Int8Array]",hD="[object Int16Array]",pD="[object Int32Array]",mD="[object Uint8Array]",gD="[object Uint8ClampedArray]",yD="[object Uint16Array]",vD="[object Uint32Array]";function wD(e,t,n){var r=e.constructor;switch(t){case lD:return Sg(e);case eD:case tD:return new r(+e);case uD:return YF(e,n);case cD:case dD:case fD:case hD:case pD:case mD:case gD:case yD:case vD:return ZF(e,n);case nD:return new r;case rD:case aD:return new r(e);case iD:return XF(e);case sD:return new r;case oD:return JF(e)}}var Jv=Object.create,_D=function(){function e(){}return function(t){if(!Yl(t))return{};if(Jv)return Jv(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const bD=_D;function SD(e){return typeof e.constructor=="function"&&!yg(e)?bD(mg(e)):{}}var ED="[object Map]";function xD(e){return Ys(e)&&bg(e)==ED}var Zv=Wa&&Wa.isMap,AD=Zv?gg(Zv):xD;const TD=AD;var CD="[object Set]";function ID(e){return Ys(e)&&bg(e)==CD}var ew=Wa&&Wa.isSet,PD=ew?gg(ew):ID;const OD=PD;var ND=1,kD=2,RD=4,QE="[object Arguments]",$D="[object Array]",FD="[object Boolean]",DD="[object Date]",MD="[object Error]",XE="[object Function]",LD="[object GeneratorFunction]",UD="[object Map]",BD="[object Number]",JE="[object Object]",jD="[object RegExp]",zD="[object Set]",VD="[object String]",HD="[object Symbol]",WD="[object WeakMap]",qD="[object ArrayBuffer]",GD="[object DataView]",KD="[object Float32Array]",YD="[object Float64Array]",QD="[object Int8Array]",XD="[object Int16Array]",JD="[object Int32Array]",ZD="[object Uint8Array]",eM="[object Uint8ClampedArray]",tM="[object Uint16Array]",nM="[object Uint32Array]",Re={};Re[QE]=Re[$D]=Re[qD]=Re[GD]=Re[FD]=Re[DD]=Re[KD]=Re[YD]=Re[QD]=Re[XD]=Re[JD]=Re[UD]=Re[BD]=Re[JE]=Re[jD]=Re[zD]=Re[VD]=Re[HD]=Re[ZD]=Re[eM]=Re[tM]=Re[nM]=!0;Re[MD]=Re[XE]=Re[WD]=!1;function Jo(e,t,n,r,i,s){var a,o=t&ND,l=t&kD,u=t&RD;if(n&&(a=i?n(e,r,i,s):n(e)),a!==void 0)return a;if(!Yl(e))return e;var c=Ql(e);if(c){if(a=GF(e),!o)return WE(e,a)}else{var f=bg(e),d=f==XE||f==LD;if(UE(e))return xF(e,o);if(f==JE||f==QE||d&&!i){if(a=l||d?{}:SD(e),!o)return l?kF(e,SF(a,e)):PF(e,yF(a,e))}else{if(!Re[f])return i?e:{};a=wD(e,f,o)}}s||(s=new lo);var p=s.get(e);if(p)return p;s.set(e,a),OD(e)?e.forEach(function(b){a.add(Jo(b,t,n,b,e,s))}):TD(e)&&e.forEach(function(b,m){a.set(m,Jo(b,t,n,m,e,s))});var g=u?l?$F:RF:l?wg:vg,y=c?void 0:g(e);return m8(y||e,function(b,m){y&&(m=b,b=e[m]),DE(a,m,Jo(b,t,n,m,e,s))}),a}var rM=4;function tw(e){return Jo(e,rM)}function ZE(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var iM="[object Symbol]";function Eg(e){return typeof e=="symbol"||Ys(e)&&Ks(e)==iM}var sM="Expected a function";function xg(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(sM);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(xg.Cache||Ji),n}xg.Cache=Ji;var aM=500;function oM(e){var t=xg(e,function(r){return n.size===aM&&n.clear(),r}),n=t.cache;return t}var lM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uM=/\\(\\)?/g,cM=oM(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(lM,function(n,r,i,s){t.push(i?s.replace(uM,"$1"):r||n)}),t});const dM=cM;var fM=1/0;function hM(e){if(typeof e=="string"||Eg(e))return e;var t=e+"";return t=="0"&&1/e==-fM?"-0":t}var pM=1/0,nw=Gi?Gi.prototype:void 0,rw=nw?nw.toString:void 0;function ex(e){if(typeof e=="string")return e;if(Ql(e))return ZE(e,ex)+"";if(Eg(e))return rw?rw.call(e):"";var t=e+"";return t=="0"&&1/e==-pM?"-0":t}function mM(e){return e==null?"":ex(e)}function tx(e){return Ql(e)?ZE(e,hM):Eg(e)?[e]:WE(dM(mM(e)))}var gM=!0;function nx(e,t){if(!gM){if(e)return;var n="Warning: "+t;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var yM=1,vM=4;function wM(e){return Jo(e,yM|vM)}function Ne(){return Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function _M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function vs(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function iw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var sw=function(t){return Array.isArray(t)&&t.length===0},Kt=function(t){return typeof t=="function"},Xl=function(t){return t!==null&&typeof t=="object"},bM=function(t){return String(Math.floor(Number(t)))===t},Sh=function(t){return Object.prototype.toString.call(t)==="[object String]"},rx=function(t){return $.exports.Children.count(t)===0},Eh=function(t){return Xl(t)&&Kt(t.then)};function bt(e,t,n,r){r===void 0&&(r=0);for(var i=tx(t);e&&r<i.length;)e=e[i[r++]];return e===void 0?n:e}function Or(e,t,n){for(var r=tw(e),i=r,s=0,a=tx(t);s<a.length-1;s++){var o=a[s],l=bt(e,a.slice(0,s+1));if(l&&(Xl(l)||Array.isArray(l)))i=i[o]=tw(l);else{var u=a[s+1];i=i[o]=bM(u)&&Number(u)>=0?[]:{}}}return(s===0?e:i)[a[s]]===n?e:(n===void 0?delete i[a[s]]:i[a[s]]=n,s===0&&n===void 0&&delete r[a[s]],r)}function ix(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(e);i<s.length;i++){var a=s[i],o=e[a];Xl(o)?n.get(o)||(n.set(o,!0),r[a]=Array.isArray(o)?[]:{},ix(o,t,n,r[a])):r[a]=t}return r}var hf=$.exports.createContext(void 0);hf.displayName="FormikContext";var SM=hf.Provider;hf.Consumer;function Js(){var e=$.exports.useContext(hf);return e||nx(!1),e}function EM(e,t){switch(t.type){case"SET_VALUES":return Ne({},e,{values:t.payload});case"SET_TOUCHED":return Ne({},e,{touched:t.payload});case"SET_ERRORS":return gi(e.errors,t.payload)?e:Ne({},e,{errors:t.payload});case"SET_STATUS":return Ne({},e,{status:t.payload});case"SET_ISSUBMITTING":return Ne({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Ne({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Ne({},e,{values:Or(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Ne({},e,{touched:Or(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Ne({},e,{errors:Or(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Ne({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Ne({},e,{touched:ix(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return Ne({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Ne({},e,{isSubmitting:!1});default:return e}}var is={},Ru={};function sx(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,s=e.validateOnMount,a=s===void 0?!1:s,o=e.isInitialValid,l=e.enableReinitialize,u=l===void 0?!1:l,c=e.onSubmit,f=vs(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=Ne({validateOnChange:n,validateOnBlur:i,validateOnMount:a,onSubmit:c},f),p=$.exports.useRef(d.initialValues),g=$.exports.useRef(d.initialErrors||is),y=$.exports.useRef(d.initialTouched||Ru),b=$.exports.useRef(d.initialStatus),m=$.exports.useRef(!1),v=$.exports.useRef({});$.exports.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var w=$.exports.useReducer(EM,{values:d.initialValues,errors:d.initialErrors||is,touched:d.initialTouched||Ru,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=w[0],N=w[1],S=$.exports.useCallback(function(j,Y){return new Promise(function(Z,J){var ee=d.validate(j,Y);ee==null?Z(is):Eh(ee)?ee.then(function(le){Z(le||is)},function(le){J(le)}):Z(ee)})},[d.validate]),P=$.exports.useCallback(function(j,Y){var Z=d.validationSchema,J=Kt(Z)?Z(Y):Z,ee=Y&&J.validateAt?J.validateAt(Y,j):AM(j,J);return new Promise(function(le,xe){ee.then(function(){le(is)},function(at){at.name==="ValidationError"?le(xM(at)):xe(at)})})},[d.validationSchema]),_=$.exports.useCallback(function(j,Y){return new Promise(function(Z){return Z(v.current[j].validate(Y))})},[]),x=$.exports.useCallback(function(j){var Y=Object.keys(v.current).filter(function(J){return Kt(v.current[J].validate)}),Z=Y.length>0?Y.map(function(J){return _(J,bt(j,J))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Z).then(function(J){return J.reduce(function(ee,le,xe){return le==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||le&&(ee=Or(ee,Y[xe],le)),ee},{})})},[_]),O=$.exports.useCallback(function(j){return Promise.all([x(j),d.validationSchema?P(j):{},d.validate?S(j):{}]).then(function(Y){var Z=Y[0],J=Y[1],ee=Y[2],le=Wp.all([Z,J,ee],{arrayMerge:TM});return le})},[d.validate,d.validationSchema,x,S,P]),k=Mn(function(j){return j===void 0&&(j=E.values),N({type:"SET_ISVALIDATING",payload:!0}),O(j).then(function(Y){return m.current&&(N({type:"SET_ISVALIDATING",payload:!1}),N({type:"SET_ERRORS",payload:Y})),Y})});$.exports.useEffect(function(){a&&m.current===!0&&gi(p.current,d.initialValues)&&k(p.current)},[a,k]);var R=$.exports.useCallback(function(j){var Y=j&&j.values?j.values:p.current,Z=j&&j.errors?j.errors:g.current?g.current:d.initialErrors||{},J=j&&j.touched?j.touched:y.current?y.current:d.initialTouched||{},ee=j&&j.status?j.status:b.current?b.current:d.initialStatus;p.current=Y,g.current=Z,y.current=J,b.current=ee;var le=function(){N({type:"RESET_FORM",payload:{isSubmitting:!!j&&!!j.isSubmitting,errors:Z,touched:J,status:ee,values:Y,isValidating:!!j&&!!j.isValidating,submitCount:!!j&&!!j.submitCount&&typeof j.submitCount=="number"?j.submitCount:0}})};if(d.onReset){var xe=d.onReset(E.values,Oe);Eh(xe)?xe.then(le):le()}else le()},[d.initialErrors,d.initialStatus,d.initialTouched]);$.exports.useEffect(function(){m.current===!0&&!gi(p.current,d.initialValues)&&(u&&(p.current=d.initialValues,R()),a&&k(p.current))},[u,d.initialValues,R,a,k]),$.exports.useEffect(function(){u&&m.current===!0&&!gi(g.current,d.initialErrors)&&(g.current=d.initialErrors||is,N({type:"SET_ERRORS",payload:d.initialErrors||is}))},[u,d.initialErrors]),$.exports.useEffect(function(){u&&m.current===!0&&!gi(y.current,d.initialTouched)&&(y.current=d.initialTouched||Ru,N({type:"SET_TOUCHED",payload:d.initialTouched||Ru}))},[u,d.initialTouched]),$.exports.useEffect(function(){u&&m.current===!0&&!gi(b.current,d.initialStatus)&&(b.current=d.initialStatus,N({type:"SET_STATUS",payload:d.initialStatus}))},[u,d.initialStatus,d.initialTouched]);var L=Mn(function(j){if(v.current[j]&&Kt(v.current[j].validate)){var Y=bt(E.values,j),Z=v.current[j].validate(Y);return Eh(Z)?(N({type:"SET_ISVALIDATING",payload:!0}),Z.then(function(J){return J}).then(function(J){N({type:"SET_FIELD_ERROR",payload:{field:j,value:J}}),N({type:"SET_ISVALIDATING",payload:!1})})):(N({type:"SET_FIELD_ERROR",payload:{field:j,value:Z}}),Promise.resolve(Z))}else if(d.validationSchema)return N({type:"SET_ISVALIDATING",payload:!0}),P(E.values,j).then(function(J){return J}).then(function(J){N({type:"SET_FIELD_ERROR",payload:{field:j,value:J[j]}}),N({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),F=$.exports.useCallback(function(j,Y){var Z=Y.validate;v.current[j]={validate:Z}},[]),V=$.exports.useCallback(function(j){delete v.current[j]},[]),I=Mn(function(j,Y){N({type:"SET_TOUCHED",payload:j});var Z=Y===void 0?i:Y;return Z?k(E.values):Promise.resolve()}),T=$.exports.useCallback(function(j){N({type:"SET_ERRORS",payload:j})},[]),U=Mn(function(j,Y){var Z=Kt(j)?j(E.values):j;N({type:"SET_VALUES",payload:Z});var J=Y===void 0?n:Y;return J?k(Z):Promise.resolve()}),D=$.exports.useCallback(function(j,Y){N({type:"SET_FIELD_ERROR",payload:{field:j,value:Y}})},[]),B=Mn(function(j,Y,Z){N({type:"SET_FIELD_VALUE",payload:{field:j,value:Y}});var J=Z===void 0?n:Z;return J?k(Or(E.values,j,Y)):Promise.resolve()}),Q=$.exports.useCallback(function(j,Y){var Z=Y,J=j,ee;if(!Sh(j)){j.persist&&j.persist();var le=j.target?j.target:j.currentTarget,xe=le.type,at=le.name,Ve=le.id,Gt=le.value,Pe=le.checked,Mt=le.outerHTML,ft=le.options,un=le.multiple;Z=Y||at||Ve,J=/number|range/.test(xe)?(ee=parseFloat(Gt),isNaN(ee)?"":ee):/checkbox/.test(xe)?IM(bt(E.values,Z),Pe,Gt):ft&&un?CM(ft):Gt}Z&&B(Z,J)},[B,E.values]),q=Mn(function(j){if(Sh(j))return function(Y){return Q(Y,j)};Q(j)}),X=Mn(function(j,Y,Z){Y===void 0&&(Y=!0),N({type:"SET_FIELD_TOUCHED",payload:{field:j,value:Y}});var J=Z===void 0?i:Z;return J?k(E.values):Promise.resolve()}),G=$.exports.useCallback(function(j,Y){j.persist&&j.persist();var Z=j.target,J=Z.name,ee=Z.id,le=Z.outerHTML,xe=Y||J||ee;X(xe,!0)},[X]),z=Mn(function(j){if(Sh(j))return function(Y){return G(Y,j)};G(j)}),se=$.exports.useCallback(function(j){Kt(j)?N({type:"SET_FORMIK_STATE",payload:j}):N({type:"SET_FORMIK_STATE",payload:function(){return j}})},[]),ye=$.exports.useCallback(function(j){N({type:"SET_STATUS",payload:j})},[]),de=$.exports.useCallback(function(j){N({type:"SET_ISSUBMITTING",payload:j})},[]),he=Mn(function(){return N({type:"SUBMIT_ATTEMPT"}),k().then(function(j){var Y=j instanceof Error,Z=!Y&&Object.keys(j).length===0;if(Z){var J;try{if(J=De(),J===void 0)return}catch(ee){throw ee}return Promise.resolve(J).then(function(ee){return m.current&&N({type:"SUBMIT_SUCCESS"}),ee}).catch(function(ee){if(m.current)throw N({type:"SUBMIT_FAILURE"}),ee})}else if(m.current&&(N({type:"SUBMIT_FAILURE"}),Y))throw j})}),be=Mn(function(j){j&&j.preventDefault&&Kt(j.preventDefault)&&j.preventDefault(),j&&j.stopPropagation&&Kt(j.stopPropagation)&&j.stopPropagation(),he().catch(function(Y){console.warn("Warning: An unhandled error was caught from submitForm()",Y)})}),Oe={resetForm:R,validateForm:k,validateField:L,setErrors:T,setFieldError:D,setFieldTouched:X,setFieldValue:B,setStatus:ye,setSubmitting:de,setTouched:I,setValues:U,setFormikState:se,submitForm:he},De=Mn(function(){return c(E.values,Oe)}),Nn=Mn(function(j){j&&j.preventDefault&&Kt(j.preventDefault)&&j.preventDefault(),j&&j.stopPropagation&&Kt(j.stopPropagation)&&j.stopPropagation(),R()}),Dt=$.exports.useCallback(function(j){return{value:bt(E.values,j),error:bt(E.errors,j),touched:!!bt(E.touched,j),initialValue:bt(p.current,j),initialTouched:!!bt(y.current,j),initialError:bt(g.current,j)}},[E.errors,E.touched,E.values]),ke=$.exports.useCallback(function(j){return{setValue:function(Z,J){return B(j,Z,J)},setTouched:function(Z,J){return X(j,Z,J)},setError:function(Z){return D(j,Z)}}},[B,X,D]),it=$.exports.useCallback(function(j){var Y=Xl(j),Z=Y?j.name:j,J=bt(E.values,Z),ee={name:Z,value:J,onChange:q,onBlur:z};if(Y){var le=j.type,xe=j.value,at=j.as,Ve=j.multiple;le==="checkbox"?xe===void 0?ee.checked=!!J:(ee.checked=!!(Array.isArray(J)&&~J.indexOf(xe)),ee.value=xe):le==="radio"?(ee.checked=J===xe,ee.value=xe):at==="select"&&Ve&&(ee.value=ee.value||[],ee.multiple=!0)}return ee},[z,q,E.values]),Se=$.exports.useMemo(function(){return!gi(p.current,E.values)},[p.current,E.values]),Ee=$.exports.useMemo(function(){return typeof o<"u"?Se?E.errors&&Object.keys(E.errors).length===0:o!==!1&&Kt(o)?o(d):o:E.errors&&Object.keys(E.errors).length===0},[o,Se,E.errors,d]),tt=Ne({},E,{initialValues:p.current,initialErrors:g.current,initialTouched:y.current,initialStatus:b.current,handleBlur:z,handleChange:q,handleReset:Nn,handleSubmit:be,resetForm:R,setErrors:T,setFormikState:se,setFieldTouched:X,setFieldValue:B,setFieldError:D,setStatus:ye,setSubmitting:de,setTouched:I,setValues:U,submitForm:he,validateForm:k,validateField:L,isValid:Ee,dirty:Se,unregisterField:V,registerField:F,getFieldProps:it,getFieldMeta:Dt,getFieldHelpers:ke,validateOnBlur:i,validateOnChange:n,validateOnMount:a});return tt}function On(e){var t=sx(e),n=e.component,r=e.children,i=e.render,s=e.innerRef;return $.exports.useImperativeHandle(s,function(){return t}),$.exports.createElement(SM,{value:t},n?$.exports.createElement(n,t):i?i(t):r?Kt(r)?r(t):rx(r)?null:$.exports.Children.only(r):null)}function xM(e){var t={};if(e.inner){if(e.inner.length===0)return Or(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var a=s;bt(t,a.path)||(t=Or(t,a.path,a.message))}}return t}function AM(e,t,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var i=Qp(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}function Qp(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||Rv(i)?Qp(i):i!==""?i:void 0}):Rv(e[r])?t[r]=Qp(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function TM(e,t,n){var r=e.slice();return t.forEach(function(s,a){if(typeof r[a]>"u"){var o=n.clone!==!1,l=o&&n.isMergeableObject(s);r[a]=l?Wp(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[a]=Wp(e[a],s,n):e.indexOf(s)===-1&&r.push(s)}),r}function CM(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function IM(e,t,n){if(typeof e=="boolean")return Boolean(t);var r=[],i=!1,s=-1;if(Array.isArray(e))r=e,s=e.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return Boolean(t);return t&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var PM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?$.exports.useLayoutEffect:$.exports.useEffect;function Mn(e){var t=$.exports.useRef(e);return PM(function(){t.current=e}),$.exports.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}function OM(e){var t=Js(),n=t.getFieldProps,r=t.getFieldMeta,i=t.getFieldHelpers,s=t.registerField,a=t.unregisterField,o=Xl(e),l=o?e:{name:e},u=l.name,c=l.validate;return $.exports.useEffect(function(){return u&&s(u,{validate:c}),function(){u&&a(u)}},[s,a,u,c]),u||nx(!1),[n(l),r(u),i(u)]}function Nr(e){var t=e.validate,n=e.name,r=e.render,i=e.children,s=e.as,a=e.component,o=vs(e,["validate","name","render","children","as","component"]),l=Js(),u=vs(l,["validate","validationSchema"]),c=u.registerField,f=u.unregisterField;$.exports.useEffect(function(){return c(n,{validate:t}),function(){f(n)}},[c,f,n,t]);var d=u.getFieldProps(Ne({name:n},o)),p=u.getFieldMeta(n),g={field:d,form:u};if(r)return r(Ne({},g,{meta:p}));if(Kt(i))return i(Ne({},g,{meta:p}));if(a){if(typeof a=="string"){var y=o.innerRef,b=vs(o,["innerRef"]);return $.exports.createElement(a,Ne({ref:y},d,b),i)}return $.exports.createElement(a,Ne({field:d,form:u},o),i)}var m=s||"input";if(typeof m=="string"){var v=o.innerRef,w=vs(o,["innerRef"]);return $.exports.createElement(m,Ne({ref:v},d,w),i)}return $.exports.createElement(m,Ne({},d,o),i)}var on=$.exports.forwardRef(function(e,t){var n=e.action,r=vs(e,["action"]),i=n!=null?n:"#",s=Js(),a=s.handleReset,o=s.handleSubmit;return $.exports.createElement("form",Object.assign({onSubmit:o,ref:t,onReset:a,action:i},r))});on.displayName="Form";var NM=function(t,n,r){var i=qa(t),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},kM=function(t,n,r){var i=qa(t),s=i[n];return i[n]=i[r],i[r]=s,i},xh=function(t,n,r){var i=qa(t);return i.splice(n,0,r),i},RM=function(t,n,r){var i=qa(t);return i[n]=r,i},qa=function(t){if(t){if(Array.isArray(t))return[].concat(t);var n=Object.keys(t).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(Ne({},t,{length:n+1}))}else return[]},$M=function(e){_M(t,e);function t(r){var i;return i=e.call(this,r)||this,i.updateArrayField=function(s,a,o){var l=i.props,u=l.name,c=l.formik.setFormikState;c(function(f){var d=typeof o=="function"?o:s,p=typeof a=="function"?a:s,g=Or(f.values,u,s(bt(f.values,u))),y=o?d(bt(f.errors,u)):void 0,b=a?p(bt(f.touched,u)):void 0;return sw(y)&&(y=void 0),sw(b)&&(b=void 0),Ne({},f,{values:g,errors:o?Or(f.errors,u,y):f.errors,touched:a?Or(f.touched,u,b):f.touched})})},i.push=function(s){return i.updateArrayField(function(a){return[].concat(qa(a),[wM(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,a){return i.updateArrayField(function(o){return kM(o,s,a)},!0,!0)},i.handleSwap=function(s,a){return function(){return i.swap(s,a)}},i.move=function(s,a){return i.updateArrayField(function(o){return NM(o,s,a)},!0,!0)},i.handleMove=function(s,a){return function(){return i.move(s,a)}},i.insert=function(s,a){return i.updateArrayField(function(o){return xh(o,s,a)},function(o){return xh(o,s,null)},function(o){return xh(o,s,null)})},i.handleInsert=function(s,a){return function(){return i.insert(s,a)}},i.replace=function(s,a){return i.updateArrayField(function(o){return RM(o,s,a)},!1,!1)},i.handleReplace=function(s,a){return function(){return i.replace(s,a)}},i.unshift=function(s){var a=-1;return i.updateArrayField(function(o){var l=o?[s].concat(o):[s];return a<0&&(a=l.length),l},function(o){var l=o?[null].concat(o):[null];return a<0&&(a=l.length),l},function(o){var l=o?[null].concat(o):[null];return a<0&&(a=l.length),l}),a},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(iw(i)),i.pop=i.pop.bind(iw(i)),i}var n=t.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!gi(bt(i.formik.values,i.name),bt(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(a){var o=a?qa(a):[];return s||(s=o[i]),Kt(o.splice)&&o.splice(i,1),o},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var a=s;return i||(i=a&&a.pop&&a.pop()),a},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,a=s.component,o=s.render,l=s.children,u=s.name,c=s.formik,f=vs(c,["validate","validationSchema"]),d=Ne({},i,{form:f,name:u});return a?$.exports.createElement(a,d):o?o(d):l?typeof l=="function"?l(d):rx(l)?null:$.exports.Children.only(l):null},t}($.exports.Component);$M.defaultProps={validateOnChange:!0};const Ye={TRY_LATER:"Error en la base de datos contacte con su administrador o intente m\xE1s tarde"},Jl=()=>{const e=wE(),t=an();return{getOwners:async()=>{t(H(!0));try{return await e.getOwners()}catch{return t(re({title:"Error al consultar los propietarios",details:["No se pudieron consultar los propietarios consulte m\xE1s tarde o contacte con un administrador"],type:"error"})),[]}finally{t(H(!1))}},getOwnerDetail:async u=>{t(H(!0));try{return await e.getOwnerDetailBooking(u)}catch(c){return console.error(c),t(re({title:"No se pudo obtener el detalle del propietario",details:[Ye.TRY_LATER],type:"error"})),null}finally{t(H(!1))}},getOwnerProfileDetail:async u=>{t(H(!0));try{return await e.getOwnerDetailUid(u)}catch{return t(re({title:"No se pudo obtener el detalle del cliente",details:[Ye.TRY_LATER],type:"error"})),null}finally{t(H(!1))}},updateOwnerProfile:async(u,c)=>{t(H(!0));try{return await e.updateOwner(u,c),t(re({title:"Se ha actualizado el perfil correctamente",details:[],type:"success"})),!0}catch(f){return console.error(f),t(re({title:"No se pudo actualizar el perfil",details:[Ye.TRY_LATER],type:"error"})),!1}finally{t(H(!1))}},createOwner:async u=>{t(H(!0));try{return await e.createOwner(u),!0}catch{return t(re({title:"No se pudo crear el propietario",details:[Ye.TRY_LATER],type:"error"})),!1}finally{t(H(!1))}},updateOwner:async u=>{t(H(!0));try{const c=await e.getOwnerById(u.id);return await e.updateOwner({displayName:u.name,phoneNumber:u.phone},c),!0}catch{return t(re({title:"No se pudo actualizar el usuario",details:[Ye.TRY_LATER],type:"error"})),!1}finally{t(H(!1))}},deleteUserTemporally:async u=>{try{return await e.deleteTemporallyUser(u.id),t(re({title:"Se borr\xF3 el usuario correctamente",details:[`"${u.displayName}" fue eliminado correctamente`],type:"success"})),!0}catch{return t(re({title:"No se pudo eliminar el usuario correctamente",details:[Ye.TRY_LATER],type:"error"})),!1}}}},qe=({name:e,placeholder:t,type:n,disabled:r=!1,className:i=""})=>h(Nr,{id:e,className:`
        ${i}
          border
          h-8
          bg-white
          px-2
          rounded
          py-1
        `,name:e,placeholder:t,type:n,disabled:r}),pe=({children:e,htmlFor:t,required:n=!1})=>A("label",{className:"font-bold text-sm text-gray-600",htmlFor:t,children:[e,n&&h("span",{className:"text-primary",children:"*"})]});function FM(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}function ax(e,t){return new Promise(function(n,r){let i;return DM(e).then(function(s){try{return i=s,n(new Blob([t.slice(0,2),i,t.slice(2)],{type:"image/jpeg"}))}catch(a){return r(a)}},r)})}const DM=e=>new Promise((t,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let a=0;if(s.getUint16(a)!==65496)return n("not a valid JPEG");for(a+=2;;){const o=s.getUint16(a);if(o===65498)break;const l=s.getUint16(a+2);if(o===65505&&s.getUint32(a+4)===1165519206){const u=a+10;let c;switch(s.getUint16(u)){case 18761:c=!0;break;case 19789:c=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(u+2,c)!==42)return n("TIFF header contains invalid version");const f=s.getUint32(u+4,c),d=u+f+2+12*s.getUint16(u+f,c);for(let p=u+f+2;p<d;p+=12)if(s.getUint16(p,c)==274){if(s.getUint16(p+2,c)!==3)return n("Orientation data type is invalid");if(s.getUint32(p+4,c)!==1)return n("Orientation data count is invalid");s.setUint16(p+8,1,c);break}return t(i.slice(a,a+2+l))}a+=2+l}return t(new Blob)}),r.readAsArrayBuffer(e)});var Jc={},MM={get exports(){return Jc},set exports(e){Jc=e}};(function(e){var t,n,r={};MM.exports=r,r.parse=function(i,s){for(var a=r.bin.readUshort,o=r.bin.readUint,l=0,u={},c=new Uint8Array(i),f=c.length-4;o(c,f)!=101010256;)f--;l=f,l+=4;var d=a(c,l+=4);a(c,l+=2);var p=o(c,l+=2),g=o(c,l+=4);l+=4,l=g;for(var y=0;y<d;y++){o(c,l),l+=4,l+=4,l+=4,o(c,l+=4),p=o(c,l+=4);var b=o(c,l+=4),m=a(c,l+=4),v=a(c,l+2),w=a(c,l+4);l+=6;var E=o(c,l+=8);l+=4,l+=m+v+w,r._readLocal(c,E,u,p,b,s)}return u},r._readLocal=function(i,s,a,o,l,u){var c=r.bin.readUshort,f=r.bin.readUint;f(i,s),c(i,s+=4),c(i,s+=2);var d=c(i,s+=2);f(i,s+=2),f(i,s+=4),s+=4;var p=c(i,s+=8),g=c(i,s+=2);s+=2;var y=r.bin.readUTF8(i,s,p);if(s+=p,s+=g,u)a[y]={size:l,csize:o};else{var b=new Uint8Array(i.buffer,s);if(d==0)a[y]=new Uint8Array(b.buffer.slice(s,s+o));else{if(d!=8)throw"unknown compression method: "+d;var m=new Uint8Array(l);r.inflateRaw(b,m),a[y]=m}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var a=0,o=new Uint8Array(50+Math.floor(1.1*i.length));o[a]=120,o[a+1]=156,a+=2,a=r.F.deflateRaw(i,o,a,s.level);var l=r.adler(i,0,i.length);return o[a+0]=l>>>24&255,o[a+1]=l>>>16&255,o[a+2]=l>>>8&255,o[a+3]=l>>>0&255,new Uint8Array(o.buffer,0,a+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*i.length)),o=r.F.deflateRaw(i,a,o,s.level);return new Uint8Array(a.buffer,0,o)},r.encode=function(i,s){s==null&&(s=!1);var a=0,o=r.bin.writeUint,l=r.bin.writeUshort,u={};for(var c in i){var f=!r._noNeed(c)&&!s,d=i[c],p=r.crc.crc(d,0,d.length);u[c]={cpr:f,usize:d.length,crc:p,file:f?r.deflateRaw(d):d}}for(var c in u)a+=u[c].file.length+30+46+2*r.bin.sizeUTF8(c);a+=22;var g=new Uint8Array(a),y=0,b=[];for(var c in u){var m=u[c];b.push(y),y=r._writeHeader(g,y,c,m,0)}var v=0,w=y;for(var c in u)m=u[c],b.push(y),y=r._writeHeader(g,y,c,m,1,b[v++]);var E=y-w;return o(g,y,101010256),y+=4,l(g,y+=4,v),l(g,y+=2,v),o(g,y+=2,E),o(g,y+=4,w),y+=4,y+=2,g.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,a,o,l,u){var c=r.bin.writeUint,f=r.bin.writeUshort,d=o.file;return c(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),f(i,s,20),f(i,s+=2,0),f(i,s+=2,o.cpr?8:0),c(i,s+=2,0),c(i,s+=4,o.crc),c(i,s+=4,d.length),c(i,s+=4,o.usize),f(i,s+=4,r.bin.sizeUTF8(a)),f(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,c(i,s+=6,u),s+=4),s+=r.bin.writeUTF8(i,s,a),l==0&&(i.set(d,s),s+=d.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var a=s,o=0;o<8;o++)1&a?a=3988292384^a>>>1:a>>>=1;i[s]=a}return i}(),update:function(i,s,a,o){for(var l=0;l<o;l++)i=r.crc.table[255&(i^s[a+l])]^i>>>8;return i},crc:function(i,s,a){return 4294967295^r.crc.update(4294967295,i,s,a)}},r.adler=function(i,s,a){for(var o=1,l=0,u=s,c=s+a;u<c;){for(var f=Math.min(u+5552,c);u<f;)l+=o+=i[u++];o%=65521,l%=65521}return l<<16|o},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,a){i[s]=255&a,i[s+1]=a>>8&255,i[s+2]=a>>16&255,i[s+3]=a>>24&255},readASCII:function(i,s,a){for(var o="",l=0;l<a;l++)o+=String.fromCharCode(i[s+l]);return o},writeASCII:function(i,s,a){for(var o=0;o<a.length;o++)i[s+o]=a.charCodeAt(o)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,a){for(var o,l="",u=0;u<a;u++)l+="%"+r.bin.pad(i[s+u].toString(16));try{o=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,a)}return o},writeUTF8:function(i,s,a){for(var o=a.length,l=0,u=0;u<o;u++){var c=a.charCodeAt(u);if((4294967168&c)==0)i[s+l]=c,l++;else if((4294965248&c)==0)i[s+l]=192|c>>6,i[s+l+1]=128|c>>0&63,l+=2;else if((4294901760&c)==0)i[s+l]=224|c>>12,i[s+l+1]=128|c>>6&63,i[s+l+2]=128|c>>0&63,l+=3;else{if((4292870144&c)!=0)throw"e";i[s+l]=240|c>>18,i[s+l+1]=128|c>>12&63,i[s+l+2]=128|c>>6&63,i[s+l+3]=128|c>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,a=0,o=0;o<s;o++){var l=i.charCodeAt(o);if((4294967168&l)==0)a++;else if((4294965248&l)==0)a+=2;else if((4294901760&l)==0)a+=3;else{if((4292870144&l)!=0)throw"e";a+=4}}return a}},r.F={},r.F.deflateRaw=function(i,s,a,o){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],u=r.F.U,c=r.F._goodIndex;r.F._hash;var f=r.F._putsE,d=0,p=a<<3,g=0,y=i.length;if(o==0){for(;d<y;)f(s,p,d+(k=Math.min(65535,y-d))==y?1:0),p=r.F._copyExact(i,d,k,s,p+8),d+=k;return p>>>3}var b=u.lits,m=u.strt,v=u.prev,w=0,E=0,N=0,S=0,P=0,_=0;for(y>2&&(m[_=r.F._hash(i,0)]=0),d=0;d<y;d++){if(P=_,d+1<y-2){_=r.F._hash(i,d+1);var x=d+1&32767;v[x]=m[_],m[_]=x}if(g<=d){(w>14e3||E>26697)&&y-d>100&&(g<d&&(b[w]=d-g,w+=2,g=d),p=r.F._writeBlock(d==y-1||g==y?1:0,b,w,S,i,N,d-N,s,p),w=E=S=0,N=d);var O=0;d<y-2&&(O=r.F._bestMatch(i,d,v,P,Math.min(l[2],y-d),l[3]));var k=O>>>16,R=65535&O;if(O!=0){R=65535&O;var L=c(k=O>>>16,u.of0);u.lhst[257+L]++;var F=c(R,u.df0);u.dhst[F]++,S+=u.exb[L]+u.dxb[F],b[w]=k<<23|d-g,b[w+1]=R<<16|L<<8|F,w+=2,g=d+k}else u.lhst[i[d]]++;E++}}for(N==d&&i.length!=0||(g<d&&(b[w]=d-g,w+=2,g=d),p=r.F._writeBlock(1,b,w,S,i,N,d-N,s,p),w=0,E=0,w=E=S=0,N=d);(7&p)!=0;)p++;return p>>>3},r.F._bestMatch=function(i,s,a,o,l,u){var c=32767&s,f=a[c],d=c-f+32768&32767;if(f==c||o!=r.F._hash(i,s-d))return 0;for(var p=0,g=0,y=Math.min(32767,s);d<=y&&--u!=0&&f!=c;){if(p==0||i[s+p]==i[s+p-d]){var b=r.F._howLong(i,s,d);if(b>p){if(g=d,(p=b)>=l)break;d+2<b&&(b=d+2);for(var m=0,v=0;v<b-2;v++){var w=s-d+v+32768&32767,E=w-a[w]+32768&32767;E>m&&(m=E,f=w)}}}d+=(c=f)-(f=a[c])+32768&32767}return p<<16|g},r.F._howLong=function(i,s,a){if(i[s]!=i[s-a]||i[s+1]!=i[s+1-a]||i[s+2]!=i[s+2-a])return 0;var o=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-a];)s++;return s-o},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,a,o,l,u,c,f,d){var p,g,y,b,m,v,w,E,N,S=r.F.U,P=r.F._putsF,_=r.F._putsE;S.lhst[256]++,g=(p=r.F.getTrees())[0],y=p[1],b=p[2],m=p[3],v=p[4],w=p[5],E=p[6],N=p[7];var x=32+((d+3&7)==0?0:8-(d+3&7))+(c<<3),O=o+r.F.contSize(S.fltree,S.lhst)+r.F.contSize(S.fdtree,S.dhst),k=o+r.F.contSize(S.ltree,S.lhst)+r.F.contSize(S.dtree,S.dhst);k+=14+3*w+r.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var R=0;R<286;R++)S.lhst[R]=0;for(R=0;R<30;R++)S.dhst[R]=0;for(R=0;R<19;R++)S.ihst[R]=0;var L=x<O&&x<k?0:O<k?1:2;if(P(f,d,i),P(f,d+1,L),d+=3,L==0){for(;(7&d)!=0;)d++;d=r.F._copyExact(l,u,c,f,d)}else{var F,V;if(L==1&&(F=S.fltree,V=S.fdtree),L==2){r.F.makeCodes(S.ltree,g),r.F.revCodes(S.ltree,g),r.F.makeCodes(S.dtree,y),r.F.revCodes(S.dtree,y),r.F.makeCodes(S.itree,b),r.F.revCodes(S.itree,b),F=S.ltree,V=S.dtree,_(f,d,m-257),_(f,d+=5,v-1),_(f,d+=5,w-4),d+=4;for(var I=0;I<w;I++)_(f,d+3*I,S.itree[1+(S.ordr[I]<<1)]);d+=3*w,d=r.F._codeTiny(E,S.itree,f,d),d=r.F._codeTiny(N,S.itree,f,d)}for(var T=u,U=0;U<a;U+=2){for(var D=s[U],B=D>>>23,Q=T+(8388607&D);T<Q;)d=r.F._writeLit(l[T++],F,f,d);if(B!=0){var q=s[U+1],X=q>>16,G=q>>8&255,z=255&q;_(f,d=r.F._writeLit(257+G,F,f,d),B-S.of0[G]),d+=S.exb[G],P(f,d=r.F._writeLit(z,V,f,d),X-S.df0[z]),d+=S.dxb[z],T+=B}}d=r.F._writeLit(256,F,f,d)}return d},r.F._copyExact=function(i,s,a,o,l){var u=l>>>3;return o[u]=a,o[u+1]=a>>>8,o[u+2]=255-o[u],o[u+3]=255-o[u+1],u+=4,o.set(new Uint8Array(i.buffer,s,a),u),l+(a+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),a=r.F._hufTree(i.dhst,i.dtree,15),o=[],l=r.F._lenCodes(i.ltree,o),u=[],c=r.F._lenCodes(i.dtree,u),f=0;f<o.length;f+=2)i.ihst[o[f]]++;for(f=0;f<u.length;f+=2)i.ihst[u[f]]++;for(var d=r.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[s,a,d,l,c,p,o,u]},r.F.getSecond=function(i){for(var s=[],a=0;a<i.length;a+=2)s.push(i[a+1]);return s},r.F.nonZero=function(i){for(var s="",a=0;a<i.length;a+=2)i[a+1]!=0&&(s+=(a>>1)+",");return s},r.F.contSize=function(i,s){for(var a=0,o=0;o<s.length;o++)a+=s[o]*i[1+(o<<1)];return a},r.F._codeTiny=function(i,s,a,o){for(var l=0;l<i.length;l+=2){var u=i[l],c=i[l+1];o=r.F._writeLit(u,s,a,o);var f=u==16?2:u==17?3:7;u>15&&(r.F._putsE(a,o,c,f),o+=f)}return o},r.F._lenCodes=function(i,s){for(var a=i.length;a!=2&&i[a-1]==0;)a-=2;for(var o=0;o<a;o+=2){var l=i[o+1],u=o+3<a?i[o+3]:-1,c=o+5<a?i[o+5]:-1,f=o==0?-1:i[o-1];if(l==0&&u==l&&c==l){for(var d=o+5;d+2<a&&i[d+2]==l;)d+=2;(p=Math.min(d+1-o>>>1,138))<11?s.push(17,p-3):s.push(18,p-11),o+=2*p-2}else if(l==f&&u==l&&c==l){for(d=o+5;d+2<a&&i[d+2]==l;)d+=2;var p=Math.min(d+1-o>>>1,6);s.push(16,p-3),o+=2*p-2}else s.push(l,0)}return a>>>1},r.F._hufTree=function(i,s,a){var o=[],l=i.length,u=s.length,c=0;for(c=0;c<u;c+=2)s[c]=0,s[c+1]=0;for(c=0;c<l;c++)i[c]!=0&&o.push({lit:c,f:i[c]});var f=o.length,d=o.slice(0);if(f==0)return 0;if(f==1){var p=o[0].lit;return d=p==0?1:0,s[1+(p<<1)]=1,s[1+(d<<1)]=1,1}o.sort(function(E,N){return E.f-N.f});var g=o[0],y=o[1],b=0,m=1,v=2;for(o[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};m!=f-1;)g=b!=m&&(v==f||o[b].f<o[v].f)?o[b++]:o[v++],y=b!=m&&(v==f||o[b].f<o[v].f)?o[b++]:o[v++],o[m++]={lit:-1,f:g.f+y.f,l:g,r:y};var w=r.F.setDepth(o[m-1],0);for(w>a&&(r.F.restrictDepth(d,a,w),w=a),c=0;c<f;c++)s[1+(d[c].lit<<1)]=d[c].d;return w},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,a){var o=0,l=1<<a-s,u=0;for(i.sort(function(f,d){return d.d==f.d?f.f-d.f:d.d-f.d}),o=0;o<i.length&&i[o].d>s;o++){var c=i[o].d;i[o].d=s,u+=l-(1<<a-c)}for(u>>>=a-s;u>0;)(c=i[o].d)<s?(i[o].d++,u-=1<<s-c-1):o++;for(;o>=0;o--)i[o].d==s&&u<0&&(i[o].d--,u++);u!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var a=0;return s[16|a]<=i&&(a|=16),s[8|a]<=i&&(a|=8),s[4|a]<=i&&(a|=4),s[2|a]<=i&&(a|=2),s[1|a]<=i&&(a|=1),a},r.F._writeLit=function(i,s,a,o){return r.F._putsF(a,o,s[i<<1]),o+s[1+(i<<1)]},r.F.inflate=function(i,s){var a=Uint8Array;if(i[0]==3&&i[1]==0)return s||new a(0);var o=r.F,l=o._bitsF,u=o._bitsE,c=o._decodeTiny,f=o.makeCodes,d=o.codes2map,p=o._get17,g=o.U,y=s==null;y&&(s=new a(i.length>>>2<<3));for(var b,m,v=0,w=0,E=0,N=0,S=0,P=0,_=0,x=0,O=0;v==0;)if(v=l(i,O,1),w=l(i,O+1,2),O+=3,w!=0){if(y&&(s=r.F._check(s,x+(1<<17))),w==1&&(b=g.flmap,m=g.fdmap,P=511,_=31),w==2){E=u(i,O,5)+257,N=u(i,O+5,5)+1,S=u(i,O+10,4)+4,O+=14;for(var k=0;k<38;k+=2)g.itree[k]=0,g.itree[k+1]=0;var R=1;for(k=0;k<S;k++){var L=u(i,O+3*k,3);g.itree[1+(g.ordr[k]<<1)]=L,L>R&&(R=L)}O+=3*S,f(g.itree,R),d(g.itree,R,g.imap),b=g.lmap,m=g.dmap,O=c(g.imap,(1<<R)-1,E+N,i,O,g.ttree);var F=o._copyOut(g.ttree,0,E,g.ltree);P=(1<<F)-1;var V=o._copyOut(g.ttree,E,N,g.dtree);_=(1<<V)-1,f(g.ltree,F),d(g.ltree,F,b),f(g.dtree,V),d(g.dtree,V,m)}for(;;){var I=b[p(i,O)&P];O+=15&I;var T=I>>>4;if(T>>>8==0)s[x++]=T;else{if(T==256)break;var U=x+T-254;if(T>264){var D=g.ldef[T-257];U=x+(D>>>3)+u(i,O,7&D),O+=7&D}var B=m[p(i,O)&_];O+=15&B;var Q=B>>>4,q=g.ddef[Q],X=(q>>>4)+l(i,O,15&q);for(O+=15&q,y&&(s=r.F._check(s,x+(1<<17)));x<U;)s[x]=s[x++-X],s[x]=s[x++-X],s[x]=s[x++-X],s[x]=s[x++-X];x=U}}}else{(7&O)!=0&&(O+=8-(7&O));var G=4+(O>>>3),z=i[G-4]|i[G-3]<<8;y&&(s=r.F._check(s,x+z)),s.set(new a(i.buffer,i.byteOffset+G,z),x),O=G+z<<3,x+=z}return s.length==x?s:s.slice(0,x)},r.F._check=function(i,s){var a=i.length;if(s<=a)return i;var o=new Uint8Array(Math.max(a<<1,s));return o.set(i,0),o},r.F._decodeTiny=function(i,s,a,o,l,u){for(var c=r.F._bitsE,f=r.F._get17,d=0;d<a;){var p=i[f(o,l)&s];l+=15&p;var g=p>>>4;if(g<=15)u[d]=g,d++;else{var y=0,b=0;g==16?(b=3+c(o,l,2),l+=2,y=u[d-1]):g==17?(b=3+c(o,l,3),l+=3):g==18&&(b=11+c(o,l,7),l+=7);for(var m=d+b;d<m;)u[d]=y,d++}}return l},r.F._copyOut=function(i,s,a,o){for(var l=0,u=0,c=o.length>>>1;u<a;){var f=i[u+s];o[u<<1]=0,o[1+(u<<1)]=f,f>l&&(l=f),u++}for(;u<c;)o[u<<1]=0,o[1+(u<<1)]=0,u++;return l},r.F.makeCodes=function(i,s){for(var a,o,l,u,c=r.F.U,f=i.length,d=c.bl_count,p=0;p<=s;p++)d[p]=0;for(p=1;p<f;p+=2)d[i[p]]++;var g=c.next_code;for(a=0,d[0]=0,o=1;o<=s;o++)a=a+d[o-1]<<1,g[o]=a;for(l=0;l<f;l+=2)(u=i[l+1])!=0&&(i[l]=g[u],g[u]++)},r.F.codes2map=function(i,s,a){for(var o=i.length,l=r.F.U.rev15,u=0;u<o;u+=2)if(i[u+1]!=0)for(var c=u>>1,f=i[u+1],d=c<<4|f,p=s-f,g=i[u]<<p,y=g+(1<<p);g!=y;)a[l[g]>>>15-s]=d,g++},r.F.revCodes=function(i,s){for(var a=r.F.U.rev15,o=15-s,l=0;l<i.length;l+=2){var u=i[l]<<s-i[l+1];i[l]=a[u]>>>o}},r.F._putsE=function(i,s,a){a<<=7&s;var o=s>>>3;i[o]|=a,i[o+1]|=a>>>8},r.F._putsF=function(i,s,a){a<<=7&s;var o=s>>>3;i[o]|=a,i[o+1]|=a>>>8,i[o+2]|=a>>>16},r.F._bitsE=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},r.F._bitsF=function(i,s,a){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,i.rev15[s]=(a>>>16|a<<16)>>>17}function o(l,u,c){for(;u--!=0;)l.push(0,c)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];o(i.fltree,144,8),o(i.fltree,112,9),o(i.fltree,24,7),o(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),o(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),o(i.itree,19,0),o(i.ltree,286,0),o(i.dtree,30,0),o(i.ttree,320,0)}()})();var LM=FM({__proto__:null,default:Jc},[Jc]);const Jn=function(){var e={nextZero(c,f){for(;c[f]!=0;)f++;return f},readUshort:(c,f)=>c[f]<<8|c[f+1],writeUshort(c,f,d){c[f]=d>>8&255,c[f+1]=255&d},readUint:(c,f)=>16777216*c[f]+(c[f+1]<<16|c[f+2]<<8|c[f+3]),writeUint(c,f,d){c[f]=d>>24&255,c[f+1]=d>>16&255,c[f+2]=d>>8&255,c[f+3]=255&d},readASCII(c,f,d){let p="";for(let g=0;g<d;g++)p+=String.fromCharCode(c[f+g]);return p},writeASCII(c,f,d){for(let p=0;p<d.length;p++)c[f+p]=d.charCodeAt(p)},readBytes(c,f,d){const p=[];for(let g=0;g<d;g++)p.push(c[f+g]);return p},pad:c=>c.length<2?`0${c}`:c,readUTF8(c,f,d){let p,g="";for(let y=0;y<d;y++)g+=`%${e.pad(c[f+y].toString(16))}`;try{p=decodeURIComponent(g)}catch{return e.readASCII(c,f,d)}return p}};function t(c,f,d,p){const g=f*d,y=s(p),b=Math.ceil(f*y/8),m=new Uint8Array(4*g),v=new Uint32Array(m.buffer),{ctype:w}=p,{depth:E}=p,N=e.readUshort;if(w==6){const D=g<<2;if(E==8)for(var S=0;S<D;S+=4)m[S]=c[S],m[S+1]=c[S+1],m[S+2]=c[S+2],m[S+3]=c[S+3];if(E==16)for(S=0;S<D;S++)m[S]=c[S<<1]}else if(w==2){const D=p.tabs.tRNS;if(D==null){if(E==8)for(S=0;S<g;S++){var P=3*S;v[S]=255<<24|c[P+2]<<16|c[P+1]<<8|c[P]}if(E==16)for(S=0;S<g;S++)P=6*S,v[S]=255<<24|c[P+4]<<16|c[P+2]<<8|c[P]}else{var _=D[0];const B=D[1],Q=D[2];if(E==8)for(S=0;S<g;S++){var x=S<<2;P=3*S,v[S]=255<<24|c[P+2]<<16|c[P+1]<<8|c[P],c[P]==_&&c[P+1]==B&&c[P+2]==Q&&(m[x+3]=0)}if(E==16)for(S=0;S<g;S++)x=S<<2,P=6*S,v[S]=255<<24|c[P+4]<<16|c[P+2]<<8|c[P],N(c,P)==_&&N(c,P+2)==B&&N(c,P+4)==Q&&(m[x+3]=0)}}else if(w==3){const D=p.tabs.PLTE,B=p.tabs.tRNS,Q=B?B.length:0;if(E==1)for(var O=0;O<d;O++){var k=O*b,R=O*f;for(S=0;S<f;S++){x=R+S<<2;var L=3*(F=c[k+(S>>3)]>>7-((7&S)<<0)&1);m[x]=D[L],m[x+1]=D[L+1],m[x+2]=D[L+2],m[x+3]=F<Q?B[F]:255}}if(E==2)for(O=0;O<d;O++)for(k=O*b,R=O*f,S=0;S<f;S++)x=R+S<<2,L=3*(F=c[k+(S>>2)]>>6-((3&S)<<1)&3),m[x]=D[L],m[x+1]=D[L+1],m[x+2]=D[L+2],m[x+3]=F<Q?B[F]:255;if(E==4)for(O=0;O<d;O++)for(k=O*b,R=O*f,S=0;S<f;S++)x=R+S<<2,L=3*(F=c[k+(S>>1)]>>4-((1&S)<<2)&15),m[x]=D[L],m[x+1]=D[L+1],m[x+2]=D[L+2],m[x+3]=F<Q?B[F]:255;if(E==8)for(S=0;S<g;S++){var F;x=S<<2,L=3*(F=c[S]),m[x]=D[L],m[x+1]=D[L+1],m[x+2]=D[L+2],m[x+3]=F<Q?B[F]:255}}else if(w==4){if(E==8)for(S=0;S<g;S++){x=S<<2;var V=c[I=S<<1];m[x]=V,m[x+1]=V,m[x+2]=V,m[x+3]=c[I+1]}if(E==16)for(S=0;S<g;S++){var I;x=S<<2,V=c[I=S<<2],m[x]=V,m[x+1]=V,m[x+2]=V,m[x+3]=c[I+2]}}else if(w==0)for(_=p.tabs.tRNS?p.tabs.tRNS:-1,O=0;O<d;O++){const D=O*b,B=O*f;if(E==1)for(var T=0;T<f;T++){var U=(V=255*(c[D+(T>>>3)]>>>7-(7&T)&1))==255*_?0:255;v[B+T]=U<<24|V<<16|V<<8|V}else if(E==2)for(T=0;T<f;T++)U=(V=85*(c[D+(T>>>2)]>>>6-((3&T)<<1)&3))==85*_?0:255,v[B+T]=U<<24|V<<16|V<<8|V;else if(E==4)for(T=0;T<f;T++)U=(V=17*(c[D+(T>>>1)]>>>4-((1&T)<<2)&15))==17*_?0:255,v[B+T]=U<<24|V<<16|V<<8|V;else if(E==8)for(T=0;T<f;T++)U=(V=c[D+T])==_?0:255,v[B+T]=U<<24|V<<16|V<<8|V;else if(E==16)for(T=0;T<f;T++)V=c[D+(T<<1)],U=N(c,D+(T<<1))==_?0:255,v[B+T]=U<<24|V<<16|V<<8|V}return m}function n(c,f,d,p){const g=s(c),y=Math.ceil(d*g/8),b=new Uint8Array((y+1+c.interlace)*p);return f=c.tabs.CgBI?i(f,b):r(f,b),c.interlace==0?f=a(f,c,0,d,p):c.interlace==1&&(f=function(v,w){const E=w.width,N=w.height,S=s(w),P=S>>3,_=Math.ceil(E*S/8),x=new Uint8Array(N*_);let O=0;const k=[0,0,4,0,2,0,1],R=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let V=0;for(;V<7;){const T=L[V],U=F[V];let D=0,B=0,Q=k[V];for(;Q<N;)Q+=T,B++;let q=R[V];for(;q<E;)q+=U,D++;const X=Math.ceil(D*S/8);a(v,w,O,D,B);let G=0,z=k[V];for(;z<N;){let se=R[V],ye=O+G*X<<3;for(;se<E;){var I;if(S==1&&(I=(I=v[ye>>3])>>7-(7&ye)&1,x[z*_+(se>>3)]|=I<<7-((7&se)<<0)),S==2&&(I=(I=v[ye>>3])>>6-(7&ye)&3,x[z*_+(se>>2)]|=I<<6-((3&se)<<1)),S==4&&(I=(I=v[ye>>3])>>4-(7&ye)&15,x[z*_+(se>>1)]|=I<<4-((1&se)<<2)),S>=8){const de=z*_+se*P;for(let he=0;he<P;he++)x[de+he]=v[(ye>>3)+he]}ye+=S,se+=U}G++,z+=T}D*B!=0&&(O+=B*(1+X)),V+=1}return x}(f,c)),f}function r(c,f){return i(new Uint8Array(c.buffer,2,c.length-6),f)}var i=function(){const c={H:{}};return c.H.N=function(f,d){const p=Uint8Array;let g,y,b=0,m=0,v=0,w=0,E=0,N=0,S=0,P=0,_=0;if(f[0]==3&&f[1]==0)return d||new p(0);const x=c.H,O=x.b,k=x.e,R=x.R,L=x.n,F=x.A,V=x.Z,I=x.m,T=d==null;for(T&&(d=new p(f.length>>>2<<5));b==0;)if(b=O(f,_,1),m=O(f,_+1,2),_+=3,m!=0){if(T&&(d=c.H.W(d,P+(1<<17))),m==1&&(g=I.J,y=I.h,N=511,S=31),m==2){v=k(f,_,5)+257,w=k(f,_+5,5)+1,E=k(f,_+10,4)+4,_+=14;let D=1;for(var U=0;U<38;U+=2)I.Q[U]=0,I.Q[U+1]=0;for(U=0;U<E;U++){const q=k(f,_+3*U,3);I.Q[1+(I.X[U]<<1)]=q,q>D&&(D=q)}_+=3*E,L(I.Q,D),F(I.Q,D,I.u),g=I.w,y=I.d,_=R(I.u,(1<<D)-1,v+w,f,_,I.v);const B=x.V(I.v,0,v,I.C);N=(1<<B)-1;const Q=x.V(I.v,v,w,I.D);S=(1<<Q)-1,L(I.C,B),F(I.C,B,g),L(I.D,Q),F(I.D,Q,y)}for(;;){const D=g[V(f,_)&N];_+=15&D;const B=D>>>4;if(B>>>8==0)d[P++]=B;else{if(B==256)break;{let Q=P+B-254;if(B>264){const se=I.q[B-257];Q=P+(se>>>3)+k(f,_,7&se),_+=7&se}const q=y[V(f,_)&S];_+=15&q;const X=q>>>4,G=I.c[X],z=(G>>>4)+O(f,_,15&G);for(_+=15&G;P<Q;)d[P]=d[P++-z],d[P]=d[P++-z],d[P]=d[P++-z],d[P]=d[P++-z];P=Q}}}}else{(7&_)!=0&&(_+=8-(7&_));const D=4+(_>>>3),B=f[D-4]|f[D-3]<<8;T&&(d=c.H.W(d,P+B)),d.set(new p(f.buffer,f.byteOffset+D,B),P),_=D+B<<3,P+=B}return d.length==P?d:d.slice(0,P)},c.H.W=function(f,d){const p=f.length;if(d<=p)return f;const g=new Uint8Array(p<<1);return g.set(f,0),g},c.H.R=function(f,d,p,g,y,b){const m=c.H.e,v=c.H.Z;let w=0;for(;w<p;){const E=f[v(g,y)&d];y+=15&E;const N=E>>>4;if(N<=15)b[w]=N,w++;else{let S=0,P=0;N==16?(P=3+m(g,y,2),y+=2,S=b[w-1]):N==17?(P=3+m(g,y,3),y+=3):N==18&&(P=11+m(g,y,7),y+=7);const _=w+P;for(;w<_;)b[w]=S,w++}}return y},c.H.V=function(f,d,p,g){let y=0,b=0;const m=g.length>>>1;for(;b<p;){const v=f[b+d];g[b<<1]=0,g[1+(b<<1)]=v,v>y&&(y=v),b++}for(;b<m;)g[b<<1]=0,g[1+(b<<1)]=0,b++;return y},c.H.n=function(f,d){const p=c.H.m,g=f.length;let y,b,m,v;const w=p.j;for(var E=0;E<=d;E++)w[E]=0;for(E=1;E<g;E+=2)w[f[E]]++;const N=p.K;for(y=0,w[0]=0,b=1;b<=d;b++)y=y+w[b-1]<<1,N[b]=y;for(m=0;m<g;m+=2)v=f[m+1],v!=0&&(f[m]=N[v],N[v]++)},c.H.A=function(f,d,p){const g=f.length,y=c.H.m.r;for(let b=0;b<g;b+=2)if(f[b+1]!=0){const m=b>>1,v=f[b+1],w=m<<4|v,E=d-v;let N=f[b]<<E;const S=N+(1<<E);for(;N!=S;)p[y[N]>>>15-d]=w,N++}},c.H.l=function(f,d){const p=c.H.m.r,g=15-d;for(let y=0;y<f.length;y+=2){const b=f[y]<<d-f[y+1];f[y]=p[b]>>>g}},c.H.M=function(f,d,p){p<<=7&d;const g=d>>>3;f[g]|=p,f[g+1]|=p>>>8},c.H.I=function(f,d,p){p<<=7&d;const g=d>>>3;f[g]|=p,f[g+1]|=p>>>8,f[g+2]|=p>>>16},c.H.e=function(f,d,p){return(f[d>>>3]|f[1+(d>>>3)]<<8)>>>(7&d)&(1<<p)-1},c.H.b=function(f,d,p){return(f[d>>>3]|f[1+(d>>>3)]<<8|f[2+(d>>>3)]<<16)>>>(7&d)&(1<<p)-1},c.H.Z=function(f,d){return(f[d>>>3]|f[1+(d>>>3)]<<8|f[2+(d>>>3)]<<16)>>>(7&d)},c.H.i=function(f,d){return(f[d>>>3]|f[1+(d>>>3)]<<8|f[2+(d>>>3)]<<16|f[3+(d>>>3)]<<24)>>>(7&d)},c.H.m=function(){const f=Uint16Array,d=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new d(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new d(286),Y:new d(30),a:new d(19),t:new d(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=c.H.m;for(var d=0;d<32768;d++){let g=d;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,f.r[d]=(g>>>16|g<<16)>>>17}function p(g,y,b){for(;y--!=0;)g.push(0,b)}for(d=0;d<32;d++)f.q[d]=f.S[d]<<3|f.T[d],f.c[d]=f.p[d]<<4|f.z[d];p(f._,144,8),p(f._,112,9),p(f._,24,7),p(f._,8,8),c.H.n(f._,9),c.H.A(f._,9,f.J),c.H.l(f._,9),p(f.$,32,5),c.H.n(f.$,5),c.H.A(f.$,5,f.h),c.H.l(f.$,5),p(f.Q,19,0),p(f.C,286,0),p(f.D,30,0),p(f.v,320,0)}(),c.H.N}();function s(c){return[1,null,3,1,2,null,4][c.ctype]*c.depth}function a(c,f,d,p,g){let y=s(f);const b=Math.ceil(p*y/8);let m,v;y=Math.ceil(y/8);let w=c[d],E=0;if(w>1&&(c[d]=[0,0,1][w-2]),w==3)for(E=y;E<b;E++)c[E+1]=c[E+1]+(c[E+1-y]>>>1)&255;for(let N=0;N<g;N++)if(m=d+N*b,v=m+N+1,w=c[v-1],E=0,w==0)for(;E<b;E++)c[m+E]=c[v+E];else if(w==1){for(;E<y;E++)c[m+E]=c[v+E];for(;E<b;E++)c[m+E]=c[v+E]+c[m+E-y]}else if(w==2)for(;E<b;E++)c[m+E]=c[v+E]+c[m+E-b];else if(w==3){for(;E<y;E++)c[m+E]=c[v+E]+(c[m+E-b]>>>1);for(;E<b;E++)c[m+E]=c[v+E]+(c[m+E-b]+c[m+E-y]>>>1)}else{for(;E<y;E++)c[m+E]=c[v+E]+o(0,c[m+E-b],0);for(;E<b;E++)c[m+E]=c[v+E]+o(c[m+E-y],c[m+E-b],c[m+E-y-b])}return c}function o(c,f,d){const p=c+f-d,g=p-c,y=p-f,b=p-d;return g*g<=y*y&&g*g<=b*b?c:y*y<=b*b?f:d}function l(c,f,d){d.width=e.readUint(c,f),f+=4,d.height=e.readUint(c,f),f+=4,d.depth=c[f],f++,d.ctype=c[f],f++,d.compress=c[f],f++,d.filter=c[f],f++,d.interlace=c[f],f++}function u(c,f,d,p,g,y,b,m,v){const w=Math.min(f,g),E=Math.min(d,y);let N=0,S=0;for(let V=0;V<E;V++)for(let I=0;I<w;I++)if(b>=0&&m>=0?(N=V*f+I<<2,S=(m+V)*g+b+I<<2):(N=(-m+V)*f-b+I<<2,S=V*g+I<<2),v==0)p[S]=c[N],p[S+1]=c[N+1],p[S+2]=c[N+2],p[S+3]=c[N+3];else if(v==1){var P=c[N+3]*.00392156862745098,_=c[N]*P,x=c[N+1]*P,O=c[N+2]*P,k=p[S+3]*(1/255),R=p[S]*k,L=p[S+1]*k,F=p[S+2]*k;const T=1-P,U=P+k*T,D=U==0?0:1/U;p[S+3]=255*U,p[S+0]=(_+R*T)*D,p[S+1]=(x+L*T)*D,p[S+2]=(O+F*T)*D}else if(v==2)P=c[N+3],_=c[N],x=c[N+1],O=c[N+2],k=p[S+3],R=p[S],L=p[S+1],F=p[S+2],P==k&&_==R&&x==L&&O==F?(p[S]=0,p[S+1]=0,p[S+2]=0,p[S+3]=0):(p[S]=_,p[S+1]=x,p[S+2]=O,p[S+3]=P);else if(v==3){if(P=c[N+3],_=c[N],x=c[N+1],O=c[N+2],k=p[S+3],R=p[S],L=p[S+1],F=p[S+2],P==k&&_==R&&x==L&&O==F)continue;if(P<220&&k>20)return!1}return!0}return{decode:function(f){const d=new Uint8Array(f);let p=8;const g=e,y=g.readUshort,b=g.readUint,m={tabs:{},frames:[]},v=new Uint8Array(d.length);let w,E=0,N=0;const S=[137,80,78,71,13,10,26,10];for(var P=0;P<8;P++)if(d[P]!=S[P])throw"The input is not a PNG file!";for(;p<d.length;){const V=g.readUint(d,p);p+=4;const I=g.readASCII(d,p,4);if(p+=4,I=="IHDR")l(d,p,m);else if(I=="iCCP"){for(var _=p;d[_]!=0;)_++;g.readASCII(d,p,_-p),d[_+1];const T=d.slice(_+2,p+V);let U=null;try{U=r(T)}catch{U=i(T)}m.tabs[I]=U}else if(I=="CgBI")m.tabs[I]=d.slice(p,p+4);else if(I=="IDAT"){for(P=0;P<V;P++)v[E+P]=d[p+P];E+=V}else if(I=="acTL")m.tabs[I]={num_frames:b(d,p),num_plays:b(d,p+4)},w=new Uint8Array(d.length);else if(I=="fcTL"){N!=0&&((F=m.frames[m.frames.length-1]).data=n(m,w.slice(0,N),F.rect.width,F.rect.height),N=0);const T={x:b(d,p+12),y:b(d,p+16),width:b(d,p+4),height:b(d,p+8)};let U=y(d,p+22);U=y(d,p+20)/(U==0?100:U);const D={rect:T,delay:Math.round(1e3*U),dispose:d[p+24],blend:d[p+25]};m.frames.push(D)}else if(I=="fdAT"){for(P=0;P<V-4;P++)w[N+P]=d[p+P+4];N+=V-4}else if(I=="pHYs")m.tabs[I]=[g.readUint(d,p),g.readUint(d,p+4),d[p+8]];else if(I=="cHRM")for(m.tabs[I]=[],P=0;P<8;P++)m.tabs[I].push(g.readUint(d,p+4*P));else if(I=="tEXt"||I=="zTXt"){m.tabs[I]==null&&(m.tabs[I]={});var x=g.nextZero(d,p),O=g.readASCII(d,p,x-p),k=p+V-x-1;if(I=="tEXt")L=g.readASCII(d,x+1,k);else{var R=r(d.slice(x+2,x+2+k));L=g.readUTF8(R,0,R.length)}m.tabs[I][O]=L}else if(I=="iTXt"){m.tabs[I]==null&&(m.tabs[I]={}),x=0,_=p,x=g.nextZero(d,_),O=g.readASCII(d,_,x-_);const T=d[_=x+1];var L;d[_+1],_+=2,x=g.nextZero(d,_),g.readASCII(d,_,x-_),_=x+1,x=g.nextZero(d,_),g.readUTF8(d,_,x-_),k=V-((_=x+1)-p),T==0?L=g.readUTF8(d,_,k):(R=r(d.slice(_,_+k)),L=g.readUTF8(R,0,R.length)),m.tabs[I][O]=L}else if(I=="PLTE")m.tabs[I]=g.readBytes(d,p,V);else if(I=="hIST"){const T=m.tabs.PLTE.length/3;for(m.tabs[I]=[],P=0;P<T;P++)m.tabs[I].push(y(d,p+2*P))}else if(I=="tRNS")m.ctype==3?m.tabs[I]=g.readBytes(d,p,V):m.ctype==0?m.tabs[I]=y(d,p):m.ctype==2&&(m.tabs[I]=[y(d,p),y(d,p+2),y(d,p+4)]);else if(I=="gAMA")m.tabs[I]=g.readUint(d,p)/1e5;else if(I=="sRGB")m.tabs[I]=d[p];else if(I=="bKGD")m.ctype==0||m.ctype==4?m.tabs[I]=[y(d,p)]:m.ctype==2||m.ctype==6?m.tabs[I]=[y(d,p),y(d,p+2),y(d,p+4)]:m.ctype==3&&(m.tabs[I]=d[p]);else if(I=="IEND")break;p+=V,g.readUint(d,p),p+=4}var F;return N!=0&&((F=m.frames[m.frames.length-1]).data=n(m,w.slice(0,N),F.rect.width,F.rect.height)),m.data=n(m,v,m.width,m.height),delete m.compress,delete m.interlace,delete m.filter,m},toRGBA8:function(f){const d=f.width,p=f.height;if(f.tabs.acTL==null)return[t(f.data,d,p,f).buffer];const g=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const y=d*p*4,b=new Uint8Array(y),m=new Uint8Array(y),v=new Uint8Array(y);for(let E=0;E<f.frames.length;E++){const N=f.frames[E],S=N.rect.x,P=N.rect.y,_=N.rect.width,x=N.rect.height,O=t(N.data,_,x,f);if(E!=0)for(var w=0;w<y;w++)v[w]=b[w];if(N.blend==0?u(O,_,x,b,d,p,S,P,0):N.blend==1&&u(O,_,x,b,d,p,S,P,1),g.push(b.buffer.slice(0)),N.dispose!=0){if(N.dispose==1)u(m,_,x,b,d,p,S,P,0);else if(N.dispose==2)for(w=0;w<y;w++)b[w]=v[w]}}return g},_paeth:o,_copyTile:u,_bin:e}}();(function(){const{_copyTile:e}=Jn,{_bin:t}=Jn,n=Jn._paeth;var r={table:function(){const _=new Uint32Array(256);for(let x=0;x<256;x++){let O=x;for(let k=0;k<8;k++)1&O?O=3988292384^O>>>1:O>>>=1;_[x]=O}return _}(),update(_,x,O,k){for(let R=0;R<k;R++)_=r.table[255&(_^x[O+R])]^_>>>8;return _},crc:(_,x,O)=>4294967295^r.update(4294967295,_,x,O)};function i(_,x,O,k){x[O]+=_[0]*k>>4,x[O+1]+=_[1]*k>>4,x[O+2]+=_[2]*k>>4,x[O+3]+=_[3]*k>>4}function s(_){return Math.max(0,Math.min(255,_))}function a(_,x){const O=_[0]-x[0],k=_[1]-x[1],R=_[2]-x[2],L=_[3]-x[3];return O*O+k*k+R*R+L*L}function o(_,x,O,k,R,L,F){F==null&&(F=1);const V=k.length,I=[];for(var T=0;T<V;T++){const z=k[T];I.push([z>>>0&255,z>>>8&255,z>>>16&255,z>>>24&255])}for(T=0;T<V;T++){let z=4294967295;for(var U=0,D=0;D<V;D++){var B=a(I[T],I[D]);D!=T&&B<z&&(z=B,U=D)}}const Q=new Uint32Array(R.buffer),q=new Int16Array(x*O*4),X=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(T=0;T<X.length;T++)X[T]=255*((X[T]+.5)/16-.5);for(let z=0;z<O;z++)for(let se=0;se<x;se++){var G;T=4*(z*x+se),F!=2?G=[s(_[T]+q[T]),s(_[T+1]+q[T+1]),s(_[T+2]+q[T+2]),s(_[T+3]+q[T+3])]:(B=X[4*(3&z)+(3&se)],G=[s(_[T]+B),s(_[T+1]+B),s(_[T+2]+B),s(_[T+3]+B)]),U=0;let ye=16777215;for(D=0;D<V;D++){const be=a(G,I[D]);be<ye&&(ye=be,U=D)}const de=I[U],he=[G[0]-de[0],G[1]-de[1],G[2]-de[2],G[3]-de[3]];F==1&&(se!=x-1&&i(he,q,T+4,7),z!=O-1&&(se!=0&&i(he,q,T+4*x-4,3),i(he,q,T+4*x,5),se!=x-1&&i(he,q,T+4*x+4,1))),L[T>>2]=U,Q[T>>2]=k[U]}}function l(_,x,O,k,R){R==null&&(R={});const{crc:L}=r,F=t.writeUint,V=t.writeUshort,I=t.writeASCII;let T=8;const U=_.frames.length>1;let D,B=!1,Q=33+(U?20:0);if(R.sRGB!=null&&(Q+=13),R.pHYs!=null&&(Q+=21),R.iCCP!=null&&(D=pako.deflate(R.iCCP),Q+=21+D.length+4),_.ctype==3){for(var q=_.plte.length,X=0;X<q;X++)_.plte[X]>>>24!=255&&(B=!0);Q+=8+3*q+4+(B?8+1*q+4:0)}for(var G=0;G<_.frames.length;G++)U&&(Q+=38),Q+=(de=_.frames[G]).cimg.length+12,G!=0&&(Q+=4);Q+=12;const z=new Uint8Array(Q),se=[137,80,78,71,13,10,26,10];for(X=0;X<8;X++)z[X]=se[X];if(F(z,T,13),T+=4,I(z,T,"IHDR"),T+=4,F(z,T,x),T+=4,F(z,T,O),T+=4,z[T]=_.depth,T++,z[T]=_.ctype,T++,z[T]=0,T++,z[T]=0,T++,z[T]=0,T++,F(z,T,L(z,T-17,17)),T+=4,R.sRGB!=null&&(F(z,T,1),T+=4,I(z,T,"sRGB"),T+=4,z[T]=R.sRGB,T++,F(z,T,L(z,T-5,5)),T+=4),R.iCCP!=null){const he=13+D.length;F(z,T,he),T+=4,I(z,T,"iCCP"),T+=4,I(z,T,"ICC profile"),T+=11,T+=2,z.set(D,T),T+=D.length,F(z,T,L(z,T-(he+4),he+4)),T+=4}if(R.pHYs!=null&&(F(z,T,9),T+=4,I(z,T,"pHYs"),T+=4,F(z,T,R.pHYs[0]),T+=4,F(z,T,R.pHYs[1]),T+=4,z[T]=R.pHYs[2],T++,F(z,T,L(z,T-13,13)),T+=4),U&&(F(z,T,8),T+=4,I(z,T,"acTL"),T+=4,F(z,T,_.frames.length),T+=4,F(z,T,R.loop!=null?R.loop:0),T+=4,F(z,T,L(z,T-12,12)),T+=4),_.ctype==3){for(F(z,T,3*(q=_.plte.length)),T+=4,I(z,T,"PLTE"),T+=4,X=0;X<q;X++){const he=3*X,be=_.plte[X],Oe=255&be,De=be>>>8&255,Nn=be>>>16&255;z[T+he+0]=Oe,z[T+he+1]=De,z[T+he+2]=Nn}if(T+=3*q,F(z,T,L(z,T-3*q-4,3*q+4)),T+=4,B){for(F(z,T,q),T+=4,I(z,T,"tRNS"),T+=4,X=0;X<q;X++)z[T+X]=_.plte[X]>>>24&255;T+=q,F(z,T,L(z,T-q-4,q+4)),T+=4}}let ye=0;for(G=0;G<_.frames.length;G++){var de=_.frames[G];U&&(F(z,T,26),T+=4,I(z,T,"fcTL"),T+=4,F(z,T,ye++),T+=4,F(z,T,de.rect.width),T+=4,F(z,T,de.rect.height),T+=4,F(z,T,de.rect.x),T+=4,F(z,T,de.rect.y),T+=4,V(z,T,k[G]),T+=2,V(z,T,1e3),T+=2,z[T]=de.dispose,T++,z[T]=de.blend,T++,F(z,T,L(z,T-30,30)),T+=4);const he=de.cimg;F(z,T,(q=he.length)+(G==0?0:4)),T+=4;const be=T;I(z,T,G==0?"IDAT":"fdAT"),T+=4,G!=0&&(F(z,T,ye++),T+=4),z.set(he,T),T+=q,F(z,T,L(z,be,T-be)),T+=4}return F(z,T,0),T+=4,I(z,T,"IEND"),T+=4,F(z,T,L(z,T-4,4)),T+=4,z.buffer}function u(_,x,O){for(let k=0;k<_.frames.length;k++){const R=_.frames[k];R.rect.width;const L=R.rect.height,F=new Uint8Array(L*R.bpl+L);R.cimg=p(R.img,L,R.bpp,R.bpl,F,x,O)}}function c(_,x,O,k,R){const L=R[0],F=R[1],V=R[2],I=R[3],T=R[4],U=R[5];let D=6,B=8,Q=255;for(var q=0;q<_.length;q++){const it=new Uint8Array(_[q]);for(var X=it.length,G=0;G<X;G+=4)Q&=it[G+3]}const z=Q!=255,se=function(Se,Ee,tt,j,Y,Z){const J=[];for(var ee=0;ee<Se.length;ee++){const Pe=new Uint8Array(Se[ee]),Mt=new Uint32Array(Pe.buffer);var le;let ft=0,un=0,cn=Ee,kn=tt,ta=j?1:0;if(ee!=0){const iu=Z||j||ee==1||J[ee-2].dispose!=0?1:2;let mo=0,pr=1e9;for(let oi=0;oi<iu;oi++){var xe=new Uint8Array(Se[ee-1-oi]);const xf=new Uint32Array(Se[ee-1-oi]);let mr=Ee,Rn=tt,$n=-1,Fr=-1;for(let Yn=0;Yn<tt;Yn++)for(let dn=0;dn<Ee;dn++)Mt[Ve=Yn*Ee+dn]!=xf[Ve]&&(dn<mr&&(mr=dn),dn>$n&&($n=dn),Yn<Rn&&(Rn=Yn),Yn>Fr&&(Fr=Yn));$n==-1&&(mr=Rn=$n=Fr=0),Y&&((1&mr)==1&&mr--,(1&Rn)==1&&Rn--);const na=($n-mr+1)*(Fr-Rn+1);na<pr&&(pr=na,mo=oi,ft=mr,un=Rn,cn=$n-mr+1,kn=Fr-Rn+1)}xe=new Uint8Array(Se[ee-1-mo]),mo==1&&(J[ee-1].dispose=2),le=new Uint8Array(cn*kn*4),e(xe,Ee,tt,le,cn,kn,-ft,-un,0),ta=e(Pe,Ee,tt,le,cn,kn,-ft,-un,3)?1:0,ta==1?d(Pe,Ee,tt,le,{x:ft,y:un,width:cn,height:kn}):e(Pe,Ee,tt,le,cn,kn,-ft,-un,0)}else le=Pe.slice(0);J.push({rect:{x:ft,y:un,width:cn,height:kn},img:le,blend:ta,dispose:0})}if(j)for(ee=0;ee<J.length;ee++){if((Gt=J[ee]).blend==1)continue;const Pe=Gt.rect,Mt=J[ee-1].rect,ft=Math.min(Pe.x,Mt.x),un=Math.min(Pe.y,Mt.y),cn={x:ft,y:un,width:Math.max(Pe.x+Pe.width,Mt.x+Mt.width)-ft,height:Math.max(Pe.y+Pe.height,Mt.y+Mt.height)-un};J[ee-1].dispose=1,ee-1!=0&&f(Se,Ee,tt,J,ee-1,cn,Y),f(Se,Ee,tt,J,ee,cn,Y)}let at=0;if(Se.length!=1)for(var Ve=0;Ve<J.length;Ve++){var Gt;at+=(Gt=J[Ve]).rect.width*Gt.rect.height}return J}(_,x,O,L,F,V),ye={},de=[],he=[];if(k!=0){const it=[];for(G=0;G<se.length;G++)it.push(se[G].img.buffer);const Se=function(Y){let Z=0;for(var J=0;J<Y.length;J++)Z+=Y[J].byteLength;const ee=new Uint8Array(Z);let le=0;for(J=0;J<Y.length;J++){const xe=new Uint8Array(Y[J]),at=xe.length;for(let Ve=0;Ve<at;Ve+=4){let Gt=xe[Ve],Pe=xe[Ve+1],Mt=xe[Ve+2];const ft=xe[Ve+3];ft==0&&(Gt=Pe=Mt=0),ee[le+Ve]=Gt,ee[le+Ve+1]=Pe,ee[le+Ve+2]=Mt,ee[le+Ve+3]=ft}le+=at}return ee.buffer}(it),Ee=y(Se,k);for(G=0;G<Ee.plte.length;G++)de.push(Ee.plte[G].est.rgba);let tt=0;for(G=0;G<se.length;G++){const j=(Oe=se[G]).img.length;var be=new Uint8Array(Ee.inds.buffer,tt>>2,j>>2);he.push(be);const Y=new Uint8Array(Ee.abuf,tt,j);U&&o(Oe.img,Oe.rect.width,Oe.rect.height,de,Y,be),Oe.img.set(Y),tt+=j}}else for(q=0;q<se.length;q++){var Oe=se[q];const it=new Uint32Array(Oe.img.buffer);var De=Oe.rect.width;for(X=it.length,be=new Uint8Array(X),he.push(be),G=0;G<X;G++){const Se=it[G];if(G!=0&&Se==it[G-1])be[G]=be[G-1];else if(G>De&&Se==it[G-De])be[G]=be[G-De];else{let Ee=ye[Se];if(Ee==null&&(ye[Se]=Ee=de.length,de.push(Se),de.length>=300))break;be[G]=Ee}}}const Nn=de.length;for(Nn<=256&&T==0&&(B=Nn<=2?1:Nn<=4?2:Nn<=16?4:8,B=Math.max(B,I)),q=0;q<se.length;q++){(Oe=se[q]).rect.x,Oe.rect.y,De=Oe.rect.width;const it=Oe.rect.height;let Se=Oe.img;new Uint32Array(Se.buffer);let Ee=4*De,tt=4;if(Nn<=256&&T==0){Ee=Math.ceil(B*De/8);var Dt=new Uint8Array(Ee*it);const j=he[q];for(let Y=0;Y<it;Y++){G=Y*Ee;const Z=Y*De;if(B==8)for(var ke=0;ke<De;ke++)Dt[G+ke]=j[Z+ke];else if(B==4)for(ke=0;ke<De;ke++)Dt[G+(ke>>1)]|=j[Z+ke]<<4-4*(1&ke);else if(B==2)for(ke=0;ke<De;ke++)Dt[G+(ke>>2)]|=j[Z+ke]<<6-2*(3&ke);else if(B==1)for(ke=0;ke<De;ke++)Dt[G+(ke>>3)]|=j[Z+ke]<<7-1*(7&ke)}Se=Dt,D=3,tt=1}else if(z==0&&se.length==1){Dt=new Uint8Array(De*it*3);const j=De*it;for(G=0;G<j;G++){const Y=3*G,Z=4*G;Dt[Y]=Se[Z],Dt[Y+1]=Se[Z+1],Dt[Y+2]=Se[Z+2]}Se=Dt,D=2,tt=3,Ee=3*De}Oe.img=Se,Oe.bpl=Ee,Oe.bpp=tt}return{ctype:D,depth:B,plte:de,frames:se}}function f(_,x,O,k,R,L,F){const V=Uint8Array,I=Uint32Array,T=new V(_[R-1]),U=new I(_[R-1]),D=R+1<_.length?new V(_[R+1]):null,B=new V(_[R]),Q=new I(B.buffer);let q=x,X=O,G=-1,z=-1;for(let ye=0;ye<L.height;ye++)for(let de=0;de<L.width;de++){const he=L.x+de,be=L.y+ye,Oe=be*x+he,De=Q[Oe];De==0||k[R-1].dispose==0&&U[Oe]==De&&(D==null||D[4*Oe+3]!=0)||(he<q&&(q=he),he>G&&(G=he),be<X&&(X=be),be>z&&(z=be))}G==-1&&(q=X=G=z=0),F&&((1&q)==1&&q--,(1&X)==1&&X--),L={x:q,y:X,width:G-q+1,height:z-X+1};const se=k[R];se.rect=L,se.blend=1,se.img=new Uint8Array(L.width*L.height*4),k[R-1].dispose==0?(e(T,x,O,se.img,L.width,L.height,-L.x,-L.y,0),d(B,x,O,se.img,L)):e(B,x,O,se.img,L.width,L.height,-L.x,-L.y,0)}function d(_,x,O,k,R){e(_,x,O,k,R.width,R.height,-R.x,-R.y,2)}function p(_,x,O,k,R,L,F){const V=[];let I,T=[0,1,2,3,4];L!=-1?T=[L]:(x*k>5e5||O==1)&&(T=[0]),F&&(I={level:0});const U=LM;for(var D=0;D<T.length;D++){for(let q=0;q<x;q++)g(R,_,q,k,O,T[D]);V.push(U.deflate(R,I))}let B,Q=1e9;for(D=0;D<V.length;D++)V[D].length<Q&&(B=D,Q=V[D].length);return V[B]}function g(_,x,O,k,R,L){const F=O*k;let V=F+O;if(_[V]=L,V++,L==0)if(k<500)for(var I=0;I<k;I++)_[V+I]=x[F+I];else _.set(new Uint8Array(x.buffer,F,k),V);else if(L==1){for(I=0;I<R;I++)_[V+I]=x[F+I];for(I=R;I<k;I++)_[V+I]=x[F+I]-x[F+I-R]+256&255}else if(O==0){for(I=0;I<R;I++)_[V+I]=x[F+I];if(L==2)for(I=R;I<k;I++)_[V+I]=x[F+I];if(L==3)for(I=R;I<k;I++)_[V+I]=x[F+I]-(x[F+I-R]>>1)+256&255;if(L==4)for(I=R;I<k;I++)_[V+I]=x[F+I]-n(x[F+I-R],0,0)+256&255}else{if(L==2)for(I=0;I<k;I++)_[V+I]=x[F+I]+256-x[F+I-k]&255;if(L==3){for(I=0;I<R;I++)_[V+I]=x[F+I]+256-(x[F+I-k]>>1)&255;for(I=R;I<k;I++)_[V+I]=x[F+I]+256-(x[F+I-k]+x[F+I-R]>>1)&255}if(L==4){for(I=0;I<R;I++)_[V+I]=x[F+I]+256-n(0,x[F+I-k],0)&255;for(I=R;I<k;I++)_[V+I]=x[F+I]+256-n(x[F+I-R],x[F+I-k],x[F+I-R-k])&255}}}function y(_,x){const O=new Uint8Array(_),k=O.slice(0),R=new Uint32Array(k.buffer),L=b(k,x),F=L[0],V=L[1],I=O.length,T=new Uint8Array(I>>2);let U;if(O.length<2e7)for(var D=0;D<I;D+=4)U=m(F,B=O[D]*(1/255),Q=O[D+1]*(1/255),q=O[D+2]*(1/255),X=O[D+3]*(1/255)),T[D>>2]=U.ind,R[D>>2]=U.est.rgba;else for(D=0;D<I;D+=4){var B=O[D]*.00392156862745098,Q=O[D+1]*(1/255),q=O[D+2]*(1/255),X=O[D+3]*(1/255);for(U=F;U.left;)U=v(U.est,B,Q,q,X)<=0?U.left:U.right;T[D>>2]=U.ind,R[D>>2]=U.est.rgba}return{abuf:k.buffer,inds:T,plte:V}}function b(_,x,O){O==null&&(O=1e-4);const k=new Uint32Array(_.buffer),R={i0:0,i1:_.length,bst:null,est:null,tdst:0,left:null,right:null};R.bst=N(_,R.i0,R.i1),R.est=S(R.bst);const L=[R];for(;L.length<x;){let V=0,I=0;for(var F=0;F<L.length;F++)L[F].est.L>V&&(V=L[F].est.L,I=F);if(V<O)break;const T=L[I],U=w(_,k,T.i0,T.i1,T.est.e,T.est.eMq255);if(T.i0>=U||T.i1<=U){T.est.L=0;continue}const D={i0:T.i0,i1:U,bst:null,est:null,tdst:0,left:null,right:null};D.bst=N(_,D.i0,D.i1),D.est=S(D.bst);const B={i0:U,i1:T.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:T.bst.N-D.bst.N},F=0;F<16;F++)B.bst.R[F]=T.bst.R[F]-D.bst.R[F];for(F=0;F<4;F++)B.bst.m[F]=T.bst.m[F]-D.bst.m[F];B.est=S(B.bst),T.left=D,T.right=B,L[I]=D,L.push(B)}for(L.sort((V,I)=>I.bst.N-V.bst.N),F=0;F<L.length;F++)L[F].ind=F;return[R,L]}function m(_,x,O,k,R){if(_.left==null)return _.tdst=function(D,B,Q,q,X){const G=B-D[0],z=Q-D[1],se=q-D[2],ye=X-D[3];return G*G+z*z+se*se+ye*ye}(_.est.q,x,O,k,R),_;const L=v(_.est,x,O,k,R);let F=_.left,V=_.right;L>0&&(F=_.right,V=_.left);const I=m(F,x,O,k,R);if(I.tdst<=L*L)return I;const T=m(V,x,O,k,R);return T.tdst<I.tdst?T:I}function v(_,x,O,k,R){const{e:L}=_;return L[0]*x+L[1]*O+L[2]*k+L[3]*R-_.eMq}function w(_,x,O,k,R,L){for(k-=4;O<k;){for(;E(_,O,R)<=L;)O+=4;for(;E(_,k,R)>L;)k-=4;if(O>=k)break;const F=x[O>>2];x[O>>2]=x[k>>2],x[k>>2]=F,O+=4,k-=4}for(;E(_,O,R)>L;)O-=4;return O+4}function E(_,x,O){return _[x]*O[0]+_[x+1]*O[1]+_[x+2]*O[2]+_[x+3]*O[3]}function N(_,x,O){const k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,0,0,0],L=O-x>>2;for(let F=x;F<O;F+=4){const V=_[F]*.00392156862745098,I=_[F+1]*(1/255),T=_[F+2]*(1/255),U=_[F+3]*(1/255);R[0]+=V,R[1]+=I,R[2]+=T,R[3]+=U,k[0]+=V*V,k[1]+=V*I,k[2]+=V*T,k[3]+=V*U,k[5]+=I*I,k[6]+=I*T,k[7]+=I*U,k[10]+=T*T,k[11]+=T*U,k[15]+=U*U}return k[4]=k[1],k[8]=k[2],k[9]=k[6],k[12]=k[3],k[13]=k[7],k[14]=k[11],{R:k,m:R,N:L}}function S(_){const{R:x}=_,{m:O}=_,{N:k}=_,R=O[0],L=O[1],F=O[2],V=O[3],I=k==0?0:1/k,T=[x[0]-R*R*I,x[1]-R*L*I,x[2]-R*F*I,x[3]-R*V*I,x[4]-L*R*I,x[5]-L*L*I,x[6]-L*F*I,x[7]-L*V*I,x[8]-F*R*I,x[9]-F*L*I,x[10]-F*F*I,x[11]-F*V*I,x[12]-V*R*I,x[13]-V*L*I,x[14]-V*F*I,x[15]-V*V*I],U=T,D=P;let B=[Math.random(),Math.random(),Math.random(),Math.random()],Q=0,q=0;if(k!=0)for(let G=0;G<16&&(B=D.multVec(U,B),q=Math.sqrt(D.dot(B,B)),B=D.sml(1/q,B),!(G!=0&&Math.abs(q-Q)<1e-9));G++)Q=q;const X=[R*I,L*I,F*I,V*I];return{Cov:T,q:X,e:B,L:Q,eMq255:D.dot(D.sml(255,X),B),eMq:D.dot(B,X),rgba:(Math.round(255*X[3])<<24|Math.round(255*X[2])<<16|Math.round(255*X[1])<<8|Math.round(255*X[0])<<0)>>>0}}var P={multVec:(_,x)=>[_[0]*x[0]+_[1]*x[1]+_[2]*x[2]+_[3]*x[3],_[4]*x[0]+_[5]*x[1]+_[6]*x[2]+_[7]*x[3],_[8]*x[0]+_[9]*x[1]+_[10]*x[2]+_[11]*x[3],_[12]*x[0]+_[13]*x[1]+_[14]*x[2]+_[15]*x[3]],dot:(_,x)=>_[0]*x[0]+_[1]*x[1]+_[2]*x[2]+_[3]*x[3],sml:(_,x)=>[_*x[0],_*x[1],_*x[2],_*x[3]]};Jn.encode=function(x,O,k,R,L,F,V){R==null&&(R=0),V==null&&(V=!1);const I=c(x,O,k,R,[!1,!1,!1,0,V,!1]);return u(I,-1),l(I,O,k,L,F)},Jn.encodeLL=function(x,O,k,R,L,F,V,I){const T={ctype:0+(R==1?0:2)+(L==0?0:4),depth:F,frames:[]},U=(R+L)*F,D=U*O;for(let B=0;B<x.length;B++)T.frames.push({rect:{x:0,y:0,width:O,height:k},img:new Uint8Array(x[B]),blend:0,dispose:1,bpp:Math.ceil(U/8),bpl:Math.ceil(D/8)});return u(T,0,!0),l(T,O,k,V,I)},Jn.encode.compress=c,Jn.encode.dither=o,Jn.quantize=y,Jn.quantize.getKDtree=b,Jn.quantize.getNearest=m})();const ox={toArrayBuffer(e,t){const n=e.width,r=e.height,i=n<<2,s=e.getContext("2d").getImageData(0,0,n,r),a=new Uint32Array(s.data.buffer),o=(32*n+31)/32<<2,l=o*r,u=122+l,c=new ArrayBuffer(u),f=new DataView(c),d=1<<20;let p,g,y,b,m=d,v=0,w=0,E=0;function N(_){f.setUint16(w,_,!0),w+=2}function S(_){f.setUint32(w,_,!0),w+=4}function P(_){w+=_}N(19778),S(u),P(4),S(122),S(108),S(n),S(-r>>>0),N(1),N(32),S(3),S(l),S(2835),S(2835),P(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function _(){for(;v<r&&m>0;){for(b=122+v*o,p=0;p<i;)m--,g=a[E++],y=g>>>24,f.setUint32(b+p,g<<8|y),p+=4;v++}E<a.length?(m=d,setTimeout(_,ox._dly)):t(c)}()},toBlob(e,t){this.toArrayBuffer(e,n=>{t(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Qt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},UM={[Qt.CHROME]:16384,[Qt.FIREFOX]:11180,[Qt.DESKTOP_SAFARI]:16384,[Qt.IE]:8192,[Qt.IOS]:4096,[Qt.ETC]:8192};const Ag=typeof window<"u",lx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Zc=Ag&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),BM=(Ag||lx)&&(Zc&&Zc.getOriginalSymbol(window,"File")||typeof File<"u"&&File),ux=(Ag||lx)&&(Zc&&Zc.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Tg(e,t,n=Date.now()){return new Promise(r=>{const i=e.split(","),s=i[0].match(/:(.*?);/)[1],a=globalThis.atob(i[1]);let o=a.length;const l=new Uint8Array(o);for(;o--;)l[o]=a.charCodeAt(o);const u=new Blob([l],{type:s});u.name=t,u.lastModified=n,r(u)})}function cx(e){return new Promise((t,n)=>{const r=new ux;r.onload=()=>t(r.result),r.onerror=i=>n(i),r.readAsDataURL(e)})}function dx(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=i=>n(i),r.src=e})}function ws(){if(ws.cachedResult!==void 0)return ws.cachedResult;let e=Qt.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Qt.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Qt.IOS:/Safari/i.test(t)?e=Qt.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Qt.FIREFOX:(/MSIE/i.test(t)||!!document.documentMode)&&(e=Qt.IE),ws.cachedResult=e,ws.cachedResult}function fx(e,t){const n=ws(),r=UM[n];let i=e,s=t,a=i*s;const o=i>s?s/i:i/s;for(;a>r*r;){const l=(r+i)/2,u=(r+s)/2;l<u?(s=u,i=u*o):(s=l*o,i=l),a=i*s}return{width:i,height:s}}function pf(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function hx(e,t){const{width:n,height:r}=fx(e.width,e.height),[i,s]=pf(n,r);return t&&/jpe?g/.test(t)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(e,0,0,i.width,i.height),i}function tc(){return tc.cachedResult!==void 0||(tc.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),tc.cachedResult}function ed(e,t={}){return new Promise(function(n,r){let i,s;var a=function(){try{return s=hx(i,t.fileType||e.type),n([i,s])}catch(l){return r(l)}},o=function(l){try{var u=function(c){try{throw c}catch(f){return r(f)}};try{let c;return cx(e).then(function(f){try{return c=f,dx(c).then(function(d){try{return i=d,function(){try{return a()}catch(p){return r(p)}}()}catch(p){return u(p)}},u)}catch(d){return u(d)}},u)}catch(c){u(c)}}catch(c){return r(c)}};try{if(tc()||[Qt.DESKTOP_SAFARI,Qt.MOBILE_SAFARI].includes(ws()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(l){try{return i=l,a()}catch{return o()}},o)}catch{o()}})}function td(e,t,n,r,i=1){return new Promise(function(s,a){let o;if(t==="image/png"){let f,d,p;return f=e.getContext("2d"),{data:d}=f.getImageData(0,0,e.width,e.height),p=Jn.encode([d.buffer],e.width,e.height,4096*i),o=new Blob([p],{type:t}),o.name=n,o.lastModified=r,l.call(this)}{let f=function(){return l.call(this)};var u=f;if(t==="image/bmp")return new Promise(d=>ox.toBlob(e,d)).then(function(d){try{return o=d,o.name=n,o.lastModified=r,f.call(this)}catch(p){return a(p)}}.bind(this),a);{let d=function(){return f.call(this)};var c=d;if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:i}).then(function(p){try{return o=p,o.name=n,o.lastModified=r,d.call(this)}catch(g){return a(g)}}.bind(this),a);{let p;return p=e.toDataURL(t,i),Tg(p,n,r).then(function(g){try{return o=g,d.call(this)}catch(y){return a(y)}}.bind(this),a)}}}function l(){return s(o)}})}function wr(e){e.width=0,e.height=0}function ba(){return new Promise(function(e,t){let n,r,i,s;return ba.cachedResult!==void 0?e(ba.cachedResult):Tg("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return n=a,ed(n).then(function(o){try{return r=o[1],td(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,wr(r),ed(i).then(function(u){try{return s=u[0],ba.cachedResult=s.width===1&&s.height===2,e(ba.cachedResult)}catch(c){return t(c)}},t)}catch(u){return t(u)}},t)}catch(l){return t(l)}},t)}catch(o){return t(o)}},t)})}function px(e){return new Promise((t,n)=>{const r=new ux;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return t(-2);const a=s.byteLength;let o=2;for(;o<a;){if(s.getUint16(o+2,!1)<=8)return t(-1);const l=s.getUint16(o,!1);if(o+=2,l==65505){if(s.getUint32(o+=2,!1)!=1165519206)return t(-1);const u=s.getUint16(o+=6,!1)==18761;o+=s.getUint32(o+4,u);const c=s.getUint16(o,u);o+=2;for(let f=0;f<c;f++)if(s.getUint16(o+12*f,u)==274)return t(s.getUint16(o+12*f+8,u))}else{if((65280&l)!=65280)break;o+=s.getUint16(o,!1)}}return t(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(e)})}function mx(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:i}=t;let s,a=e;return isFinite(i)&&(n>i||r>i)&&([a,s]=pf(n,r),n>r?(a.width=i,a.height=r/n*i):(a.width=n/r*i,a.height=i),s.drawImage(e,0,0,a.width,a.height),wr(e)),a}function gx(e,t){const{width:n}=e,{height:r}=e,[i,s]=pf(n,r);switch(t>4&&t<9?(i.width=r,i.height=n):(i.width=n,i.height=r),t){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(e,0,0,n,r),wr(e),i}function aw(e,t,n=0){return new Promise(function(r,i){let s,a,o,l,u,c,f,d,p,g,y,b,m,v,w,E,N,S,P,_;function x(k=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;s+=k,t.onProgress(Math.min(s,100))}function O(k){if(t.signal&&t.signal.aborted)throw t.signal.reason;s=Math.min(Math.max(k,s),100),t.onProgress(s)}return s=n,a=t.maxIteration||10,o=1024*t.maxSizeMB*1024,x(),ed(e,t).then(function(k){try{return[,l]=k,x(),u=mx(l,t),x(),new Promise(function(R,L){var F;if(!(F=t.exifOrientation))return px(e).then(function(I){try{return F=I,V.call(this)}catch(T){return L(T)}}.bind(this),L);function V(){return R(F)}return V.call(this)}).then(function(R){try{return c=R,x(),ba().then(function(L){try{return f=L?u:gx(u,c),x(),d=t.initialQuality||1,p=t.fileType||e.type,td(f,p,e.name,e.lastModified,d).then(function(F){try{{let U=function(){if(a--&&(w>o||w>m)){let B,Q;return B=_?.95*P.width:P.width,Q=_?.95*P.height:P.height,[N,S]=pf(B,Q),S.drawImage(P,0,0,B,Q),d*=p==="image/png"?.85:.95,td(N,p,e.name,e.lastModified,d).then(function(q){try{return E=q,wr(P),P=N,w=E.size,O(Math.min(99,Math.floor((v-w)/(v-o)*100))),U}catch(X){return i(X)}},i)}return[1]},D=function(){return wr(P),wr(N),wr(u),wr(f),wr(l),O(100),r(E)};var I=U,T=D;if(g=F,x(),y=g.size>o,b=g.size>e.size,!y&&!b)return O(100),r(g);var V;return m=e.size,v=g.size,w=v,P=f,_=!t.alwaysKeepResolution&&y,(V=function(B){for(;B;){if(B.then)return void B.then(V,i);try{if(B.pop){if(B.length)return B.pop()?D.call(this):B;B=U}else B=B.call(this)}catch(Q){return i(Q)}}}.bind(this))(U)}}catch(U){return i(U)}}.bind(this),i)}catch(F){return i(F)}}.bind(this),i)}catch(L){return i(L)}}.bind(this),i)}catch(R){return i(R)}}.bind(this),i)})}const jM=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Ah;function zM(e,t){return new Promise((n,r)=>{Ah||(Ah=function(a){const o=[];return typeof a=="function"?o.push(`(${a})()`):o.push(a),URL.createObjectURL(new Blob(o))}(jM));const i=new Worker(Ah);i.addEventListener("message",function(a){if(t.signal&&t.signal.aborted)i.terminate();else if(a.data.progress===void 0){if(a.data.error)return r(new Error(a.data.error)),void i.terminate();n(a.data.file),i.terminate()}else t.onProgress(a.data.progress)}),i.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",()=>{r(t.signal.reason),i.terminate()}),i.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function Ot(e,t){return new Promise(function(n,r){let i,s,a,o,l,u;if(i={...t},a=0,{onProgress:o}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{a=p,typeof o=="function"&&o(a)},!(e instanceof Blob||e instanceof BM))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(u=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||u)return aw(e,i).then(function(p){try{return s=p,d.call(this)}catch(g){return r(g)}}.bind(this),r);var c=function(){try{return d.call(this)}catch(p){return r(p)}}.bind(this),f=function(p){try{return aw(e,i).then(function(g){try{return s=g,c()}catch(y){return r(y)}},r)}catch(g){return r(g)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",zM(e,i).then(function(p){try{return s=p,c()}catch{return f()}},f)}catch{f()}function d(){try{s.name=e.name,s.lastModified=e.lastModified}catch{}try{i.preserveExif&&e.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===e.type)&&(s=ax(e,s))}catch{}return n(s)}})}Ot.getDataUrlFromFile=cx,Ot.getFilefromDataUrl=Tg,Ot.loadImage=dx,Ot.drawImageInCanvas=hx,Ot.drawFileInCanvas=ed,Ot.canvasToFile=td,Ot.getExifOrientation=px,Ot.handleMaxWidthOrHeight=mx,Ot.followExifOrientation=gx,Ot.cleanupCanvasMemory=wr,Ot.isAutoOrientationInBrowser=ba,Ot.approximateBelowMaximumCanvasSizeOfBrowser=fx,Ot.copyExifWithoutOrientation=ax,Ot.getBrowserName=ws,Ot.version="2.0.2";function VM(e){return Ot(e,{maxSizeMB:3,maxWidthOrHeight:350,useWebWorker:!0})}const Cg=({id:e,onChange:t,className:n="",placeholder:r="No se ha seleccionado ning\xFAn archivo"})=>{const[i,s]=$.exports.useState(r),a=$.exports.useRef(null),o=()=>{var f;const l=(f=a.current)==null?void 0:f.files;if(!l||!l[0])return;const{type:u,name:c}=l[0];u.includes("image")&&VM(l[0]).then(d=>{t({blob:d,name:d.name}),s(d.name)}),(u.includes("pdf")||u.includes("docx"))&&(t({blob:l[0],name:c}),s(c))};return h(ge,{children:A("label",{className:`border flex h-8 rounded cursor-pointer ${n!=null?n:""}`,htmlFor:e,children:[h("div",{className:"bg-primary text-white w-1/3 h-full rounded-l flex items-center justify-center",children:"Seleccionar"}),h("div",{className:"text-gray-400 overflow-hidden w-2/3 whitespace-nowrap text-ellipsis pl-2 my-auto",children:i}),h("input",{id:e,ref:a,className:"hidden",type:"file",onChange:()=>o()})]})})},ie=({children:e,color:t,onClick:n,className:r="",type:i="button"})=>{const s={primary:"bg-primary",secondary:"bg-gray-200 !text-gray-600",warning:"bg-yellow-400",link:"text-primary"},a=t!=="link"?`button ${s[t]}`:`font-medium hover:underline ${s[t]}`;return i==="submit"?h("button",{type:i,className:`min-w-max ${a} ${r}`,children:e}):h("button",{type:i,onClick:n,className:`min-w-max ${a} ${r}`,children:e})},yx=({authState:e,closeModal:t})=>{var o,l;const[n,r]=$.exports.useState(null),i=Jl(),s={displayName:(o=n==null?void 0:n.owner.displayName)!=null?o:"",phoneNumber:(l=n==null?void 0:n.owner.phoneNumber)!=null?l:"",blob:new Blob,name:""},a=u=>{n&&i.updateOwnerProfile(u,n.owner).then(c=>{c&&t()})};return $.exports.useEffect(()=>{i.getOwnerProfileDetail(e.uid).then(u=>{r(u)})},[]),h(On,{enableReinitialize:!0,initialValues:s,onSubmit:a,children:u=>A(on,{children:[A("div",{className:"w-full",children:[h(pe,{htmlFor:"displayName",children:"Nombre completo"}),h(qe,{className:"w-full",name:"displayName",type:"text",placeholder:"Nombre completo"})]}),A("div",{className:"w-full",children:[h(pe,{htmlFor:"email",children:"Nro. Celular"}),h(qe,{className:"w-full",name:"phoneNumber",type:"number",placeholder:"Nro. Celular"})]}),A("div",{className:"w-full",children:[h(pe,{htmlFor:"photo",children:"Cambiar foto"}),h(Cg,{id:"photo",onChange:({blob:c,name:f})=>{u.setFieldValue("blob",c),u.setFieldValue("name",f)}})]}),A("div",{className:"flex gap-2 justify-end mt-3",children:[h(ie,{onClick:t,type:"button",color:"link",children:"Cancelar"}),h(ie,{type:"submit",color:"primary",children:"Guardar"})]})]})})},Ht=()=>{const[e,t]=$.exports.useState(!1),[n,r]=$.exports.useState(void 0);return{isOpen:e,openModal:()=>t(!0),closeModal:()=>t(!1),data:n,setData:r}},ln=({className:e,children:t,title:n,width:r="w-96",close:i})=>A(ge,{children:[h("div",{className:"absolute left-0 top-0 z-30 flex justify-center items-center h-screen w-screen background-blur"}),h("section",{className:"absolute flex justify-center items-center top-0 left-0 z-40 w-screen h-screen",children:A("div",{className:`bg-white shadow rounded ${r} ${e}`,children:[A("header",{className:"flex justify-between items-center bg-menu px-5 py-2 rounded-t",children:[h("h2",{className:"text-white cursor-default",children:n}),h(IE,{onClick:i,className:"text-white cursor-pointer rounded-full"})]}),h("div",{className:"p-5",children:t})]})})]});function HM(e){return _e({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}const WM=()=>{const{closeModal:e,isOpen:t,openModal:n}=Ht(),r=ii(i=>i.authState);return A(ge,{children:[t&&h(ln,{close:e,title:"Editar perfil",children:h(yx,{closeModal:e,authState:r})}),A("div",{onClick:n,title:"Editar perfil",className:"flex items-center justify-center p-5 cursor-pointer",children:[h("div",{className:`rounded-full p-1 h-24 w-24 gap-2 border flex items-center justify-center ${!r.photoUrl&&"bg-menu-dark"}`,children:r.photoUrl?h("img",{src:r.photoUrl,className:"object-cover rounded-full !h-full w-full",alt:"avatar"}):h(HM,{color:"#fff",size:70})}),A("h3",{className:"text-white flex flex-col text-center font-semibold w-[165px]",children:[r.displayName,h("small",{className:"font-normal text-gray-400",children:r.email})]})]})]})};function vx(e){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-2 0H3V6h14v8zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm13 0v11c0 1.1-.9 2-2 2H4v-2h17V7h2z"}}]})(e)}function qM(e){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M18.35 11.45V9c0-1.1-.9-2-2-2H13c-.37 0-.72.12-1 .32-.28-.2-.63-.32-1-.32H7.65c-1.1 0-2 .9-2 2v2.45c-.4.46-.65 1.06-.65 1.72V17h1.5v-1.5h11V17H19v-3.83c0-.66-.25-1.26-.65-1.72zm-1.6-.95h-4v-2h4v2zm-9.5-2h4v2h-4v-2zM17.5 14h-11v-1c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v1zM20 4v16H4V4h16m0-2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"}}]})(e)}function wx(e){return _e({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M7.732 0a59.316 59.316 0 0 0-4.977.218V24a62.933 62.933 0 0 1 3.619-.687c.17-.028.34-.053.509-.078.215-.033.43-.066.644-.096l.205-.03zm1.18.003V22.96a61.042 61.042 0 0 1 12.333-.213V1.485A60.859 60.859 0 0 0 8.912.003zm1.707 1.81a.59.59 0 0 1 .015 0c3.06.088 6.125.404 9.167.95a.59.59 0 0 1 .476.686.59.59 0 0 1-.569.484.59.59 0 0 1-.116-.009 60.622 60.622 0 0 0-8.992-.931.59.59 0 0 1-.573-.607.59.59 0 0 1 .592-.572zm-4.212.028a.59.59 0 0 1 .578.565.59.59 0 0 1-.564.614 59.74 59.74 0 0 0-2.355.144.59.59 0 0 1-.04.002.59.59 0 0 1-.595-.542.59.59 0 0 1 .54-.635c.8-.065 1.6-.114 2.401-.148a.59.59 0 0 1 .035 0zm4.202 2.834a.59.59 0 0 1 .015 0 61.6 61.6 0 0 1 9.167.8.59.59 0 0 1 .488.677.59.59 0 0 1-.602.494.59.59 0 0 1-.076-.006 60.376 60.376 0 0 0-8.99-.786.59.59 0 0 1-.584-.596.59.59 0 0 1 .582-.583zm-4.211.097a.59.59 0 0 1 .587.555.59.59 0 0 1-.554.622c-.786.046-1.572.107-2.356.184a.59.59 0 0 1-.04.003.59.59 0 0 1-.603-.533.59.59 0 0 1 .53-.644c.8-.078 1.599-.14 2.4-.187a.59.59 0 0 1 .036 0zM10.6 7.535a.59.59 0 0 1 .015 0c3.06-.013 6.125.204 9.167.65a.59.59 0 0 1 .498.67.59.59 0 0 1-.593.504.59.59 0 0 1-.076-.006 60.142 60.142 0 0 0-8.992-.638.59.59 0 0 1-.592-.588.59.59 0 0 1 .573-.592zm1.153 2.846a61.093 61.093 0 0 1 8.02.515.59.59 0 0 1 .509.66.59.59 0 0 1-.586.514.59.59 0 0 1-.076-.005 59.982 59.982 0 0 0-8.99-.492.59.59 0 0 1-.603-.577.59.59 0 0 1 .578-.603c.382-.008.765-.012 1.148-.012zm1.139 2.832a60.92 60.92 0 0 1 6.871.394.59.59 0 0 1 .52.652.59.59 0 0 1-.577.523.59.59 0 0 1-.076-.004 59.936 59.936 0 0 0-8.991-.344.59.59 0 0 1-.61-.568.59.59 0 0 1 .567-.611c.765-.028 1.53-.042 2.296-.042z"}}]})(e)}function _x(e){return _e({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 18v-9.5a4.5 4.5 0 0 1 4.5 -4.5h7a4.5 4.5 0 0 1 4.5 4.5v7a4.5 4.5 0 0 1 -4.5 4.5h-9.5a2 2 0 0 1 -2 -2z"}},{tag:"path",attr:{d:"M8 12h3.5a2 2 0 1 1 0 4h-3.5v-7a1 1 0 0 1 1 -1h1.5a2 2 0 1 1 0 4h-1.5"}},{tag:"line",attr:{x1:"16",y1:"16",x2:"16.01",y2:"16"}}]})(e)}function GM(e){return _e({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M13 9h6a2 2 0 0 1 2 2v6m-2 2h-10a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2"}},{tag:"path",attr:{d:"M12.582 12.59a2 2 0 0 0 2.83 2.826"}},{tag:"path",attr:{d:"M17 9v-2a2 2 0 0 0 -2 -2h-6m-4 0a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"}},{tag:"path",attr:{d:"M3 3l18 18"}}]})(e)}function KM(e){return _e({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"rect",attr:{x:"7",y:"9",width:"14",height:"10",rx:"2"}},{tag:"circle",attr:{cx:"14",cy:"14",r:"2"}},{tag:"path",attr:{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"}}]})(e)}const Bn=({children:e,href:t,permissionsRole:n})=>{const{role:r}=sn(i=>i.authState);return r===n?h("li",{children:h(_0,{to:t,className:({isActive:i})=>`flex items-center gap-2 p-2 text-base font-normal text-gray-400 rounded-lg bg-menu-item ${i?"bg-menu-dark text-white":""}`,children:e})}):h(ge,{})},YM=({id:e})=>A(ge,{children:[A(Bn,{permissionsRole:je.ADMIN,href:`/${e}/home/owners`,children:[h(VR,{className:"text-xl"}),"Propietarios"]}),A(Bn,{permissionsRole:je.ADMIN,href:`/${e}/home/payments`,children:[h(vx,{className:"text-xl"}),"Servicios"]}),A(Bn,{permissionsRole:je.ADMIN,href:`/${e}/home/apartments`,children:[h(UR,{className:"text-xl"}),"Unidades residenciales"]}),A(Bn,{permissionsRole:je.ADMIN,href:`/${e}/home/admin-request`,children:[h(BR,{className:"text-xl"}),"Solicitudes"]}),A(Bn,{permissionsRole:je.ADMIN,href:`/${e}/home/act/admin/*`,children:[h(wx,{className:"text-xl"}),"Actas y Documentos"]}),A(Bn,{permissionsRole:je.ADMIN,href:`/${e}/home/public-spaces`,children:[h(qM,{className:"text-xl"}),"Zonas comunes"]}),A(Bn,{permissionsRole:je.ADMIN,href:`/${e}/home/booking/admin`,children:[h(_x,{className:"text-xl"}),"Reservas"]})]});function bx(e){return _e({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M480 580H372a8 8 0 0 0-8 8v48a8 8 0 0 0 8 8h108v108a8 8 0 0 0 8 8h48a8 8 0 0 0 8-8V644h108a8 8 0 0 0 8-8v-48a8 8 0 0 0-8-8H544V472a8 8 0 0 0-8-8h-48a8 8 0 0 0-8 8v108zm374.6-291.3c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z"}}]})(e)}function QM(e){return _e({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494zM528.1 472h-32.2c-5.5 0-10.3 3.7-11.6 9.1L434.6 680l-46.1-198.7c-1.3-5.4-6.1-9.3-11.7-9.3h-35.4a12.02 12.02 0 0 0-11.6 15.1l74.2 276c1.4 5.2 6.2 8.9 11.6 8.9h32c5.4 0 10.2-3.6 11.6-8.9l52.8-197 52.8 197c1.4 5.2 6.2 8.9 11.6 8.9h31.8c5.4 0 10.2-3.6 11.6-8.9l74.4-276a12.04 12.04 0 0 0-11.6-15.1H647c-5.6 0-10.4 3.9-11.7 9.3l-45.8 199.1-49.8-199.3c-1.3-5.4-6.1-9.1-11.6-9.1z"}}]})(e)}function XM(e){return _e({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(e)}function JM(e){return _e({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]})(e)}function ZM(e){return _e({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 0 0-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 0 0-80.4 119.5A373.6 373.6 0 0 0 137 888.8a8 8 0 0 0 8 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 0 0 8.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 0 1 340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 0 1 683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]})(e)}function e9(e){return _e({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M678.3 655.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 0 0-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 518 759.6 444.7 759.6 362c0-137-110.8-248-247.5-248S264.7 225 264.7 362c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 0 0-80.4 119.5A373.6 373.6 0 0 0 137 901.8a8 8 0 0 0 8 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 641.2 432.2 610 512.2 610c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 0 0 8.1.3zM512.2 534c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 0 1 340.5 362c0-45.9 17.9-89.1 50.3-121.6S466.3 190 512.2 190s88.9 17.9 121.4 50.4A171.2 171.2 0 0 1 683.9 362c0 45.9-17.9 89.1-50.3 121.6C601.1 516.1 558 534 512.2 534zM880 772H640c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h240c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]})(e)}function t9(e){return _e({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M464 720a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]})(e)}const n9=({id:e})=>A(ge,{children:[A(Bn,{permissionsRole:je.CLIENT,href:`/${e}/home/apartment`,children:[h(XM,{className:"text-xl"}),"Unidad residencial"]}),A(Bn,{permissionsRole:je.CLIENT,href:`/${e}/home/payments`,children:[h(vx,{className:"text-xl"}),"Servicios"]}),A(Bn,{permissionsRole:je.CLIENT,href:`/${e}/home/request`,children:[h(zR,{className:"text-xl"}),"Enviar solicitud"]}),A(Bn,{permissionsRole:je.CLIENT,href:`/${e}/home/booking`,children:[h(_x,{className:"text-xl"}),"Reservas"]}),A(Bn,{permissionsRole:je.CLIENT,href:`/${e}/home/act`,children:[h(wx,{className:"text-xl"}),"Actas y Documentos"]})]});function r9(e){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"}}]})(e)}function i9(e){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 11H7.101l.001-.009a4.956 4.956 0 0 1 .752-1.787 5.054 5.054 0 0 1 2.2-1.811c.302-.128.617-.226.938-.291a5.078 5.078 0 0 1 2.018 0 4.978 4.978 0 0 1 2.525 1.361l1.416-1.412a7.036 7.036 0 0 0-2.224-1.501 6.921 6.921 0 0 0-1.315-.408 7.079 7.079 0 0 0-2.819 0 6.94 6.94 0 0 0-1.316.409 7.04 7.04 0 0 0-3.08 2.534 6.978 6.978 0 0 0-1.054 2.505c-.028.135-.043.273-.063.41H2l4 4 4-4zm4 2h2.899l-.001.008a4.976 4.976 0 0 1-2.103 3.138 4.943 4.943 0 0 1-1.787.752 5.073 5.073 0 0 1-2.017 0 4.956 4.956 0 0 1-1.787-.752 5.072 5.072 0 0 1-.74-.61L7.05 16.95a7.032 7.032 0 0 0 2.225 1.5c.424.18.867.317 1.315.408a7.07 7.07 0 0 0 2.818 0 7.031 7.031 0 0 0 4.395-2.945 6.974 6.974 0 0 0 1.053-2.503c.027-.135.043-.273.063-.41H22l-4-4-4 4z"}}]})(e)}function s9(e){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 16c1.671 0 3-1.331 3-3s-1.329-3-3-3-3 1.331-3 3 1.329 3 3 3z"}},{tag:"path",attr:{d:"M20.817 11.186a8.94 8.94 0 0 0-1.355-3.219 9.053 9.053 0 0 0-2.43-2.43 8.95 8.95 0 0 0-3.219-1.355 9.028 9.028 0 0 0-1.838-.18V2L8 5l3.975 3V6.002c.484-.002.968.044 1.435.14a6.961 6.961 0 0 1 2.502 1.053 7.005 7.005 0 0 1 1.892 1.892A6.967 6.967 0 0 1 19 13a7.032 7.032 0 0 1-.55 2.725 7.11 7.11 0 0 1-.644 1.188 7.2 7.2 0 0 1-.858 1.039 7.028 7.028 0 0 1-3.536 1.907 7.13 7.13 0 0 1-2.822 0 6.961 6.961 0 0 1-2.503-1.054 7.002 7.002 0 0 1-1.89-1.89A6.996 6.996 0 0 1 5 13H3a9.02 9.02 0 0 0 1.539 5.034 9.096 9.096 0 0 0 2.428 2.428A8.95 8.95 0 0 0 12 22a9.09 9.09 0 0 0 1.814-.183 9.014 9.014 0 0 0 3.218-1.355 8.886 8.886 0 0 0 1.331-1.099 9.228 9.228 0 0 0 1.1-1.332A8.952 8.952 0 0 0 21 13a9.09 9.09 0 0 0-.183-1.814z"}}]})(e)}const a9=()=>{const[e,t]=$.exports.useState(!1),n=$.exports.useRef(null),{theme:r}=ii(o=>o.themeState),{id:i}=qs();$.exports.useEffect(()=>{screen.width>768&&t(!0)},[]),$.exports.useEffect(()=>{function o(l){n.current&&!n.current.contains(l.target)&&screen.width<768&&t(!1)}return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[n]);const{authController:s}=uf(),a=async()=>{s.logOut()};return A(ge,{children:[h("div",{className:"w-full md:hidden py-3 px-3 bg-gray-50",children:h("button",{className:"flex justify-center items-center",onClick:()=>t(!0),children:h(r9,{size:32,className:"text-black"})})}),h("aside",{className:`absolute top-0 z-20 w-3/4 h-full md:static lg:w-1/4 bg-menu ${e?"":"hidden"}`,"aria-label":"Sidebar",ref:n,children:A("div",{className:"overflow-y-auto h-full py-4 px-3",children:[h("h2",{className:"font-bold text-xl text-center text-gray-200",children:r.logo?h("div",{className:"w-full flex justify-center mb-2",children:h("img",{width:100,className:"",src:r.logo})}):h(ge,{children:"FlexTo"})}),h(WM,{}),A("ul",{className:"space-y-2 py-2",children:[h(YM,{id:i}),h(n9,{id:i}),A("button",{onClick:a,className:"flex items-center w-full gap-2 p-2 text-base font-normal text-gray-400 rounded-lg bg-menu-item",children:[h(jR,{className:"text-xl"}),"Salir"]})]})]})})]})},o9="_container_l3oyc_2",l9={container:o9},Zl=({children:e,className:t=""})=>{const{role:n}=sn(i=>i.authState),r=an();return $.exports.useEffect(()=>{if(n===null){r(H(!0));return}r(H(!1))},[n]),A("main",{className:"h-screen w-full md:flex",children:[h(a9,{}),h("section",{className:`md:w-full bg-gray-50 h-full ${l9.container} ${t}`,children:e}),h(fg,{})]})},ow={active:"inline-block p-4 text-primary border-b-2 border-primary rounded-t-lg active",inactive:"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300"},u9=({tabs:e})=>h("div",{className:"text-sm h-14 font-medium text-center text-gray-500 border-b border-gray-200",children:h("ul",{className:"flex flex-wrap",children:e.map((t,n)=>h("li",{className:"mr-2",children:h(_0,{to:t.redirectTo,"aria-current":"page",className:({isActive:r})=>r?ow.active:ow.inactive,children:t.label})},n))})}),c9=()=>A(Zl,{children:[h(u9,{tabs:[{label:"Actas",redirectTo:Xp.list},{label:"Plantillas",redirectTo:Xp.templates}]}),h("div",{className:"px-4 h-[calc(100%-4.5rem)] py-2",children:h(xb,{})})]}),dr=({children:e})=>h("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100",children:h("tr",{children:$.exports.Children.map(e,t=>$.exports.cloneElement(t,{...t.props,className:`py-3 px-6 ${t.props.className}`}))})}),d9=e=>e%2===0?"bg-white":"bg-gray-100",Gn=({children:e,index:t})=>h("tr",{className:`${d9(t)} border-b overflow-auto`,children:$.exports.Children.map(e,n=>{var r;return $.exports.cloneElement(n,{className:`py-4 px-6 ${(r=n.props.className)!=null?r:""}`})})}),fr=({children:e})=>h("table",{className:"w-full text-sm text-left text-gray-500 shadow my-1",children:e}),Ig=({templates:e,labelsName:t,actionLabel:n,openActModal:r,deleteTemplate:i})=>A(fr,{children:[A(dr,{children:[A("th",{children:["Nombre ",t]}),h("th",{children:"PDF"}),h("th",{children:"Fecha"}),h("th",{children:"Acci\xF3n"})]}),h("tbody",{children:e.map((s,a)=>A(Gn,{index:a,children:[h("th",{children:s.templateName}),h("td",{children:A("a",{href:s.documentUrl,target:"_blank",className:"flex gap-1 items-center",children:[h(QM,{size:20,color:"#027dd7"}),h("span",{className:"hover:underline cursor-pointer whitespace-nowrap overflow-ellipsis overflow-hidden sm:max-w-[130px]",children:s.documentName})]})}),h("td",{children:s.date}),h("td",{children:A("div",{className:"flex gap-2",children:[n&&r&&h(ie,{onClick:()=>r(s),color:"link",children:n}),h(ie,{onClick:()=>i(s),color:"link",children:"Eliminar"})]})})]},s.id))})]}),Sx=({labelsName:e,data:t,closeModal:n})=>{const[r,i]=$.exports.useState(null),s={templateName:(t==null?void 0:t.templateName)||""},a=async l=>{if(!r)return;const u={...l,...r};n(u)},o=(l,u)=>{i({file:l,documentName:u})};return h(On,{initialValues:s,onSubmit:a,children:A(on,{className:"flex flex-col gap-3",children:[A("div",{className:"flex flex-col text-gray-900",children:[A("label",{htmlFor:"templateName",className:"font-semibold p-1",children:["Nombre de la ",e]}),h(Nr,{id:"templateName",name:"templateName",className:"border bg-white px-2 py-1",placeholder:`Nombre de la ${e}`})]}),A("div",{className:"flex flex-col gap-1 w-96",children:[A("label",{htmlFor:"templateFile",className:"font-semibold p-1",children:["Subir ",e]}),h(Cg,{className:"w-full",id:"templateFile",onChange:l=>{o(l.blob,l.name)}})]}),A("div",{className:"flex flex-row-reverse gap-3 pt-3",children:[h(ie,{type:"submit",color:"primary",children:"Guardar"}),h(ie,{color:"link",onClick:()=>n(),children:"Cerrar"})]})]})})},lw=e=>e instanceof Tn&&e.message==="incorrect_format"?{title:"Formato de archivo incorrecto, los archivos permitidos son",details:[".pdf",".docx"],type:"warning"}:{title:"No se pudo subir el acta",details:[Ye.TRY_LATER],type:"error"},Ex=e=>{const t=Rr(e),n=sg(),r=Xi(),{theme:i}=sn(u=>u.themeState);return{getMappedTemplates:async()=>{r(H(!0));try{return await t.getAllFirestore()}catch(u){return console.error(u),[]}finally{r(H(!1))}},addTemplate:async u=>{r(H(!0));try{const{documentName:c}=u;if(!c.includes(".docx")&&!c.includes(".pdf"))throw new Tn("incorrect_format");const f=await n.uploadFile({file:u.file,filename:u.documentName,filepath:Li.TEMPLATES});return await t.addFirestore({customization:i.id,documentName:u.documentName,templateName:u.templateName,documentUrl:f,date:of(new Date),permissionsOwnersAct:[]}),!0}catch(c){return r(re(lw(c))),!1}finally{r(H(!1))}},updateTemplate:async u=>{r(H(!0));try{const{id:c,oldTemplate:f,formData:d}=u,{documentName:p}=d;if(!p.includes(".docx")&&!p.includes(".pdf"))throw new Tn("incorrect_format");const g=await n.uploadFile({file:d.file,filename:d.documentName,filepath:Li.TEMPLATES});return await t.updateFirestore(c,{...f,documentUrl:g,documentName:d.documentName,templateName:d.templateName}),await n.deleteFile(f.documentName,Li.TEMPLATES),!0}catch(c){return r(re(lw(c))),!1}finally{r(H(!1))}},deleteTemplate:async u=>{r(H(!0)),await t.deleteFirestore(u),r(H(!1))}}},f9=({actType:e,labelsName:t})=>{const[n,r]=$.exports.useState([]),{openModal:i,closeModal:s,isOpen:a,data:o,setData:l}=Ht();$.exports.useEffect(()=>{c()},[e]);const u=Ex(e),c=()=>{u.getMappedTemplates().then(m=>{r(m)})},f=m=>{m&&g(m),s()},d=m=>{l(m),i()},p=async m=>{await u.deleteTemplate(m.id),c()},g=m=>{if(!o){y(m);return}b(o,m)},y=m=>{u.addTemplate(m).then(v=>{v&&(c(),s())})},b=(m,v)=>{u.updateTemplate({id:m.id,formData:v,oldTemplate:m}).then(w=>{w&&(c(),s())})};return A(ge,{children:[a&&h(ln,{close:s,title:`${o?"Editar":"Crear"} ${t}`,width:"300px",children:h(Sx,{closeModal:f,labelsName:t,data:o})}),h(Ig,{templates:n,labelsName:t,actionLabel:"Editar",openActModal:m=>d(m),deleteTemplate:m=>p(m)}),h("div",{className:"absolute bottom-10 right-10 shadow",children:A(ie,{className:"flex items-center justify-center p-2 gap-2",color:"primary",onClick:()=>d(),children:[h(bx,{}),"Agregar ",t]})})]})};function h9(e){return _e({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M15.62 3.596L7.815 12.81l-.728-.033L4 8.382l.754-.53 2.744 3.907L14.917 3l.703.596z"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.234 8.774l4.386-5.178L10.917 3l-4.23 4.994.547.78zm-1.55.403l.548.78-.547-.78zm-1.617 1.91l.547.78-.799.943-.728-.033L0 8.382l.754-.53 2.744 3.907.57-.672z"}}]})(e)}function p9(e){return _e({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M8.621 8.086l-.707-.707L6.5 8.793 5.086 7.379l-.707.707L5.793 9.5l-1.414 1.414.707.707L6.5 10.207l1.414 1.414.707-.707L7.207 9.5l1.414-1.414z"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3l1-1h7l1 1v7l-1 1h-2v2l-1 1H3l-1-1V6l1-1h2V3zm1 2h4l1 1v4h2V3H6v2zm4 1H3v7h7V6z"}}]})(e)}const xx=({name:e,formik:t=!1,onChange:n,value:r,checked:i})=>t?h(Nr,{id:e,type:"checkbox",className:"accent-primary w-4 h-4",name:e}):h("input",{id:e,name:e,type:"checkbox",onChange:n,value:r,className:"accent-primary w-4 h-4",checked:i}),hs=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");function m9({placeholder:e,searchOptions:t}){const[n,r]=$.exports.useState(""),i=(a,o)=>{const l=hs(a).toLowerCase().trim(),u=hs(o).toLowerCase().trim();return l.includes(u)};return A("div",{className:"relative my-2",children:[h("input",{className:" w-full text-primary search-input border-primary bg-white placeholder:flex placeholder:items-center indent-4 rounded px-4 py-1 h-8 border",type:"text",onChange:a=>{const{value:o}=a.target,l=t.allItems.filter(u=>{for(const c of t.searchKeys){const f=u[c];if(typeof f=="string"&&i(f,o))return!0;if(typeof f=="number"){const d=String(f);if(i(d,o))return!0}}return!1});t.setItems(l),r(o)},value:n,placeholder:e}),h(pg,{className:"absolute text-primary",style:{top:"7px",left:"10px"}})]})}const Ax=({activeOwnerIds:e,handleClose:t,handleOwnerIds:n})=>{const[r,i]=$.exports.useState([]),[s,a]=$.exports.useState([]),o=Jl();$.exports.useEffect(()=>{o.getOwners().then(d=>{const p=d.map(g=>{const y=e.some(b=>b===g.id);return y&&l(y,g),{...g,selected:y}});a(p),i(p)})},[]);const l=(d,p)=>{a(g=>g.map(y=>y.id===p.id?{...p,selected:d}:{...y})),i(g=>g.map(y=>y.id===p.id?{...p,selected:d}:{...y}))},u=()=>{const d=s.map(p=>({ownerId:p.id,selected:p.selected}));n(d)},c=d=>{const p=r.map(g=>({...g,selected:d}));i(p),a(g=>g.map(y=>{const b=p.find(m=>m.id===y.id);return b?{...y,selected:b.selected}:{...y,selected:y.selected}}))},f=d=>{const p=hs(d).toLowerCase().trim(),g=s.filter(y=>{var b,m;return hs(y.displayName).toLowerCase().trim().includes(p)||hs(y.email).toLowerCase().trim().includes(p)||hs(((b=y.apartment)==null?void 0:b.tower)||"").toLowerCase().trim().includes(p)||hs(((m=y.apartment)==null?void 0:m.apartmentNumber)||"").toLowerCase().trim().includes(p)});i(g)};return A(ln,{close:t,title:"Agregar usuarios",className:"w-[28em]",children:[A("div",{className:"bg-white rounded-lg shadow w-full",children:[A("div",{className:"p-3",children:[h("label",{htmlFor:"input-group-search",className:"sr-only",children:"Search"}),A("div",{className:"relative",children:[h("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:h(pg,{})}),h("input",{type:"text",id:"input-group-search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg  border-primary-search block w-full pl-10 p-2.5 ",placeholder:"Search user",onChange:d=>f(d.target.value)})]})]}),h("ul",{className:"h-48 px-3 pb-3 overflow-y-auto text-sm text-gray-700","aria-labelledby":"dropdownSearchButton",children:r.map(d=>{var p,g;return A("li",{children:[A("div",{className:"flex items-center p-2 rounded hover:bg-gray-100",children:[h(xx,{name:d.id,checked:d.selected,onChange:y=>l(y.target.checked,d)}),A("label",{htmlFor:d.id,className:"flex justify-between w-full ml-2 text-sm font-medium text-gray-900 rounded",children:[A("div",{className:"pl-2 flex flex-col",children:[d.displayName,h("small",{className:"text-gray-600",children:d.email})]}),A("div",{className:"flex flex-col",children:[(p=d.apartment)==null?void 0:p.tower,"-",(g=d.apartment)==null?void 0:g.apartmentNumber,h("small",{className:"text-gray-600",children:"Unidad Residencial"})]})]})]}),h("hr",{})]},d.id)})}),A("a",{href:"#",className:"flex gap-2 items-center justify-center p-3 text-sm font-medium border-t border-gray-200 rounded-b-lg bg-gray-50 ",children:[A(ie,{color:"secondary",className:"flex gap-1 justify-center items-center",onClick:()=>c(!0),children:[h(h9,{fontSize:14}),"Seleccionar todos"]}),A(ie,{color:"secondary",className:"flex gap-1 justify-center items-center",onClick:()=>c(!1),children:[h(p9,{fontSize:18}),"Remover todos"]})]})]}),h("div",{className:"mt-2 flex justify-end",children:h(ie,{color:"primary",onClick:()=>u(),children:"Guardar"})})]})},g9=()=>{const e=Rr(rn.ACT);return{getActsByDate:i=>e.getAllFirestore([ut("date","==",i)]),getActsByOwner:async i=>e.getAllFirestore([ut(q0(),"in",i)]),getActs:async()=>e.getAllFirestore()}},y9=()=>{const e=g9(),t=oo(),n=dg(rn.REGISTERED_USER),r=ii(u=>u.authState);return{getAvailableActs:async u=>await e.getActsByDate(u),getActsByIds:async()=>{let u=null;try{return u=await t.getOwnerByUid(r.uid),!u.actsAccess||u.actsAccess.length===0?[]:await e.getActsByOwner(u.actsAccess)}catch(c){throw console.error(c),c}},deleteUserPermissionAct:async u=>{var f;const c=await t.getOwnerByUid(r.uid);t.updateActOwner(c.id,{...c,actsAccess:(f=c.actsAccess)==null?void 0:f.filter(d=>d!==u.id)})},addBulkOwnerActsPermission:async(u,c)=>{const f=n.getBatch(),d=await t.getActiveOwners(),p=c.map(g=>{const y=d.find(b=>b.id===g.ownerId);return y?y.actsAccess?{...y,actsAccess:g.selected?Array.from(new Set([...y.actsAccess,u.id])):y.actsAccess.filter(b=>b!==u.id)}:{...y,actsAccess:[]}:null}).filter(g=>Boolean(g));n.bulkUpdate(f,p,"id"),await n.commitBatch(f)},getActsWithOwner:async()=>{const[u,c]=await Promise.all([t.getActiveOwners(),e.getActs()]);return c.map(f=>{const d=u.filter(p=>{var g;return(g=p.actsAccess)==null?void 0:g.includes(f.id)}).map(p=>p.id);return{...f,ownerAccess:d}})}}};function Pg(){const e=Xi(),t=y9();return{getAvailableAct:async o=>{e(H(!0));try{return await t.getAvailableActs(o)}catch{return e(re({type:"error",title:"Error al obtener las actas disponibles",details:[Ye.TRY_LATER]})),[]}finally{e(H(!1))}},getActsByOwner:async()=>{e(H(!0));try{const o=await t.getActsByIds();return o.length===0&&e(re({title:"El usuario no tiene actas ni documentos para visualizar",details:[],type:"info"})),o}catch{return e(re({title:"No se pudieron obtener las actas",details:[Ye.TRY_LATER],type:"error"})),[]}finally{e(H(!1))}},deleteUserPermissionAct:async o=>{e(H(!0));try{await t.deleteUserPermissionAct(o),e(re({title:"Se elimino correctamente el acta",details:["Para poder visualizarla nuevamente tiene que solicitar el permiso en la secci\xF3n de permisos"],type:"success"}))}catch(l){console.error(l),e(re({title:"No se pudo remover el permiso",details:[Ye.TRY_LATER],type:"error"}))}finally{e(H(!1))}},addBulkOwnerActsPermission:async(o,l)=>{e(H(!0));try{return await t.addBulkOwnerActsPermission(o,l),e(re({title:"Se han compartido correctamente las actas",details:[],type:"success"})),!0}catch(u){return console.error(u),e(re({title:"No se han podido agregar los permisos",details:[Ye.TRY_LATER],type:"error"})),!1}finally{e(H(!1))}},getActsWithOwner:async()=>{e(H(!0));try{return await t.getActsWithOwner()}catch(o){return console.error(o),e(re({title:"No se pudieron obtener las actas",details:[Ye.TRY_LATER],type:"error"})),[]}finally{e(H(!1))}}}}const v9=()=>{var m;const{isOpen:e,openModal:t,closeModal:n,setData:r,data:i}=Ht(),{isOpen:s,openModal:a,closeModal:o}=Ht(),[l,u]=$.exports.useState([]),c=Ex(rn.ACT),f=Pg();$.exports.useEffect(()=>{d()},[]);const d=()=>{f.getActsWithOwner().then(v=>{u(v)})},p=async v=>{await c.deleteTemplate(v.id),u(w=>w.filter(E=>E.id!==v.id))},g=v=>{if(v){const w=l.find(E=>E.id===v.id);r(w),t();return}a()},y=v=>{f.addBulkOwnerActsPermission(i,v).then(w=>{w&&(d(),n())})},b=v=>{if(!v){o();return}c.addTemplate(v).then(w=>{w&&(d(),o())})};return A(ge,{children:[e&&h(Ax,{activeOwnerIds:(m=i==null?void 0:i.ownerAccess)!=null?m:[],handleClose:n,handleOwnerIds:y}),s&&h(ln,{close:o,title:"Crear acta",width:"300px",children:h(Sx,{closeModal:b,labelsName:"acta"})}),h(Ig,{templates:l,labelsName:"del documento",actionLabel:"Compartir",openActModal:v=>g(v),deleteTemplate:v=>p(v)}),h("div",{className:"absolute bottom-10 right-10 shadow",children:A(ie,{className:"flex items-center justify-center p-2 gap-2",color:"primary",onClick:()=>g(),children:[h(bx,{}),"Agregar acta o documento"]})})]})},Og=({children:e,className:t=""})=>h("h1",{className:t&&` ${t}`,children:e}),Tx=({children:e,title:t,subtitle:n,className:r=""})=>A("div",{className:`md:flex gap-2 justify-between items-center h-20 px-8 ${r}`,children:[A(Og,{children:[t,n&&h("small",{className:"block text-sm text-gray-500",children:n})]}),e]});function hr({children:e,title:t,searchOptions:n,action:r,actionName:i="Crear nuevo",subtitle:s}){return A(Zl,{children:[h(Tx,{title:t,subtitle:s,children:A("div",{className:"md:flex gap-2 justify-end items-center",children:[r&&h(ie,{className:"absolute top-4 right-2 md:static",color:"primary",onClick:()=>r(),children:i}),h(m9,{searchOptions:n,placeholder:"Buscar"})]})}),h("div",{className:"overflow-auto mt-3 md:mt-0 md:px-4",children:e})]})}const w9=()=>{const[e,t]=$.exports.useState([]),[n,r]=$.exports.useState([]),i=Pg();$.exports.useEffect(()=>{i.getActsByOwner().then(a=>{t(a),r(a)})},[]);const s=async a=>{await i.deleteUserPermissionAct(a),t(e.filter(o=>o.id!==a.id))};return h(hr,{title:"Actas y Documentos",searchOptions:{allItems:n,searchKeys:["documentName","templateName","date"],setItems:t},children:h(Ig,{templates:e,labelsName:"del documento",deleteTemplate:a=>s(a)})})},_9=()=>h(w9,{});var Xp=(e=>(e.list="act-list",e.templates="act-templates",e))(Xp||{});const Cx=()=>A(Vi,{children:[h(fe,{index:!0,element:h(_9,{})}),A(fe,{path:"admin",element:h(c9,{}),children:[h(fe,{path:"act-list",element:h(v9,{})}),h(fe,{path:"act-templates",element:h(f9,{actType:rn.ACT_TEMPLATES,labelsName:"de la plantilla"})}),h(fe,{path:"*",element:h(Ja,{to:"act-list"})})]})]});function b9(e){return _e({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}}]})(e)}function S9(e){return _e({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 8h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2V7a6 6 0 1 1 12 0v1zm-2 0V7a4 4 0 1 0-8 0v1h8zm-5 6v2h2v-2h-2zm-4 0v2h2v-2H7zm8 0v2h2v-2h-2z"}}]}]})(e)}const Ix=()=>{const e=an(),t=_E();return{sendValidationEmail:async r=>{e(H(!0));try{return await t.sendRecoveryPasswordEmail(r),e(re({title:"Se envi\xF3 un correo electr\xF3nico para poder restablecer la contrase\xF1a",details:["Revise en su bandeja de entrada del correo o intente nuevamente"],type:"success"})),!0}catch(i){const s=[];return i instanceof Tn&&s.push(i.message),e(re({title:"No se pudo enviar el correo correctamente",details:s,type:"error"})),!1}finally{e(H(!1))}}}},Px=()=>{const{values:e,setFieldValue:t}=Js(),n=()=>{const{memberName:i,memberPhone:s,members:a}=e;t("memberName",""),t("memberPhone",""),t("members",[...a,{name:i,phone:s}])},r=i=>{const{members:s}=e;t("members",s.filter(a=>a.name!==i))};return A("div",{className:"flex flex-col text-gray-900",children:[h(pe,{htmlFor:"name",children:"Miembros de la residencia"}),A("div",{className:"bg-gray-50 rounded p-2",children:[A("div",{className:"flex w-full gap-2 justify-between",children:[A("div",{className:"flex gap-2 w-full",children:[h(qe,{className:"w-1/2",name:"memberName",placeholder:"Nombre Completo",type:"text"}),h(qe,{className:"w-1/2",name:"memberPhone",placeholder:"Tel\xE9fono",type:"number"})]}),h("div",{className:"flex gap-2",children:h("button",{type:"button",onClick:()=>n(),children:h(ZM,{size:20})})})]}),h("ul",{className:"ml-2 mt-2",children:e.members.map(i=>h("li",{className:"border-t",children:A("div",{className:"flex justify-between",children:[A("div",{className:"flex flex-col",children:[i.name,h("small",{children:i.phone})]}),h("button",{onClick:()=>r(i.name),type:"button",children:h(e9,{size:20})})]})},i.name+i.phone))})]})]})},cr=({formik:e=!1,className:t="",allowUndefined:n=!0,...r})=>{let i="border rounded bg-white px-2 py-1 h-8 outline-none";return t&&(i=`${i} ${t}`),e?A(Nr,{...r,as:"select",className:i,children:[n&&h("option",{value:void 0,children:"---- Seleccione ----"}),r.children]}):A("select",{...r,className:i,children:[n&&h("option",{value:void 0,children:"---- Seleccione ----"}),r.children]})};function E9(e){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 90c44.3 0 86 17.3 117.4 48.6C404.7 170 422 211.7 422 256s-17.3 86-48.6 117.4C342 404.7 300.3 422 256 422s-86-17.3-117.4-48.6C107.3 342 90 300.3 90 256s17.3-86 48.6-117.4C170 107.3 211.7 90 256 90m0-42C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"}},{tag:"path",attr:{d:"M363 277H149v-42h214v42z"}}]})(e)}var Jp={exports:{}};(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,s=2,a=9007199254740991,o="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",g="[object GeneratorFunction]",y="[object Map]",b="[object Number]",m="[object Null]",v="[object Object]",w="[object Promise]",E="[object Proxy]",N="[object RegExp]",S="[object Set]",P="[object String]",_="[object Symbol]",x="[object Undefined]",O="[object WeakMap]",k="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",F="[object Float64Array]",V="[object Int8Array]",I="[object Int16Array]",T="[object Int32Array]",U="[object Uint8Array]",D="[object Uint8ClampedArray]",B="[object Uint16Array]",Q="[object Uint32Array]",q=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,z={};z[L]=z[F]=z[V]=z[I]=z[T]=z[U]=z[D]=z[B]=z[Q]=!0,z[o]=z[l]=z[k]=z[c]=z[R]=z[f]=z[d]=z[p]=z[y]=z[b]=z[v]=z[N]=z[S]=z[P]=z[O]=!1;var se=typeof xi=="object"&&xi&&xi.Object===Object&&xi,ye=typeof self=="object"&&self&&self.Object===Object&&self,de=se||ye||Function("return this")(),he=t&&!t.nodeType&&t,be=he&&!0&&e&&!e.nodeType&&e,Oe=be&&be.exports===he,De=Oe&&se.process,Nn=function(){try{return De&&De.binding&&De.binding("util")}catch{}}(),Dt=Nn&&Nn.isTypedArray;function ke(C,M){for(var W=-1,te=C==null?0:C.length,Me=0,ce=[];++W<te;){var Je=C[W];M(Je,W,C)&&(ce[Me++]=Je)}return ce}function it(C,M){for(var W=-1,te=M.length,Me=C.length;++W<te;)C[Me+W]=M[W];return C}function Se(C,M){for(var W=-1,te=C==null?0:C.length;++W<te;)if(M(C[W],W,C))return!0;return!1}function Ee(C,M){for(var W=-1,te=Array(C);++W<C;)te[W]=M(W);return te}function tt(C){return function(M){return C(M)}}function j(C,M){return C.has(M)}function Y(C,M){return C==null?void 0:C[M]}function Z(C){var M=-1,W=Array(C.size);return C.forEach(function(te,Me){W[++M]=[Me,te]}),W}function J(C,M){return function(W){return C(M(W))}}function ee(C){var M=-1,W=Array(C.size);return C.forEach(function(te){W[++M]=te}),W}var le=Array.prototype,xe=Function.prototype,at=Object.prototype,Ve=de["__core-js_shared__"],Gt=xe.toString,Pe=at.hasOwnProperty,Mt=function(){var C=/[^.]+$/.exec(Ve&&Ve.keys&&Ve.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),ft=at.toString,un=RegExp("^"+Gt.call(Pe).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cn=Oe?de.Buffer:void 0,kn=de.Symbol,ta=de.Uint8Array,iu=at.propertyIsEnumerable,mo=le.splice,pr=kn?kn.toStringTag:void 0,oi=Object.getOwnPropertySymbols,xf=cn?cn.isBuffer:void 0,mr=J(Object.keys,Object),Rn=ra(de,"DataView"),$n=ra(de,"Map"),Fr=ra(de,"Promise"),na=ra(de,"Set"),Yn=ra(de,"WeakMap"),dn=ra(Object,"create"),qA=ns(Rn),GA=ns($n),KA=ns(Fr),YA=ns(na),QA=ns(Yn),qg=kn?kn.prototype:void 0,Af=qg?qg.valueOf:void 0;function es(C){var M=-1,W=C==null?0:C.length;for(this.clear();++M<W;){var te=C[M];this.set(te[0],te[1])}}function XA(){this.__data__=dn?dn(null):{},this.size=0}function JA(C){var M=this.has(C)&&delete this.__data__[C];return this.size-=M?1:0,M}function ZA(C){var M=this.__data__;if(dn){var W=M[C];return W===r?void 0:W}return Pe.call(M,C)?M[C]:void 0}function e3(C){var M=this.__data__;return dn?M[C]!==void 0:Pe.call(M,C)}function t3(C,M){var W=this.__data__;return this.size+=this.has(C)?0:1,W[C]=dn&&M===void 0?r:M,this}es.prototype.clear=XA,es.prototype.delete=JA,es.prototype.get=ZA,es.prototype.has=e3,es.prototype.set=t3;function Dr(C){var M=-1,W=C==null?0:C.length;for(this.clear();++M<W;){var te=C[M];this.set(te[0],te[1])}}function n3(){this.__data__=[],this.size=0}function r3(C){var M=this.__data__,W=au(M,C);if(W<0)return!1;var te=M.length-1;return W==te?M.pop():mo.call(M,W,1),--this.size,!0}function i3(C){var M=this.__data__,W=au(M,C);return W<0?void 0:M[W][1]}function s3(C){return au(this.__data__,C)>-1}function a3(C,M){var W=this.__data__,te=au(W,C);return te<0?(++this.size,W.push([C,M])):W[te][1]=M,this}Dr.prototype.clear=n3,Dr.prototype.delete=r3,Dr.prototype.get=i3,Dr.prototype.has=s3,Dr.prototype.set=a3;function ts(C){var M=-1,W=C==null?0:C.length;for(this.clear();++M<W;){var te=C[M];this.set(te[0],te[1])}}function o3(){this.size=0,this.__data__={hash:new es,map:new($n||Dr),string:new es}}function l3(C){var M=ou(this,C).delete(C);return this.size-=M?1:0,M}function u3(C){return ou(this,C).get(C)}function c3(C){return ou(this,C).has(C)}function d3(C,M){var W=ou(this,C),te=W.size;return W.set(C,M),this.size+=W.size==te?0:1,this}ts.prototype.clear=o3,ts.prototype.delete=l3,ts.prototype.get=u3,ts.prototype.has=c3,ts.prototype.set=d3;function su(C){var M=-1,W=C==null?0:C.length;for(this.__data__=new ts;++M<W;)this.add(C[M])}function f3(C){return this.__data__.set(C,r),this}function h3(C){return this.__data__.has(C)}su.prototype.add=su.prototype.push=f3,su.prototype.has=h3;function li(C){var M=this.__data__=new Dr(C);this.size=M.size}function p3(){this.__data__=new Dr,this.size=0}function m3(C){var M=this.__data__,W=M.delete(C);return this.size=M.size,W}function g3(C){return this.__data__.get(C)}function y3(C){return this.__data__.has(C)}function v3(C,M){var W=this.__data__;if(W instanceof Dr){var te=W.__data__;if(!$n||te.length<n-1)return te.push([C,M]),this.size=++W.size,this;W=this.__data__=new ts(te)}return W.set(C,M),this.size=W.size,this}li.prototype.clear=p3,li.prototype.delete=m3,li.prototype.get=g3,li.prototype.has=y3,li.prototype.set=v3;function w3(C,M){var W=lu(C),te=!W&&$3(C),Me=!W&&!te&&Tf(C),ce=!W&&!te&&!Me&&ty(C),Je=W||te||Me||ce,ht=Je?Ee(C.length,String):[],wt=ht.length;for(var Ge in C)(M||Pe.call(C,Ge))&&!(Je&&(Ge=="length"||Me&&(Ge=="offset"||Ge=="parent")||ce&&(Ge=="buffer"||Ge=="byteLength"||Ge=="byteOffset")||P3(Ge,wt)))&&ht.push(Ge);return ht}function au(C,M){for(var W=C.length;W--;)if(Xg(C[W][0],M))return W;return-1}function _3(C,M,W){var te=M(C);return lu(C)?te:it(te,W(C))}function go(C){return C==null?C===void 0?x:m:pr&&pr in Object(C)?C3(C):R3(C)}function Gg(C){return yo(C)&&go(C)==o}function Kg(C,M,W,te,Me){return C===M?!0:C==null||M==null||!yo(C)&&!yo(M)?C!==C&&M!==M:b3(C,M,W,te,Kg,Me)}function b3(C,M,W,te,Me,ce){var Je=lu(C),ht=lu(M),wt=Je?l:ui(C),Ge=ht?l:ui(M);wt=wt==o?v:wt,Ge=Ge==o?v:Ge;var fn=wt==v,Qn=Ge==v,Ct=wt==Ge;if(Ct&&Tf(C)){if(!Tf(M))return!1;Je=!0,fn=!1}if(Ct&&!fn)return ce||(ce=new li),Je||ty(C)?Yg(C,M,W,te,Me,ce):A3(C,M,wt,W,te,Me,ce);if(!(W&i)){var Fn=fn&&Pe.call(C,"__wrapped__"),Dn=Qn&&Pe.call(M,"__wrapped__");if(Fn||Dn){var ci=Fn?C.value():C,Mr=Dn?M.value():M;return ce||(ce=new li),Me(ci,Mr,W,te,ce)}}return Ct?(ce||(ce=new li),T3(C,M,W,te,Me,ce)):!1}function S3(C){if(!ey(C)||N3(C))return!1;var M=Jg(C)?un:X;return M.test(ns(C))}function E3(C){return yo(C)&&Zg(C.length)&&!!z[go(C)]}function x3(C){if(!k3(C))return mr(C);var M=[];for(var W in Object(C))Pe.call(C,W)&&W!="constructor"&&M.push(W);return M}function Yg(C,M,W,te,Me,ce){var Je=W&i,ht=C.length,wt=M.length;if(ht!=wt&&!(Je&&wt>ht))return!1;var Ge=ce.get(C);if(Ge&&ce.get(M))return Ge==M;var fn=-1,Qn=!0,Ct=W&s?new su:void 0;for(ce.set(C,M),ce.set(M,C);++fn<ht;){var Fn=C[fn],Dn=M[fn];if(te)var ci=Je?te(Dn,Fn,fn,M,C,ce):te(Fn,Dn,fn,C,M,ce);if(ci!==void 0){if(ci)continue;Qn=!1;break}if(Ct){if(!Se(M,function(Mr,rs){if(!j(Ct,rs)&&(Fn===Mr||Me(Fn,Mr,W,te,ce)))return Ct.push(rs)})){Qn=!1;break}}else if(!(Fn===Dn||Me(Fn,Dn,W,te,ce))){Qn=!1;break}}return ce.delete(C),ce.delete(M),Qn}function A3(C,M,W,te,Me,ce,Je){switch(W){case R:if(C.byteLength!=M.byteLength||C.byteOffset!=M.byteOffset)return!1;C=C.buffer,M=M.buffer;case k:return!(C.byteLength!=M.byteLength||!ce(new ta(C),new ta(M)));case c:case f:case b:return Xg(+C,+M);case d:return C.name==M.name&&C.message==M.message;case N:case P:return C==M+"";case y:var ht=Z;case S:var wt=te&i;if(ht||(ht=ee),C.size!=M.size&&!wt)return!1;var Ge=Je.get(C);if(Ge)return Ge==M;te|=s,Je.set(C,M);var fn=Yg(ht(C),ht(M),te,Me,ce,Je);return Je.delete(C),fn;case _:if(Af)return Af.call(C)==Af.call(M)}return!1}function T3(C,M,W,te,Me,ce){var Je=W&i,ht=Qg(C),wt=ht.length,Ge=Qg(M),fn=Ge.length;if(wt!=fn&&!Je)return!1;for(var Qn=wt;Qn--;){var Ct=ht[Qn];if(!(Je?Ct in M:Pe.call(M,Ct)))return!1}var Fn=ce.get(C);if(Fn&&ce.get(M))return Fn==M;var Dn=!0;ce.set(C,M),ce.set(M,C);for(var ci=Je;++Qn<wt;){Ct=ht[Qn];var Mr=C[Ct],rs=M[Ct];if(te)var ny=Je?te(rs,Mr,Ct,M,C,ce):te(Mr,rs,Ct,C,M,ce);if(!(ny===void 0?Mr===rs||Me(Mr,rs,W,te,ce):ny)){Dn=!1;break}ci||(ci=Ct=="constructor")}if(Dn&&!ci){var uu=C.constructor,cu=M.constructor;uu!=cu&&"constructor"in C&&"constructor"in M&&!(typeof uu=="function"&&uu instanceof uu&&typeof cu=="function"&&cu instanceof cu)&&(Dn=!1)}return ce.delete(C),ce.delete(M),Dn}function Qg(C){return _3(C,M3,I3)}function ou(C,M){var W=C.__data__;return O3(M)?W[typeof M=="string"?"string":"hash"]:W.map}function ra(C,M){var W=Y(C,M);return S3(W)?W:void 0}function C3(C){var M=Pe.call(C,pr),W=C[pr];try{C[pr]=void 0;var te=!0}catch{}var Me=ft.call(C);return te&&(M?C[pr]=W:delete C[pr]),Me}var I3=oi?function(C){return C==null?[]:(C=Object(C),ke(oi(C),function(M){return iu.call(C,M)}))}:L3,ui=go;(Rn&&ui(new Rn(new ArrayBuffer(1)))!=R||$n&&ui(new $n)!=y||Fr&&ui(Fr.resolve())!=w||na&&ui(new na)!=S||Yn&&ui(new Yn)!=O)&&(ui=function(C){var M=go(C),W=M==v?C.constructor:void 0,te=W?ns(W):"";if(te)switch(te){case qA:return R;case GA:return y;case KA:return w;case YA:return S;case QA:return O}return M});function P3(C,M){return M=M==null?a:M,!!M&&(typeof C=="number"||G.test(C))&&C>-1&&C%1==0&&C<M}function O3(C){var M=typeof C;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?C!=="__proto__":C===null}function N3(C){return!!Mt&&Mt in C}function k3(C){var M=C&&C.constructor,W=typeof M=="function"&&M.prototype||at;return C===W}function R3(C){return ft.call(C)}function ns(C){if(C!=null){try{return Gt.call(C)}catch{}try{return C+""}catch{}}return""}function Xg(C,M){return C===M||C!==C&&M!==M}var $3=Gg(function(){return arguments}())?Gg:function(C){return yo(C)&&Pe.call(C,"callee")&&!iu.call(C,"callee")},lu=Array.isArray;function F3(C){return C!=null&&Zg(C.length)&&!Jg(C)}var Tf=xf||U3;function D3(C,M){return Kg(C,M)}function Jg(C){if(!ey(C))return!1;var M=go(C);return M==p||M==g||M==u||M==E}function Zg(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=a}function ey(C){var M=typeof C;return C!=null&&(M=="object"||M=="function")}function yo(C){return C!=null&&typeof C=="object"}var ty=Dt?tt(Dt):E3;function M3(C){return F3(C)?w3(C):x3(C)}function L3(){return[]}function U3(){return!1}e.exports=D3})(Jp,Jp.exports);const x9=Jp.exports;var nc=(e=>(e.HOUSE="house",e.APARTMENT="apartment",e))(nc||{});const Ox={cat:"Gato",dog:"Perro",other:"Otro"},Nx=()=>{const{values:e,setFieldValue:t}=Js(),n=()=>{const i={description:e.petDescription,quantity:e.petQuantity,type:e.petType};t("pets",[...e.pets,i]),t("petDescription",""),t("petQuantity","1"),t("petType","cat")},r=i=>{t("pets",e.pets.filter(s=>!x9(s,i)))};return h("div",{className:"bg-gray-50 rounded p-2 overflow-auto",children:A("table",{className:"w-full",children:[h("thead",{className:"border-b",children:A("tr",{children:[h("th",{children:"Tipo de mascota*"}),h("th",{children:"Descripci\xF3n"}),h("th",{children:"Cantidad*"}),h("th",{className:"w-8"})]})}),A("tbody",{children:[e.pets.map((i,s)=>A("tr",{className:"border-b",children:[h("td",{className:"text-center",children:Ox[i.type]}),h("td",{className:"text-center",children:i.description||"No aplica"}),h("td",{className:"text-center",children:i.quantity}),h("td",{className:"w-8",children:h("button",{type:"button",onClick:()=>r(i),children:h(E9,{size:20})})})]},`${i.type}${i.description}${i.quantity}${s}`)),A("tr",{children:[h("td",{className:"text-center",children:A(cr,{className:"w-52",formik:!0,allowUndefined:!1,name:"petType",children:[h("option",{value:"cat",children:"Gato"}),h("option",{value:"dog",children:"Perro"}),h("option",{value:"other",children:"Otro"})]})}),h("td",{className:"text-center",children:h(Nr,{className:"h-8 border rounded px-2",as:"textarea",placeholder:"Descripci\xF3n",name:"petDescription"})}),h("td",{className:"text-center",children:h(qe,{className:"w-36",name:"petQuantity",placeholder:"Cantidad",type:"number"})}),h("td",{className:"w-8",children:h("button",{type:"button",onClick:()=>n(),children:h(JM,{size:20})})})]})]})]})})},A9=({title:e,text:t})=>A("div",{className:"flex items-center w-full p-4 shadow text-sm border border-yellow-400 text-yellow-800 rounded-lg bg-yellow-50",role:"alert",children:[h("svg",{className:"flex-shrink-0 inline w-4 h-4 mr-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:h("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),h("span",{className:"sr-only",children:"Info"}),A("div",{children:[h("span",{className:"font-medium",children:e})," ",t,"."]})]});function eu(){const e=Xi(),t=yE();return{addApartment:async l=>{e(H(!0));try{return await t.addApartment(l)}catch{e(re({title:"No se pudo crear la unidad residencial",details:["Intente m\xE1s tarde o contacte con soporte"],type:"error"}))}finally{e(H(!1))}},deleteApartment:async l=>{e(H(!0));try{return await t.deleteApartment(l),!0}catch(u){return console.error(u),e(re({type:"error",title:"Error al borrar la unidad residencial",details:["No se pudo eliminar la unidad residencial"]})),!1}finally{e(H(!1))}},updateApartment:async(l,u)=>{e(H(!0));try{return await t.updateApartment({...u,id:l}),e(re({title:"Se ha actualizado el perfil correctamente",details:[],type:"success"})),!0}catch{return e({type:"error",title:"Error al actualizar la unidad residencial",details:[`No se pudo actualizar la unidad residencial ${u.apartmentNumber} del bloque ${u.tower}`]}),!1}finally{e(H(!1))}},getApartments:async()=>{e(H(!0));try{return await t.getApartmentsWithOwners()}catch{return e({type:"error",title:"Error al obtener las unidades residenciales",details:["No se pudieron obtener las unidades residenciales"]}),[]}finally{e(H(!1))}},getAvailableApartments:async()=>{e(H(!0));try{return await t.getAvailableApartments()}catch{return e(re({type:"error",title:"Error al obtener las unidades residenciales",details:["No se pudieron obtener las unidades residenciales"]})),[]}finally{e(H(!1))}},getApartmentByOwner:async l=>{e(H(!0));try{return await t.getApartmentByOwner(l)}catch{return e(re({title:"No se pudo obtener el apartamento",details:[Ye.TRY_LATER],type:"error"})),null}finally{e(H(!1))}}}}const T9=()=>{var f,d,p,g,y,b,m,v;const[e,t]=$.exports.useState(null),n=ii(w=>w.authState),{isOpen:r,openModal:i,closeModal:s}=Ht(),a=Ix(),o=eu();$.exports.useEffect(()=>{!n.uid||o.getApartmentByOwner(n.uid).then(w=>{t(w)})},[n.uid]);const l=({members:w,pets:E,licensePlate:N})=>{if(!e)return;const{apartment:S}=e;o.updateApartment(S.id,{...S,extraInfo:{...S.extraInfo,vehicle:{licensePlate:N},members:w,pets:E}})},u=()=>{i()},c=()=>{a.sendValidationEmail(e.owner.email)};return A(ge,{children:[r&&h(ln,{close:s,title:"Editar perfil",children:h(yx,{closeModal:s,authState:n})}),A(Zl,{className:"p-4 h-screen",children:[A("div",{className:"bg-white rounded p-4 h-50 shadow flex flex-col md:flex-row justify-between",children:[A("div",{className:"md:flex gap-3",children:[n.photoUrl&&h("img",{className:"rounded object-cover !h-40 w-40",src:n.photoUrl,width:150,alt:"profile_img"}),A("div",{children:[h(Og,{children:n.displayName}),A("ul",{className:"text-gray-600",children:[A("li",{children:[h("small",{className:"font-bold block",children:"Tel\xE9fono"}),e==null?void 0:e.owner.phoneNumber]}),A("li",{children:[h("small",{className:"font-bold block",children:"Email"}),n.email]}),A("li",{children:[h("small",{className:"font-bold block",children:"Unidad residencial"}),(f=e==null?void 0:e.apartment)==null?void 0:f.apartmentNumber," -"," ",(d=e==null?void 0:e.apartment)==null?void 0:d.tower]})]})]})]}),A("div",{className:"flex flex-col md:flex-row gap-2",children:[A(ie,{onClick:c,className:"gap-2",color:"primary",children:[h(S9,{}),"Cambiar contrase\xF1a"]}),A(ie,{onClick:u,className:"gap-2",color:"primary",children:[h(b9,{}),"Editar"]})]})]}),h(On,{enableReinitialize:!0,initialValues:{memberName:"",memberPhone:"",members:(g=(p=e==null?void 0:e.apartment.extraInfo)==null?void 0:p.members)!=null?g:[],petDescription:"",petQuantity:"1",petType:"cat",pets:(b=(y=e==null?void 0:e.apartment.extraInfo)==null?void 0:y.pets)!=null?b:[],licensePlate:(v=(m=e==null?void 0:e.apartment.extraInfo)==null?void 0:m.vehicle.licensePlate)!=null?v:""},onSubmit:l,children:h(on,{className:"h-[calc(100vh-15rem)]",children:A("div",{className:"bg-white mt-2 flex flex-col justify-between rounded h-[90%] shadow",children:[A("div",{className:"overflow-auto p-4",children:[A("div",{className:"w-full flex flex-col mb-2",children:[h(pe,{htmlFor:"licensePlate",children:"Licencia del veh\xEDculo"}),h(qe,{name:"licensePlate",placeholder:"Licencia de veh\xEDculo (Este campo es opcional y debe registrar la placa si tiene moto o carro)",type:"text"})]}),h(Px,{}),A("div",{className:"w-full",children:[h(pe,{htmlFor:"petType",children:"Mascotas"}),h(Nx,{})]})]}),A("div",{className:"flex bg-gray-50 flex-col gap-2 border-t shadow-md justify-between items-end h-min p-4",children:[h(A9,{title:"\xA1No olvide guardar los cambios!",text:"Antes de salir de esta p\xE1gina no olvide guardar los cambios"}),h(ie,{type:"submit",color:"primary",children:"Guardar"})]})]})})})]})]})},C9=()=>{const{authController:e}=uf();return h("section",{className:"flex flex-col gap-4 justify-center items-center bg-gray-100 w-full h-screen",children:A("div",{className:"bg-white w-[560px] text-center flex flex-col p-8 gap-2 rounded shadow",children:[A("h2",{className:"font-semibold text-2xl flex flex-col justify-center items-center mb-1",children:[h(t9,{className:"text-primary",size:50}),"Solicitud de acceso pendiente"]}),h("p",{className:"text-gray-500 font-light text-lg mb-4",children:"No se ha aprobado su solicitud de acceso al sitio web por favor intente m\xE1s tarde."}),h("div",{className:"flex justify-center gap-2",children:h(ie,{color:"primary",onClick:()=>{e.logOut()},children:"Cerrar sesi\xF3n"})})]})})},mf=()=>{const e=og(),t=an();return{deleteBooking:async s=>{t(H(!0));try{return await e.deleteBooking(s),!0}catch{return t(re({title:"No se pudo eliminar la reservaci\xF3n",details:[Ye.TRY_LATER],type:"error"})),!1}finally{t(H(!1))}},getBookingsByOwner:async()=>{t(H(!0));try{return await e.getBookingsByOwner()}catch{return t(re({title:"No se pudieron obtener las reservas",details:[Ye.TRY_LATER],type:"error"})),[]}finally{t(H(!1))}},getAllBookings:async()=>{t(H(!0));try{return await e.getBookings()}catch{return t(re({title:"No se pudieron obtener las reservas",details:[Ye.TRY_LATER],type:"error"})),[]}finally{t(H(!1))}}}},kx=({bookings:e,handleDeleteBooking:t})=>A(fr,{children:[A(dr,{children:[h("th",{scope:"col",children:"Espacio p\xFAblico"}),h("th",{scope:"col",children:"Fecha"}),h("th",{scope:"col",children:"Acciones"})]}),h("tbody",{children:e.map((n,r)=>A(Gn,{index:r,children:[h("th",{scope:"row",children:n.publicSpace.name}),h("td",{children:A("div",{className:"flex flex-col min-w-max",children:[n.date,h("span",{children:`Hora ${js[n.startHour]} - ${js[n.endHour]}`})]})}),h("td",{children:h("div",{children:h(ie,{onClick:()=>t(n),color:"primary",children:"Cancelar reserva"})})})]},n.id))})]}),Rx=({getBookings:e})=>{const[t,n]=$.exports.useState([]),[r,i]=$.exports.useState([]),s=mf();return $.exports.useEffect(()=>{e().then(o=>{i(o),n(o)})},[]),h(hr,{title:"Reservas",searchOptions:{allItems:r,searchKeys:["date","publicSpaceName"],setItems:n},children:h(kx,{bookings:t,handleDeleteBooking:o=>{s.deleteBooking(o).then(l=>{if(l){const u=t.filter(f=>f.id!==o.id),c=r.filter(f=>f.id!==o.id);n(u),i(c)}})}})})},I9=()=>{const e=mf();return h(Rx,{getBookings:e.getBookingsByOwner})},P9=()=>{const e=mf();return h(Rx,{getBookings:e.getAllBookings})},$x=()=>A(Vi,{children:[h(fe,{index:!0,element:h(I9,{})}),h(fe,{path:"admin",element:h(P9,{})})]}),Ng=({name:e,placeholder:t,rows:n,cols:r})=>{const[i,s]=OM(e);return h("textarea",{name:e,value:s.value,onChange:i.onChange,placeholder:t,className:"border p-2 rounded",rows:n,cols:r})},kg=()=>{const e=cg(),t=ug(),n=an();return{getOwnerRequest:async o=>await e.getOwnerRequest(o),getPublicSpaces:async()=>{n(H(!0));try{return await t.getPublicSpacesHours()}catch{return n(re({title:"No se pudieron obtener las zonas comunes disponibles",details:["Intente m\xE1s tarde o contacte con soporte"],type:"error"})),{publicWithHours:[],bookings:[]}}finally{n(H(!1))}},createPublicSpaceRequest:async o=>{n(H(!0));try{return await e.createPublicSpaceRequest(o),!0}catch(l){return console.error(l),l instanceof Tn?(n(re({title:"No se pudo crear la solicitud",details:["El d\xEDa seleccionado no cumple con el horario adecuado",l.message],type:"info"})),!1):(n(re({title:"No se pudo crear la solicitud",details:["intente m\xE1s tarde o contacte con soporte"],type:"error"})),!1)}finally{n(H(!1))}},createActRequest:async o=>{n(H(!0));try{return await e.createActRequest(o),!0}catch{return n(re({title:"No se pudo crear la solicitud",details:["intente m\xE1s tarde o contacte con soporte"],type:"error"})),!1}finally{n(H(!1))}}}},O9=({handleClose:e})=>{const t={date:hE(new Date),recordDetail:""},n=kg();return h(On,{initialValues:t,onSubmit:i=>{const s={date:i.date,recordDetail:i.recordDetail};n.createActRequest(s).then(a=>{a&&e(!0)})},children:A(on,{className:"flex flex-col gap-2",children:[A("div",{className:"flex flex-col text-gray-900",children:[h("label",{htmlFor:"date",className:"font-semibold p-1",children:"Fecha"}),h(Nr,{type:"date",id:"date",name:"date",className:"border bg-white px-2 py-1",placeholder:"Fecha"})]}),A("div",{className:"flex flex-col text-gray-900",children:[h("label",{htmlFor:"recordDetail",className:"font-semibold p-1",children:"Detalle del acta"}),h(Ng,{placeholder:"Detalle del acta (Ej. N\xFAmero de apartamento y torre a la cu\xE1l va a hacer uso)",name:"recordDetail",rows:3})]}),A("div",{className:"flex flex-row-reverse gap-3 pt-3",children:[h(ie,{type:"submit",color:"primary",children:"Enviar solicitud"}),h(ie,{color:"link",onClick:()=>e(),children:"Cerrar"})]})]})})},N9=({viewModel:e})=>{const[t,n]=$.exports.useState({relevantBookings:[],startHours:[],endHours:[],currentPublicSpace:null}),r=Js();return $.exports.useEffect(()=>{if(!r.values.publicSpaceId||!r.values.date)return;const{publicSpaceId:i,date:s}=r.values,a=e.bookings.filter(u=>u.publicSpace.id===i&&u.date===s),o=e.publicWithHours.find(u=>u.id===r.values.publicSpaceId),l=o.availableHours.startHours.filter(([u,c])=>!a.some(f=>c>=f.startHour&&c<f.endHour));r.setFieldValue("startHour",l[0][1]),n({...t,relevantBookings:a,startHours:l,currentPublicSpace:o})},[r.values.publicSpaceId,r.values.date]),$.exports.useEffect(()=>{if(!r.values.startHour||!t.currentPublicSpace)return;const i=t.currentPublicSpace.availableHours.endHours;r.setFieldValue("endHour",i[0][1]),n({...t,endHours:i})},[r.values.startHour]),A("div",{className:"flex gap-1 w-full",children:[A("div",{className:"w-1/2",children:[h(pe,{htmlFor:"startHour",children:"Hora de inicio"}),h(cr,{className:"w-full",formik:!0,allowUndefined:!1,name:"startHour",placeholder:"Hora",children:t.startHours.map(([i,s])=>h("option",{value:s,children:i},i))})]}),A("div",{className:"w-1/2",children:[h(pe,{htmlFor:"endHour",children:"Hora de finalizaci\xF3n"}),h(cr,{className:"w-full",formik:!0,allowUndefined:!1,name:"endHour",placeholder:"Hora",children:t.endHours.map(([i,s])=>h("option",{value:s,children:i},i))})]})]})},k9=({publicSpaces:e})=>{const t=Js();return $.exports.useEffect(()=>{var n;!((n=e[0])!=null&&n.id)||t.setFieldValue("publicSpaceId",e[0].id)},[e]),A("div",{className:"w-full",children:[h(pe,{htmlFor:"publicSpace",children:"Espacio p\xFAblico"}),h(cr,{formik:!0,allowUndefined:!1,name:"publicSpaceId",className:"w-full",children:e.map(n=>h("option",{value:n.id,children:n.name},n.id))})]})},R9=({handleClose:e})=>{const[t,n]=$.exports.useState({publicWithHours:[],bookings:[]}),r={date:hE(new Date),endHour:0,startHour:0,publicSpaceId:""},i=kg();return $.exports.useEffect(()=>{i.getPublicSpaces().then(a=>{n(a)})},[]),h(On,{initialValues:r,onSubmit:a=>{const o={date:a.date,endHour:a.endHour,startHour:a.startHour,space:t.publicWithHours.find(l=>l.id===a.publicSpaceId)};i.createPublicSpaceRequest(o).then(l=>{l&&e(!0)})},children:A(on,{className:"mt-2",children:[h(k9,{publicSpaces:t.publicWithHours}),A("div",{children:[h(pe,{htmlFor:"date",children:"Fecha para reserva"}),h(qe,{type:"date",className:"w-full",placeholder:"Fecha",name:"date"})]}),h(N9,{viewModel:t}),A("div",{className:"flex flex-row-reverse gap-3 pt-3",children:[h(ie,{type:"submit",color:"primary",children:"Crear solicitud"}),h(ie,{color:"link",onClick:()=>e(),children:"Cerrar"})]})]})})},$9=({closeModal:e})=>{const[t,n]=$.exports.useState(1);return A(ge,{children:[A("div",{className:"flex flex-col w-full",children:[h(pe,{htmlFor:"type",children:"Tipo de solicitud"}),A(cr,{allowUndefined:!1,id:"type",onChange:r=>n(Number(r.currentTarget.value)),value:t,children:[h("option",{value:gn.ACT,children:Ha[gn.ACT]}),h("option",{value:gn.PUBLIC_SPACE,children:Ha[gn.PUBLIC_SPACE]})]})]}),t===gn.ACT?h(O9,{handleClose:e}):h(R9,{handleClose:e})]})},Fx=({currentState:e})=>e===Jt.PENDING?h("div",{className:"font-bold text-primary",children:"Pendiente"}):e===Jt.ACCEPTED?h("div",{className:"font-bold",children:"Aceptado"}):h("div",{className:"font-bold",children:"Rechazado"}),F9=({requests:e,cancelRequest:t})=>A(fr,{children:[A(dr,{children:[h("th",{scope:"col",children:"Tipo"}),h("th",{scope:"col",children:"Descripci\xF3n"}),h("th",{scope:"col",children:"Fecha"}),h("th",{scope:"col",children:"Acci\xF3n"})]}),h("tbody",{children:e.map((n,r)=>A(Gn,{index:r,children:[A("th",{scope:"row",className:"font-medium text-gray-900 whitespace-nowrap",children:[Ha[n.type],h(Fx,{currentState:n.approved})]}),h("td",{children:n.description}),h("td",{children:A("ul",{children:[A("li",{children:["Solicitud del ",n.dateDetail.date]}),n.dateDetail.startHour&&A("li",{children:["Hora de inicio"," ",js[n.dateDetail.startHour]]}),n.dateDetail.endHour&&A("li",{children:["Hora de finalizaci\xF3n"," ",js[n.dateDetail.endHour]]})]})}),h("td",{className:"flex gap-2",children:n.approved===Jt.PENDING?h(ie,{color:"primary",onClick:()=>t(n),children:"Cancelar solicitud"}):h("p",{children:"Su solicitud ya fue procesada"})})]},n.id))})]}),gf=()=>{const e=cg(),t=an();return{getAdminRequest:async()=>{t(H(!0));try{return await e.getAdminRequest()}catch(l){return console.error(l),t(re({title:"Error al consultar las solicitudes del administrador",type:"error",details:["Error en la base de datos contacte con su administrador o intente m\xE1s tarde"]})),[]}finally{t(H(!1))}},changeRequestState:async(l,u)=>{t(H(!0));try{await e.changeRequestState(l,u)}catch(c){console.error(c),t(re({details:[`No se pudo actualizar el estado de ${Ha[u.type]} de ${u.user.displayName}`],title:"Error al actualizar el estado",type:"error"}))}finally{t(H(!1))}},deleteRequest:async l=>{t(H(!0));try{return await e.deleteRequest(l.id),t(re({title:"Solicitud cancelada exitosamente",details:[`La solicitud ${l.description} se cancelo correctamente`],type:"success"})),!0}catch(u){return console.error(u),t(re({title:"Error al borrar la solicitud",details:[`Error al eliminar la solicitud del usuario ${l.user.displayName}`],type:"error"})),!1}finally{t(H(!1))}},acceptPublicSpaceRequest:async l=>{t(H(!0));try{return await e.acceptPublicSpaceRequest(l),!0}catch(u){return u instanceof Tn?(t(re({title:"No se pudo aceptar correctamente la solicitud",details:["La zona com\xFAn no se alquila para el d\xEDa seleccionado",u.message],type:"error"})),!1):(t(re({title:"No se pudo aceptar correctamente la solicitud",details:["Intente m\xE1s tarde o contacte con soporte"],type:"error"})),!1)}finally{t(H(!1))}},acceptAccessRequest:async(l,u)=>{t(H(!0));try{return await e.acceptAccessRequest(u,l),!0}catch{return t(re({title:`No se pudo vincular la unidad residencial al usuario ${u.user.displayName}`,details:["Por favor intente mas tarde o contacte con soporte"],type:"error"})),!1}finally{t(H(!1))}},acceptActRequest:async(l,u)=>{t(H(!0));try{return await e.acceptActRequest(l,u),!0}catch(c){return c instanceof Tn?(t(re({title:"No se pudo aceptar correctamente la solicitud",details:["La acta solicitada no pudo ser entregada",c.message],type:"error"})),!1):(t(re({title:"No se pudo aceptar correctamente la solicitud",details:["Intente m\xE1s tarde o contacte con soporte"],type:"error"})),!1)}finally{t(H(!1))}}}},D9=()=>{const{closeModal:e,openModal:t,isOpen:n}=Ht(),[r,i]=$.exports.useState([]),[s,a]=$.exports.useState([]),o=gf(),l=kg(),u=sn(p=>p.authState);$.exports.useEffect(()=>{c()},[]);const c=()=>{l.getOwnerRequest(u.uid).then(p=>{i(p),a(p)})},f=p=>{p&&c(),e()},d=p=>{o.deleteRequest(p).then(g=>{g&&c()})};return A(ge,{children:[n&&h(ln,{close:e,title:"Crear solicitud",children:h($9,{closeModal:f})}),h(hr,{title:"Solicitudes",actionName:"Crear solicitud",action:t,searchOptions:{allItems:s,searchKeys:["description"],setItems:i},children:h(F9,{requests:r,cancelRequest:p=>d(p)})})]})},M9=()=>h(D9,{});var ti=(e=>(e[e.PAID=1]="PAID",e[e.PENDING=2]="PENDING",e))(ti||{});const Zp={[1]:"Pag\xF3",[2]:"Pendiente"};class Zo{static parseRelevantPaymentOperations(t,n,r){const{selected:i,noSelected:s}=Zo.sortSelectedOwnerIds(t),{deleteCompletely:a,updatePayments:o}=Zo.checkDeleteCompletelyOrJustPayment(s,n,r),{addPayments:l,updatePayments:u}=Zo.checkToAddRegisterOrUpdateExisting(i,n,r);return{toDeleteIds:a,toAdd:l,toUpdate:[...o,...u]}}static sortSelectedOwnerIds(t){return t.reduce((n,r)=>{const i=r.selected?"selected":"noSelected";return{...n,[i]:[...n[i],r.ownerId]}},{selected:[],noSelected:[]})}static checkDeleteCompletelyOrJustPayment(t,n,r){const i=[],s=[];return t.forEach(a=>{const o=n.find(c=>c.ownerId===a);if(!o)return;const l=o.payments.filter(c=>c.paymentId!==r.id);if(l.length===0){i.push(o);return}const u={...o,payments:l};s.push(u)}),{deleteCompletely:i,updatePayments:s}}static checkToAddRegisterOrUpdateExisting(t,n,r){const i=[],s=[];return t.forEach(a=>{const o=n.find(u=>u.ownerId===a);if(!o){i.push({ownerId:a,payments:[{paymentId:r.id,state:ti.PENDING}]});return}if(o.payments.some(u=>u.paymentId===r.id))return;const l={...o,payments:[...o.payments,{paymentId:r.id,state:ti.PENDING}]};s.push(l)}),{addPayments:i,updatePayments:s}}}const Dx=()=>{const e=Rr(rn.PAYMENT);return{getAllPayments:async()=>await e.getAllFirestore(),deletePayment:async o=>await e.deleteFirestore(o),createPayment:async o=>await e.addFirestore(o),updatePayment:async o=>await e.updateFirestore(o.id,o),getPaymentById:async o=>await e.getById(o),getPaymentsByIds:o=>e.getAllFirestore([ut(q0(),"in",o)])}},L9=()=>{const e=lf(),t=vE(),n=Dx(),r=oo(),i=async f=>{try{const d=await t.getOwnersByPayment(f),p=d.map(y=>y.ownerId),g=await r.getOwnersWithIds(p);return d.map(y=>{const b=g.find(v=>v.id===y.ownerId),m=y.payments.find(v=>v.paymentId===f);return{id:y.id,owner:b,payment:m}})}catch(d){throw d instanceof Rt&&d.message==="Invalid Query. A non-empty array is required for 'in' filters."?new Tn("No hay usuarios vinculados a este servicio"):d}},s=async(f,d)=>{const p=await t.getAllOwnersPayment(),g=Zo.parseRelevantPaymentOperations(f,p,d);await t.bulkOperations(g);const y=await r.getActiveOwners(),b=Object.values(g).flat().map(m=>y.find(v=>m.ownerId===v.id).email);e.sendBulkEmails(b,{subject:"Actualizaci\xF3n de estado FlexTo",body:`<p>Se acaba de actualizar su estado en el servicio <b>${d.description}</b> entre a la app para revisar su estado actual, en la pesta\xF1a de <b>servicios</b>. </p>`})},a=async(f,d,p)=>{await t.updateOwnerPaymentState(p);const g=await r.getOwnerById(p.ownerId);e.sendEmail({email:g.email,subject:"Actualizaci\xF3n de estado FlexTo",body:`<p>Se acaba de actualizar su estado a <b>${d===ti.PAID?"Pag\xF3":"Pendiente"}</b> en el servicio <b>${f.description}</b> entre a la app para verificar su estado actual.</p>`})},o=async f=>await t.getPaymentByOwner(f),l=async f=>(await t.getAllOwnersPayment()).filter(p=>p.payments.some(g=>g.paymentId===f));return{getOwnersByPayment:i,attachOwnerPayment:s,updateOwnerState:a,getOwnerPaymentByOwnerId:o,resetUserStates:async f=>{const p=(await l(f)).map(g=>({...g,payments:g.payments.map(y=>y.paymentId===f?{...y,state:ti.PENDING}:y)}));await t.updateBulkStates(p)},getOwnerWithPayments:async f=>{const d=await r.getOwnerByUid(f),p=await o(d.id),g=p.payments.map(m=>m.paymentId),b=(await n.getPaymentsByIds(g)).map(m=>({...m,price:String(m.price),state:Zp[p.payments.find(v=>v.paymentId===m.id).state]}));return{...d,payments:b}}}},em=()=>{const e=an(),t=L9();return{attachOwnerPayment:async(o,l)=>{e(H(!0));try{return await t.attachOwnerPayment(o,l),!0}catch(u){return console.error(u),e(re({title:"No se pudo vincular el servicio al usuario",details:[Ye.TRY_LATER],type:"error"})),!1}finally{e(H(!1))}},getAllOwnersByPaymentId:async o=>{e(H(!0));try{return(await t.getOwnersByPayment(o)).map(c=>({...c.owner,...c.payment,id:c.id,ownerId:c.owner.id}))}catch(l){return l instanceof Tn?(e(re({title:l.message,details:["Puede vincular nuevos usuarios en el bot\xF3n de arriba"],type:"warning"})),[]):(console.error(l),e(re({title:"No se pudieron obtener los propietarios",details:[Ye.TRY_LATER],type:"error"})),[])}finally{e(H(!1))}},updateOwnerState:async(o,l,u)=>{e(H(!0));try{const c=await t.getOwnerPaymentByOwnerId(o.ownerId);return await t.updateOwnerState(l,u,{...c,payments:c.payments.map(f=>f.paymentId===l.id?{...f,state:u}:f)}),e(re({title:"Se actualiz\xF3 correctamente el estado",details:[`Se actualiz\xF3 el estado de ${o.displayName} correctamente`],type:"success"})),!0}catch{return e(re({title:"No se pudo cambiar el estado del usuario",details:[Ye.TRY_LATER],type:"error"})),!1}finally{e(H(!1))}},resetUserStates:async o=>{e(H(!0));try{return await t.resetUserStates(o),!0}catch{return e(re({title:"No se pudieron restablecer los estados de los usuarios",details:[Ye.TRY_LATER],type:"error"})),!1}finally{e(H(!1))}},getPaymentOwnerByOwnerId:async o=>{e(H(!0));try{return await t.getOwnerWithPayments(o)}catch(l){return console.error(l),e(re({title:"No se pudieron obtener los servicios",details:[Ye.TRY_LATER],type:"error"})),null}finally{e(H(!1))}}}},U9=Intl.NumberFormat("es-CO");function Rg(e){return`$${U9.format(e)}`}const B9=()=>{const[e,t]=$.exports.useState(!1),[n,r]=$.exports.useState([]),[i,s]=$.exports.useState([]),a=em(),{uid:o}=ii(l=>l.authState);return $.exports.useEffect(()=>{a.getPaymentOwnerByOwnerId(o).then(l=>{if(l){r(l.payments),s(l.payments);return}t(!0)})},[]),h(hr,{title:"Servicios",searchOptions:{allItems:i,searchKeys:["description","price","state"],setItems:r},children:A(fr,{children:[A(dr,{children:[h("th",{children:"Descripci\xF3n"}),h("th",{children:"Precio"}),h("th",{children:"Estado"})]}),A("tbody",{children:[n&&n.length!==0&&n.map((l,u)=>A(Gn,{index:u,children:[h("td",{children:l.description}),h("td",{children:Rg(+l.price)}),h("td",{className:l.state===Zp[ti.PAID]?"text-green-600 font-bold":"text-yellow-500 font-bold",children:A("div",{className:"flex items-center gap-1",children:[l.state===Zp[ti.PAID]?h(KM,{size:20}):h(GM,{size:20}),l.state]})})]},l.id)),e&&h(Gn,{index:0,children:h("td",{className:"font-bold",colSpan:3,children:"No se encontraron servicios"})})]})]})})},j9=({data:e,closeModal:t})=>{var o,l;const n={tower:(e==null?void 0:e.tower)||"",apartmentNumber:(e==null?void 0:e.apartmentNumber)||"",licensePlate:(e==null?void 0:e.extraInfo.vehicle.licensePlate)||"",memberName:"",memberPhone:"",members:((o=e==null?void 0:e.extraInfo)==null?void 0:o.members)||[],petType:"cat",petDescription:"",petQuantity:1,pets:((l=e==null?void 0:e.extraInfo)==null?void 0:l.pets)||[],type:nc.APARTMENT},r=eu(),i=u=>{const c={apartmentNumber:u.apartmentNumber,tower:u.tower,owner:(e==null?void 0:e.owner)||"",extraInfo:{members:u.members,pets:u.pets,type:u.type,vehicle:{licensePlate:u.licensePlate}}};if(e){s(c);return}a(c)},s=u=>{r.updateApartment(e==null?void 0:e.id,u).then(()=>{t(!0)})},a=u=>{r.addApartment(u).then(()=>{t(!0)})};return h(On,{initialValues:n,onSubmit:i,children:A(on,{className:"flex flex-col gap-2",children:[A("div",{className:"flex gap-2 w-full",children:[A("div",{className:"flex flex-col text-gray-900 w-1/2",children:[h(pe,{htmlFor:"tower",required:!0,children:"Bloque"}),h(qe,{name:"tower",className:"border bg-white px-2 py-1",placeholder:"Bloque",type:"text"})]}),A("div",{className:"flex flex-col text-gray-900 w-1/2",children:[h(pe,{htmlFor:"apartmentNumber",required:!0,children:"N\xFAmero de unidad residencial"}),h(qe,{name:"apartmentNumber",className:"border bg-white px-2 py-1",placeholder:"N\xFAmero de unidad residencial",type:"text"})]})]}),A("div",{className:"flex gap-2 w-full",children:[A("div",{className:"flex flex-col text-gray-900 w-1/2",children:[h(pe,{htmlFor:"type",required:!0,children:"Tipo de unidad residencial"}),A(cr,{formik:!0,allowUndefined:!1,name:"type",children:[h("option",{value:nc.APARTMENT,children:"Apartamento"}),h("option",{value:nc.HOUSE,children:"Casa"})]})]}),A("div",{className:"flex flex-col text-gray-900 w-1/2",children:[h(pe,{htmlFor:"licensePlate",children:"Placa del veh\xEDculo"}),h(qe,{type:"text",name:"licensePlate",className:"border bg-white px-2 py-1",placeholder:"Placa del veh\xEDculo"})]})]}),h(Px,{}),h(Nx,{}),A("div",{className:"flex flex-row-reverse gap-3 pt-3",children:[h(ie,{type:"submit",color:"primary",children:e?"Actualizar":"Crear"}),h(ie,{color:"link",onClick:()=>t(),children:"Cerrar"})]})]})})},z9=({openEdit:e,apartments:t,handleDelete:n})=>A(fr,{children:[A(dr,{children:[h("th",{scope:"col",children:"Unidad residencial"}),h("th",{scope:"col",children:"Habitantes"}),h("th",{scope:"col",children:"Mascotas"}),h("th",{scope:"col",children:"Veh\xEDculos"}),h("th",{scope:"col",children:"Acci\xF3n"})]}),h("tbody",{children:t.map((r,i)=>{var s,a,o,l,u,c;return A(Gn,{index:i,children:[A("th",{scope:"row",className:"font-medium text-gray-900 whitespace-nowrap",children:[r.tower," -"," ",r.apartmentNumber]}),A("td",{children:[r.hasOwner?h(Wd,{to:`../owners/${r.owner}`,className:"flex flex-col hover:underline text-primary",children:r.name}):h("div",{children:"Sin propietario"}),(s=r.extraInfo)!=null&&s.members?h("ul",{className:"ml-3 list-disc",children:(o=(a=r.extraInfo)==null?void 0:a.members)==null?void 0:o.map(f=>h("li",{children:f.name},f.name))}):h("div",{children:"No aplica"})]}),h("td",{children:r.extraInfo&&((l=r.extraInfo.pets)==null?void 0:l.length)>0?h("ul",{children:r.extraInfo.pets.map((f,d)=>A("li",{children:[f.quantity," ",Ox[f.type],f.quantity>2?"s":""]},d))}):h("div",{children:"No tiene mascotas"})}),h("td",{children:((u=r.extraInfo)==null?void 0:u.vehicle)&&((c=r.extraInfo)==null?void 0:c.vehicle.licensePlate)!==""?h("p",{children:r.extraInfo.vehicle.licensePlate}):h("p",{children:"No Aplica"})}),A("td",{className:"flex gap-2",children:[h(ie,{color:"link",onClick:()=>e(r),children:"Editar"}),h(ie,{color:"link",onClick:()=>n(r),children:"Eliminar"})]})]},r.id)})})]}),V9=()=>{const[e,t]=$.exports.useState(0),[n,r]=$.exports.useState([]),[i,s]=$.exports.useState([]),{openModal:a,closeModal:o,isOpen:l,data:u,setData:c}=Ht(),f=eu();$.exports.useEffect(()=>{f.getApartments().then(y=>{s(y),r(y)})},[e]);const d=y=>{c(y),a()};return A(ge,{children:[l&&h(ln,{className:"w-[45em]",close:o,title:`${u?"Editar":"Crear"} unidad residencial`,children:h(j9,{data:u,closeModal:y=>{y&&t(e+1),o()}})}),h(hr,{searchOptions:{allItems:n,searchKeys:["tower","apartmentNumber","name","phone","email"],setItems:s},title:"Unidad residencial",action:d,children:h(z9,{openEdit:d,apartments:i,handleDelete:y=>{f.deleteApartment(y).then(b=>{if(b){const m=i.filter(v=>v.id!==y.id);s(m)}})}})})]})},H9=({request:e,handleAcceptRequest:t,handleDenyRequest:n,handleDelete:r})=>e.approved===Jt.PENDING?A("div",{className:"flex gap-2",children:[h(ie,{onClick:()=>t(e),color:"primary",children:"Aceptar"}),h(ie,{onClick:()=>n(e),color:"secondary",children:"Rechazar"})]}):h(ie,{color:"primary",onClick:()=>r(e),children:"Eliminar"}),W9=({adminRequests:e,handleAcceptRequest:t,handleDenyRequest:n,handleDelete:r})=>{const[i,s]=$.exports.useState([]),[a,o]=$.exports.useState([]);return $.exports.useEffect(()=>{const l=e.map(u=>({...u,username:u.user.displayName,email:u.user.email,phoneNumber:u.user.phoneNumber,state:AR[u.approved],strType:Ha[u.type]}));s(l),o(l)},[e]),h(hr,{searchOptions:{allItems:a,setItems:s,searchKeys:["description","email","username","phoneNumber","strType","state"]},title:"Solicitudes",children:A(fr,{children:[A(dr,{children:[h("th",{className:"w-32",children:"Tipo"}),h("th",{children:"Descripci\xF3n"}),h("th",{children:"Fecha"}),h("th",{children:"Usuario"}),h("th",{children:"Acciones"})]}),h("tbody",{children:i.map((l,u)=>A(Gn,{index:u,children:[A("td",{className:"w-32",children:[Ha[l.type],h(Fx,{currentState:l.approved})]}),h("td",{children:h("p",{children:l.description})}),h("td",{children:A("ul",{className:"min-w-max",children:[A("li",{children:["Solicitud del ",l.dateDetail.date]}),l.dateDetail.startHour&&A("li",{children:["Hora de inicio"," ",js[l.dateDetail.startHour]]}),l.dateDetail.endHour&&A("li",{children:["Hora de finalizaci\xF3n"," ",js[l.dateDetail.endHour]]})]})}),h("td",{children:A("div",{className:"flex flex-col",children:[l.user.displayName,A("small",{className:"text-sm flex flex-col text-gray-400",children:[l.user.email," ",h("br",{}),"Cel. ",l.user.phoneNumber]})]})}),h("td",{children:h(H9,{handleAcceptRequest:t,handleDenyRequest:n,handleDelete:r,request:l})})]},l.id))})]})})},q9=({closeModal:e})=>{const[t,n]=$.exports.useState(null),[r,i]=$.exports.useState([]),s=eu();$.exports.useEffect(()=>{s.getAvailableApartments().then(l=>{i(l)})},[]);const a=(l=!1)=>{if(l&&t){e(t);return}e()},o=l=>{const u=r.find(c=>c.id===l);n(u!=null?u:null)};return A("section",{children:[h(pe,{htmlFor:"apartments",required:!0,children:"Unidades disponibles"}),h(cr,{onChange:l=>o(l.target.value),value:t==null?void 0:t.id,id:"apartments",className:"w-full",children:r.map(l=>A("option",{value:l.id,children:[l.tower," - \xA0",l.apartmentNumber]},l.id))}),A("div",{className:"flex flex-row-reverse gap-3 pt-3",children:[h(ie,{color:"primary",onClick:()=>a(!0),children:"Guardar"}),h(ie,{color:"link",onClick:()=>a(),children:"Cerrar"})]})]})},G9=({closeModal:e,refreshState:t,data:n})=>{const r=gf();return h(ln,{close:e,title:"Vincular unidad residencial",children:h(q9,{closeModal:s=>{if(!s){e();return}r.acceptAccessRequest(s,n).then(a=>{a&&t(n.id,Jt.ACCEPTED)}).finally(()=>e())}})})},K9=({formik:e=!1,className:t="",allowUndefined:n=!0,multiple:r=!1,...i})=>{let s="border rounded bg-white px-2 py-1 h-8 outline-none";return t&&(s=`${s} ${t}`),e?A(Nr,{...i,as:"select",className:s,multiple:r,children:[n&&h("option",{value:void 0,children:"---- Seleccione ----"}),i.children]}):A("select",{...i,className:s,multiple:r,children:[n&&h("option",{value:void 0,children:"---- Seleccione ----"}),i.children]})},Y9=({closeModal:e,acts:t})=>{const[n,r]=$.exports.useState([]),i=(a=!1)=>{a&&n&&e(n)},s=a=>{console.log(a),n.some(o=>o===a)?r(n.filter(o=>o!==a)):r([...n,a])};return A("section",{children:[h(pe,{htmlFor:"acts",required:!0,children:"Actas disponibles"}),h(K9,{onChange:a=>s(a.target.value),value:n!=null?n:[],id:"act",className:"w-full h-20",multiple:!0,allowUndefined:!1,children:t.map(a=>A("option",{value:a.id,children:[a.documentName," - \xA0"]},a.id))}),A("div",{className:"flex flex-row-reverse gap-3 pt-3",children:[h(ie,{color:"primary",onClick:()=>i(!0),children:"Guardar"}),h(ie,{color:"link",onClick:()=>i(),children:"Cerrar"})]})]})},Q9=({closeModal:e,refreshState:t,data:n})=>{const[r,i]=$.exports.useState([]),s=gf(),a=Pg();return $.exports.useEffect(()=>{const l=new Date(n.dateDetail.date);l.setDate(l.getDate()+1),a.getAvailableAct(of(l)).then(u=>{i(u)})},[]),h(ln,{close:e,title:"Acceso a acta",children:h(Y9,{acts:r,closeModal:l=>{s.acceptActRequest(n,l).then(u=>{u&&t(n.id,Jt.ACCEPTED)}).finally(()=>e())}})})},X9=()=>{const{isOpen:e,openModal:t,closeModal:n,setData:r,data:i}=Ht(),{isOpen:s,openModal:a,closeModal:o,setData:l,data:u}=Ht(),[c,f]=$.exports.useState([]),d=gf();$.exports.useEffect(()=>{d.getAdminRequest().then(v=>{f(v)})},[]);const p=()=>{d.getAdminRequest().then(v=>{f(v)})},g=v=>{d.changeRequestState(Jt.REJECTED,v).then(()=>m(v.id,Jt.REJECTED))},y=v=>{v.type===gn.ACCESS&&(t(),r(v)),v.type===gn.PUBLIC_SPACE&&d.acceptPublicSpaceRequest(v).then(w=>{w&&p()}),v.type===gn.ACT&&(console.log(v),a(),l(v))},b=v=>{d.deleteRequest(v).then(w=>{if(w){const E=c.filter(N=>N.id!==v.id);f(E)}})},m=(v,w)=>{const E=c.map(N=>N.id===v?{...N,approved:w}:N);f(E)};return A(ge,{children:[e&&h(G9,{data:i,closeModal:n,refreshState:m}),s&&h(Q9,{data:u,closeModal:o,refreshState:m}),h(W9,{adminRequests:c,handleAcceptRequest:y,handleDenyRequest:g,handleDelete:b}),h("div",{className:"absolute top-3 right-3 md:top-auto md:bottom-10 md:right-10 shadow-md",children:A(ie,{className:"flex items-center justify-center p-2 gap-2",color:"primary",onClick:()=>p(),children:[h(i9,{}),"Refrescar"]})})]})},Mx=e=>`${e}_${new Date().getTime()}`,J9=["#42032C","#D36B00","#E6D2AA","#820000","#B9005B","#FF7C7C","#1F2937","#101827","#2563EB","#355764","#5A8F7B","#81CACF","#2C3333","#E7F6F2","#FFF9CA","#FFDEB4"],Z9=({title:e,id:t,defaultColor:n,gray:r=!1})=>{const[i,s]=$.exports.useState(n),a=an(),{theme:o}=sn(u=>u.themeState),l=u=>{a(xE({...o,[t]:[u.toUpperCase(),e]})),s(u)};return A("div",{className:`flex items-center border-b-gray-200 border-b justify-evenly p-2 ${r?"bg-gray-100":""}`,children:[A("div",{className:"flex gap-3 items-center",children:[h("h2",{className:"text-lg font-bold text-gray-800 w-36 text-end",children:e}),A("div",{className:"flex h-9 items-center border rounded",children:[h("input",{className:"w-8 h-full p-1 bg-gray-200",type:"color",value:i,id:t,onChange:u=>{l(u.target.value)}}),h("label",{htmlFor:t,className:"pl-2 pr-5 selection:content-none",children:i.toUpperCase()})]})]}),h("div",{className:"flex gap-2",children:J9.map(u=>h("div",{className:"border cursor-pointer w-4 h-4 border-gray-400 rounded",onClick:()=>l(u),style:{backgroundColor:u}},Mx(u)))})]})},e7=()=>{const{theme:e}=sn(r=>r.themeState),t=SE(),n=()=>{t.updateCustomization(e).then(()=>{location.reload()})};return h(ge,{children:A(Zl,{children:[A("div",{className:"w-full flex flex-col items-center mb-4 justify-center",children:[h(Tx,{title:"Personalizaci\xF3n"}),h("p",{className:"text-gray-400",children:"Configura y personaliza la paleta de colores de la interfaz de usuario"})]}),e&&A("section",{className:"w-full flex flex-col items-center justify-center",children:[h("div",{className:"w-3/4 shadow",children:Object.entries(e).sort(([,r],[,i])=>r[1].localeCompare(i[1])).filter(([r])=>r!=="id").map(([r,i],s)=>{const[a,o]=i;return h(Z9,{id:r,title:o,gray:s%2===0,defaultColor:a},Mx(r))})}),h(ie,{className:"mt-2 text-xl !py-4 !px-5",color:"primary",onClick:n,children:"Guardar"})]})]})})},t7=({owners:e,handleDelete:t})=>h(ge,{children:A(fr,{children:[A(dr,{children:[h("th",{scope:"col",className:"w-1"}),h("th",{scope:"col",children:"Nombre"}),h("th",{scope:"col",children:"Tel\xE9fono"}),h("th",{scope:"col",children:"Unidad residencial"}),h("th",{scope:"col",children:"Correo"}),h("th",{scope:"col",children:"Acci\xF3n"})]}),h("tbody",{children:e.map((n,r)=>{var i,s;return A(Gn,{index:r,children:[h("td",{className:"w-1",children:h(Wd,{to:`./${n.uid}`,children:h(pg,{})})}),h("th",{scope:"row",className:"font-medium text-gray-900",children:n.displayName}),h("td",{children:n.phoneNumber}),h("td",{children:A("div",{className:"flex flex-col",children:[A("span",{children:["Apto. ",(i=n.apartment)==null?void 0:i.apartmentNumber]}),A("span",{children:["Bloque ",(s=n.apartment)==null?void 0:s.tower]})]})}),h("td",{children:h("span",{className:"break-words",children:n.email})}),h("td",{className:"flex gap-2",children:h(ie,{color:"link",onClick:()=>t(n),children:"Eliminar"})})]},n.id)})})]})}),Lx=e=>Object.values(e).some(t=>t!==!1&&t!==0&&!t),n7=({data:e,closeModal:t})=>{var c;const[n,r]=$.exports.useState([]),i=eu(),s=Jl(),a={name:(e==null?void 0:e.displayName)||"",phone:(e==null?void 0:e.phoneNumber)||"",email:(e==null?void 0:e.email)||"",apartmentId:((c=e==null?void 0:e.apartment)==null?void 0:c.id)||""};$.exports.useEffect(()=>{i.getAvailableApartments().then(f=>{r(f)})},[]);const o=f=>{if(Lx(f))return;const d={name:f.name,phone:f.phone,uid:"",email:f.email,apartment:n.find(p=>p.id===f.apartmentId)};if(e){l(d);return}u(d)},l=f=>{f.id=e.id,s.updateOwner(f).then(d=>{d&&t(!0)})},u=f=>{s.createOwner(f).then(d=>{d&&t(!0)})};return h(On,{initialValues:a,onSubmit:o,children:A(on,{className:"flex flex-col gap-2",children:[A("div",{className:"flex flex-col text-gray-900",children:[h(pe,{htmlFor:"name",required:!0,children:"Nombre"}),h(Nr,{id:"name",name:"name",className:"border bg-white px-2 py-1",placeholder:"Nombre",required:!0})]}),A("div",{className:"flex flex-col text-gray-900",children:[h(pe,{htmlFor:"phone",required:!0,children:"Tel\xE9fono"}),h(Nr,{type:"number",id:"phone",name:"phone",className:"border bg-white px-2 py-1",placeholder:"Tel\xE9fono",required:!0})]}),A("div",{className:"flex flex-col text-gray-900",children:[h(pe,{htmlFor:"apartmentId",required:!0,children:"Unidad residencial"}),h(cr,{disabled:Boolean(e),className:"disabled:text-gray-500 disabled:bg-gray-100",formik:!0,id:"apartmentId",name:"apartmentId",required:!0,children:n.map(f=>A("option",{value:f.id,children:[f.tower," - \xA0",f.apartmentNumber]},f.id))})]}),A("div",{className:"flex flex-col text-gray-900",children:[h(pe,{htmlFor:"email",required:!0,children:"Correo"}),h(Nr,{disabled:Boolean(e),id:"email",name:"email",type:"email",className:"border bg-white px-2 py-1 disabled:text-gray-500 disabled:bg-gray-100",placeholder:"Correo",required:!0})]}),A("div",{className:"flex flex-row-reverse gap-3 pt-3",children:[h(ie,{type:"submit",color:"primary",children:e?"Actualizar":"Crear"}),h(ie,{color:"link",onClick:()=>t(),children:"Cerrar"})]})]})})},r7=()=>{const[e,t]=$.exports.useState(0),[n,r]=$.exports.useState([]),[i,s]=$.exports.useState([]),a=Jl(),o=Eb(),{openModal:l,closeModal:u,isOpen:c,data:f,setData:d}=Ht();return $.exports.useEffect(()=>{a.getOwners().then(b=>{s(b),r(b)})},[e]),A(ge,{children:[c&&h(ln,{close:u,title:`${f?"Editar":"Crear"} propietario`,children:h(n7,{data:f,closeModal:b=>{b&&t(e+1),u()}})}),o||h(hr,{searchOptions:{allItems:n,searchKeys:["displayName","phoneNumber","email"],setItems:s},title:"Propietarios",action:b=>{d(b),l()},children:h(t7,{owners:i,handleDelete:b=>{a.deleteUserTemporally(b).then(m=>{m&&s(v=>v.filter(w=>w.id!==b.id))})}})})]})},i7=()=>{var l;const[e,t]=$.exports.useState(),{ownerId:n}=qs(),r=ri(),i=Jl(),s=mf();$.exports.useEffect(()=>{!n||i.getOwnerDetail(n).then(u=>{u&&t(u)})},[]);const a=u=>{s.deleteBooking(u).then(c=>{c&&t({owner:e.owner,apartment:e.apartment,bookings:e.bookings.filter(f=>f.id!==u.id)})})},o=()=>{r(-1)};return A(Zl,{children:[A("header",{className:"px-8 py-3 flex justify-between items-start",children:[A("div",{className:"md:flex gap-3",children:[(e==null?void 0:e.owner.photoUrl)&&h("img",{className:"rounded object-cover !h-40 w-40",src:e==null?void 0:e.owner.photoUrl,width:150,alt:"profile_img"}),A("div",{children:[h(Og,{children:e==null?void 0:e.owner.displayName}),A("ul",{className:"text-gray-600",children:[A("li",{children:[h("small",{className:"font-bold block",children:"Tel\xE9fono"}),e==null?void 0:e.owner.phoneNumber]}),A("li",{children:[h("small",{className:"font-bold block",children:"Email"}),e==null?void 0:e.owner.email]}),A("li",{children:[h("small",{className:"font-bold block",children:"Unidad residencial"}),e==null?void 0:e.apartment.apartmentNumber," -"," ",e==null?void 0:e.apartment.tower]})]})]})]}),A("div",{className:"flex flex-col md:flex-row gap-2 items-center mt-1",children:[A("button",{className:"w-full button bg-gray-200 !text-gray-600 flex gap-2",onClick:()=>o(),children:[h(CE,{}),"Volver"]}),A(ie,{className:"flex gap-2",type:"button",color:"primary",children:[h(HR,{}),"Guardar"]})]})]}),A("section",{className:"px-8",children:[h("h1",{children:"Reservas"}),h("hr",{className:"my-2"}),h(kx,{handleDeleteBooking:a,bookings:(l=e==null?void 0:e.bookings)!=null?l:[]})]})]})},Ux=()=>{const e=ug(),t=an();return{getAllPublicSpaces:async()=>{t(H(!0));try{return await e.getAllPublicSpaces()}catch{return t(re({title:"No se pudieron traer las zonas comunes",details:["Hubo un error del sistema contacte con soporte o intente m\xE1s tarde"],type:"error"})),[]}finally{t(H(!1))}},createPublicSpace:async(a,o)=>{t(H(!0));try{const l={name:a.name,schedule:{days:Object.values(o),maxPerHour:a.maxPerHour,rangeEndHour:a.rangeEndHour,rangeStartHour:a.rangeStartHour}};return await e.createPublicSpace(l),!0}catch{return t(re({title:"No se pudo crear el espacio p\xFAblico",details:["No se pudo crear el espacio p\xFAblico"],type:"error"})),!1}finally{t(H(!1))}},updatePublicSpace:async(a,o,l)=>{t(H(!0));try{const u={id:a,name:o.name,schedule:{days:Object.values(l),maxPerHour:o.maxPerHour,rangeEndHour:o.rangeEndHour,rangeStartHour:o.rangeStartHour}};return await e.updatePublicSpace(u),!0}catch{return t(re({title:"No se pudo actualizar el espacio p\xFAblico",details:["No se pudo actualizar el espacio p\xFAblico"],type:"error"})),!1}finally{t(H(!1))}},deletePublicSpace:async a=>{t(H(!0));try{return await e.deletePublicSpace(a.id),!0}catch{return t(re({title:"No se pudo eliminar el registro",details:[`No se pudo eliminar el espacio p\xFAblico ${a.name}`],type:"error"})),!1}finally{t(H(!1))}}}},s7=({days:e,setDays:t})=>{const n=(r,i,s)=>{if(r)t({...e,[i]:s});else{const a={...e};delete a[i],t(a)}};return h("div",{className:"flex justify-center bg-gray-100 rounded p-2 gap-2",children:Object.entries(TR).map(([r,i])=>A("div",{className:"flex flex-col items-center",children:[h(pe,{htmlFor:r,children:r}),h(xx,{name:r,onChange:s=>n(s.target.checked,r,i),value:i,checked:Boolean(e[r])},r)]},r))})},a7=({data:e,closeModal:t})=>{const[n,r]=$.exports.useState({});$.exports.useEffect(()=>{if(e!=null&&e.schedule.days){const u=e.schedule.days.map(c=>({[lg[c]]:c})).reduce((c,f)=>({...c,...f}),{});r(u)}},[]);const i=Ux(),s={name:(e==null?void 0:e.name)||"",maxPerHour:(e==null?void 0:e.schedule.maxPerHour)||1,rangeStartHour:(e==null?void 0:e.schedule.rangeStartHour)||8,rangeEndHour:(e==null?void 0:e.schedule.rangeEndHour)||18},a=u=>{e?l(u):o(u)},o=u=>{i.createPublicSpace(u,n).then(c=>{c&&t(!0)})},l=u=>{i.updatePublicSpace(e.id,u,n).then(c=>{c&&t(!0)})};return h(On,{initialValues:s,onSubmit:a,children:A(on,{children:[A("div",{className:"w-full",children:[h(pe,{htmlFor:"name",children:"Nombre del espacio p\xFAblico"}),h(qe,{className:"w-full",name:"name",type:"text",placeholder:"Nombre del espacio p\xFAblico"})]}),A("div",{className:"w-full",children:[h(pe,{htmlFor:"name",children:"M\xE1ximo de usuarios"}),h(qe,{className:"w-full",name:"maxPerHour",type:"number",placeholder:"M\xE1ximo de usuarios"}),h("small",{className:"text-xs text-gray-400",children:"N\xFAmero de usuarios que pueden reservar en la misma hora"})]}),A("div",{className:"flex w-full gap-1",children:[A("div",{children:[h(pe,{htmlFor:"name",children:"Hora de inicio"}),h(cr,{className:"w-full",formik:!0,allowUndefined:!1,name:"rangeStartHour",placeholder:"Hora de inicio",children:Object.entries(Vp).map(([u,c])=>h("option",{value:c,children:u}))}),h("small",{className:"text-xs text-gray-400",children:"Hora de apertura del espacio"})]}),A("div",{children:[h(pe,{htmlFor:"name",children:"Hora de cierre"}),h(cr,{className:"w-full",formik:!0,allowUndefined:!1,name:"rangeEndHour",placeholder:"Hora de cierre",children:Object.entries(Vp).map(([u,c])=>h("option",{value:c,children:u}))}),h("small",{className:"text-xs text-gray-400",children:"Hora de cierre del espacio"})]})]}),h(s7,{days:n,setDays:r}),A("div",{className:"flex flex-row-reverse gap-3 pt-3",children:[h(ie,{type:"submit",color:"primary",children:e?"Actualizar":"Crear"}),h(ie,{color:"link",onClick:()=>t(),children:"Cerrar"})]})]})})},o7=({days:e})=>h("ul",{children:e.map(t=>h("li",{children:lg[t]},t))});function uw(e){const t=e>12?"PM":"AM";return`${e>12?e-12:e} ${t}`}const l7=({publicSpaces:e,handleDelete:t,handleEdit:n})=>A(fr,{children:[A(dr,{children:[h("th",{children:"Nombre"}),h("th",{children:"Horario"}),h("th",{children:"D\xEDas h\xE1biles"}),h("th",{children:"Acciones"})]}),h("tbody",{children:e.map((r,i)=>A(Gn,{index:i,children:[h("td",{children:r.name}),h("td",{children:A("ul",{className:"min-w-max",children:[A("li",{children:["Cantidad por hora"," ",r.schedule.maxPerHour]}),A("li",{children:["Hora de apertura"," ",uw(r.schedule.rangeStartHour)]}),A("li",{children:["Hora de cierre"," ",uw(r.schedule.rangeEndHour)]})]})}),h("td",{children:h(o7,{days:r.schedule.days})}),A("td",{className:"flex gap-2",children:[h(ie,{color:"link",onClick:()=>n(r),children:"Editar"}),h(ie,{color:"link",onClick:()=>t(r),children:"Eliminar"})]})]},r.id))})]}),u7=()=>{const[e,t]=$.exports.useState([]),[n,r]=$.exports.useState([]),{isOpen:i,data:s,openModal:a,closeModal:o,setData:l}=Ht(),u=Ux();$.exports.useEffect(()=>{c()},[]);const c=()=>{u.getAllPublicSpaces().then(y=>{r(y),t(y)})},f=y=>{u.deletePublicSpace(y).then(b=>{b&&c()})},d=y=>{l(y),a()},p=()=>{a()},g=y=>{y&&c(),l(void 0),o()};return A(ge,{children:[i&&h(ln,{close:g,title:s?"Editar":"Crear espacio p\xFAblico",width:"w-[500px]",children:h(a7,{data:s,closeModal:g})}),h(hr,{title:"Zonas comunes",action:p,searchOptions:{allItems:n,searchKeys:["name"],setItems:t},children:h(l7,{publicSpaces:e,handleDelete:f,handleEdit:d})})]})};function c7(e){const[t,n]=$.exports.useState(0),[r,i]=$.exports.useState([]),[s,a]=$.exports.useState(!1),[o,l]=$.exports.useState(""),[u,c]=$.exports.useState(""),[f,d]=$.exports.useState("");return $.exports.useEffect(()=>{if(e){const b=e.split(",").map(m=>m.trim());i(b)}},[e]),$.exports.useEffect(()=>{const b=r.length;if(c(r.join(",")),b===0||b%4===0){n(1),a(!1);return}for(let m=1;m<4;m++)if((b-m)%4===0){n(m+1),a(!1);break}},[r]),{colspanSize:t,chips:r,errorMsg:f,inputValue:o,hidden:s,handleDelete:b=>{i(r.filter(m=>m!==b))},handleChangeValue:b=>{f&&d(""),l(b.target.value)},handleKey:b=>{if(b.code==="Comma"){if(b.preventDefault(),r.some(m=>m===o)){d("Ya agrego este estado");return}l(""),a(!0),i([...r,o])}b.code==="Backspace"&&o.length===0&&i(r.filter((m,v)=>v+1!==r.length))},formValue:u}}const d7=({chip:e,handleDelete:t})=>A("span",{title:e,className:"py-1 px-2 rounded-full text-gray-500 bg-gray-200 text-xs flex justify-between",children:[h("span",{className:"whitespace-nowrap overflow-hidden overflow-ellipsis",children:e}),h("button",{type:"button",onClick:()=>t(e),children:h(IE,{className:"cursor-pointer"})})]}),f7=({id:e,name:t,className:n="",formik:r})=>{const{colspanSize:i,chips:s,errorMsg:a,formValue:o,inputValue:l,hidden:u,handleDelete:c,handleChangeValue:f,handleKey:d}=c7(r.values.state);return $.exports.useEffect(()=>{r.values.state=o},[o]),A(ge,{children:[h("input",{type:"hidden",id:e,name:t,onChange:r.handleChange,value:r.values.state}),A("div",{className:` grid grid-cols-4 gap-1 border p-1 bg-white ${n}`,children:[s.map(p=>h(d7,{chip:p,handleDelete:c},p)),h("input",{style:{gridColumn:`${i}/4`},id:e,name:t,className:`${u?"hidden":"block"}`,value:l,onChange:f,onKeyDown:p=>d(p)})]}),h("small",{className:`text-xs ${a?"text-red-700":"text-gray-400"}  ml-1 italic`,children:a||"Debe separar por comas el valor"})]})};function $g(){const e=Rr("state");return{addState:async s=>await e.addFirestore(s),deleteState:async s=>{await e.deleteFirestore(s)},updateState:async(s,a)=>await e.updateFirestore(s,a),getStates:async()=>await e.getAllFirestore()}}const h7=({data:e,closeModal:t})=>{const n={affair:(e==null?void 0:e.affair)||"",detail:(e==null?void 0:e.detail)||"",state:e!=null&&e.state?e.state.join(","):""},r=sx({initialValues:n,onSubmit:l=>{if(!Lx(l)){if(i(H(!0)),e){a(l);return}o(l)}}}),i=Xi(),s=$g(),a=l=>{s.updateState(e==null?void 0:e.id,{affair:l.affair,detail:l.detail,maxAvailability:0,owners:[],state:l.state.split(",").map(u=>u.trim())}).then(()=>{t(!0)}).finally(()=>i(H(!1)))},o=l=>{const u={affair:l.affair,detail:l.detail,maxAvailability:0,owners:[],state:l.state.split(",").map(c=>c.trim())};s.addState(u).then(()=>{t(!0)}).finally(()=>{i(H(!1))})};return A("form",{onSubmit:r.handleSubmit,className:"flex flex-col gap-2",children:[A("div",{className:"flex flex-col text-gray-900",children:[h("label",{htmlFor:"affair",className:"font-semibold p-1",children:"Asunto"}),h("input",{id:"affair",name:"affair",className:"border bg-white px-2 py-1",placeholder:"Asunto",onChange:r.handleChange,value:r.values.affair})]}),A("div",{className:"flex flex-col text-gray-900",children:[h("label",{htmlFor:"detail",className:"font-semibold p-1",children:"Detalle"}),h("input",{id:"detail",name:"detail",className:"border bg-white px-2 py-1",placeholder:"Detalle",onChange:r.handleChange,value:r.values.detail})]}),A("div",{className:"flex flex-col w-full text-gray-900",children:[h("label",{htmlFor:"state-chips",className:"font-semibold p-1",children:"Estado"}),h(f7,{className:"w-full",id:"state",name:"state",formik:r})]}),A("div",{className:"flex flex-row-reverse gap-3 pt-3",children:[h(ie,{type:"submit",color:"primary",children:e?"Actualizar":"Crear"}),h(ie,{color:"link",onClick:()=>t(),children:"Cerrar"})]})]})},p7=({openEdit:e,states:t,setStates:n})=>{const r=Xi(),i=$g(),s=a=>{r(H(!0)),i.deleteState(a).then(()=>{n(t.filter(o=>o.id!==a))}).finally(()=>r(H(!1)))};return h(ge,{children:A(fr,{children:[A(dr,{children:[h("th",{scope:"col",children:"Asunto"}),h("th",{scope:"col",children:"Detalle"}),h("th",{scope:"col",children:"Estado"}),h("th",{scope:"col",children:"Acci\xF3n"})]}),h("tbody",{children:t.map((a,o)=>A(Gn,{index:o,children:[h("th",{scope:"row",className:"font-medium text-gray-900 whitespace-nowrap",children:a.affair}),h("td",{children:a.detail}),h("td",{children:h("ul",{className:"list-disc",children:a.state.map((l,u)=>h("li",{children:l},l+u))})}),A("td",{className:"flex gap-2",children:[h(ie,{color:"link",onClick:()=>e(a),children:"Editar"}),h(ie,{color:"link",onClick:()=>s(a.id),children:"Eliminar"})]})]},a.affair+o))})]})})},m7=()=>{const[e,t]=$.exports.useState([]),[n,r]=$.exports.useState([]),[i,s]=$.exports.useState(0),a=$g(),o=Xi(),{openModal:l,closeModal:u,isOpen:c,data:f,setData:d}=Ht();$.exports.useEffect(()=>{o(H(!0)),a.getStates().then(y=>{r(y),t(y)}).catch(y=>{console.error(y)}).finally(()=>{o(H(!1))})},[]);const p=y=>{d(y),l()};return A(ge,{children:[c&&h(ln,{close:u,title:`${f?"Editar":"Crear"} estado`,children:h(h7,{data:f,closeModal:y=>{y&&s(i+1),u()}})}),h(hr,{searchOptions:{allItems:e,setItems:r,searchKeys:["affair","detail"]},title:"Estados",action:p,children:h(p7,{openEdit:p,states:n,setStates:r})})]})},g7=({handleClose:e,handleSubmit:t,data:n})=>{var i,s;const r=a=>{t({description:a.description,price:Number(a.price)})};return h(ln,{close:e,title:"Editar servicio",children:h(On,{initialValues:{description:(i=n==null?void 0:n.description)!=null?i:"",price:(s=String(n==null?void 0:n.price))!=null?s:""},onSubmit:r,children:A(on,{children:[A("div",{className:"w-full flex flex-col gap-1",children:[h(pe,{htmlFor:"description",required:!0,children:"Descripci\xF3n"}),h(qe,{name:"description",type:"text",placeholder:"Descripci\xF3n"})]}),A("div",{className:"w-full flex flex-col gap-1",children:[h(pe,{htmlFor:"price",required:!0,children:"Valor"}),h(qe,{name:"price",type:"number",placeholder:"Valor"})]}),A("div",{className:"flex flex-row-reverse gap-3 pt-3",children:[h(ie,{type:"submit",color:"primary",children:n?"Actualizar":"Crear"}),h(ie,{color:"link",onClick:()=>e(),children:"Cerrar"})]})]})})})},y7=({href:e,children:t,className:n=""})=>h(Wd,{to:e,className:n?`button bg-gray-200 !text-gray-600 ${n}`:"button bg-gray-200 !text-gray-600",children:t}),v7=({payments:e,allPayments:t,setPayments:n,handleDelete:r,handleEdit:i,handleCreate:s})=>h(hr,{searchOptions:{allItems:t,searchKeys:["description"],setItems:n},title:"Servicios",action:s,children:A(fr,{children:[A(dr,{children:[h("th",{children:"Descripci\xF3n"}),h("th",{children:"Precio"}),h("th",{children:"Usuarios"}),h("th",{children:"Acciones"})]}),h("tbody",{children:e.map((a,o)=>A(Gn,{index:o,children:[h("td",{children:a.description}),h("td",{children:Rg(a.price)}),h("td",{children:h("div",{className:"flex items-center",children:h(y7,{className:"w-max",href:`./users/${a.id}`,children:"Ver Detalle"})})}),h("td",{children:A("div",{className:"flex items-center gap-2",children:[h(ie,{color:"link",onClick:()=>i(a),children:"Editar"}),h(ie,{color:"link",onClick:()=>r(a.id),children:"Eliminar"})]})})]},a.id))})]})}),w7=()=>{const e=Dx();return{getAllPayments:async()=>e.getAllPayments(),createPayment:async a=>e.createPayment(a),updatePayment:async a=>e.updatePayment(a),deletePayment:async a=>e.deletePayment(a),getPaymentById:a=>e.getPaymentById(a)}},Bx=()=>{const e=an(),t=w7(),n=lf();return{getAllPayments:async()=>{e(H(!0));try{return await t.getAllPayments()}catch{return e(re({title:"No se pudieron obtener los servicios",details:[],type:"error"})),[]}finally{e(H(!1))}},createPayment:async u=>{e(H(!0));try{return await t.createPayment(u),!0}catch{return e(re({title:"No se pudo crear el servicio",details:[],type:"error"})),!1}finally{e(H(!1))}},updatePayment:async(u,c)=>{const f={...c,id:u};e(H(!0));try{return await t.updatePayment(f),!0}catch{return e(re({title:"No se pudo actualizar el servicio",details:[],type:"error"})),!1}finally{e(H(!1))}},deletePayment:async u=>{e(H(!0));try{return await t.deletePayment(u),!0}catch{return e(re({title:"No se pudo eliminar el servicio",details:[],type:"error"})),!1}finally{e(H(!1))}},getPaymentById:async u=>{e(H(!0));try{return await t.getPaymentById(u)}catch{return e(re({title:"No se pudo obtener el servicio",details:[Ye.TRY_LATER],type:"error"})),null}finally{e(H(!1))}},sentUserEmail:async(u,c)=>{try{return await n.sendEmail({email:u,subject:"El administrador le ha enviado un mensaje",body:c}),e(re({title:"Se ha enviado el mensaje correctamente",details:[],type:"success"})),!0}catch{return e(re({title:"No se ha podido enviar el email",details:[Ye.TRY_LATER],type:"error"})),!1}}}},_7=()=>{const{isOpen:e,openModal:t,closeModal:n,data:r,setData:i}=Ht(),[s,a]=$.exports.useState([]),[o,l]=$.exports.useState([]),u=Bx();$.exports.useEffect(()=>{c()},[]);const c=()=>{u.getAllPayments().then(b=>{a(b),l(b)})},f=b=>{u.deletePayment(b).then(m=>{m&&c()})},d=b=>{i(b),t()},p=b=>{if(!r){u.createPayment(b).then(m=>{m&&(c(),g())});return}u.updatePayment(r.id,b).then(m=>{m&&(c(),g())})},g=()=>{i(void 0),n()};return A(ge,{children:[e&&h(g7,{data:r,handleSubmit:p,handleClose:g}),h(v7,{payments:s,allPayments:o,setPayments:a,handleDelete:f,handleEdit:d,handleCreate:()=>{t()}})]})},b7=({owners:e,allOwners:t,payment:n,setOwners:r,handleAddUsers:i,handleChangeState:s,handleResetUserStates:a,handleSentMessage:o})=>{var c;const l=ri(),u=$.exports.useMemo(()=>t.map(f=>f.ownerId),[t]);return A(ge,{children:[A(hr,{action:()=>i(u),actionName:"Agregar usuarios",searchOptions:{allItems:t,setItems:r,searchKeys:["email","phoneNumber","displayName"]},title:(c=`${n==null?void 0:n.description}`)!=null?c:"Servicio",subtitle:`Precio ${Rg((n==null?void 0:n.price)||0)}`,children:[h("div",{className:"px-4 pb-2",children:A(ie,{color:"secondary",className:"flex gap-2 items-center justify-center",onClick:()=>l(-1),children:[h(CE,{}),"Volver"]})}),A(fr,{children:[A(dr,{children:[h("th",{children:"Usuario"}),h("th",{children:"Estado"}),h("th",{children:"Acciones"})]}),h("tbody",{children:e.map((f,d)=>A(Gn,{index:d,children:[h("td",{children:A("div",{className:"flex flex-col",children:[f.displayName,h("small",{children:f.email})]})}),h("td",{children:A(cr,{allowUndefined:!1,className:"w-56",value:f.state,onChange:p=>s(f,n,p.target.value),children:[h("option",{value:ti.PAID,children:"Pag\xF3"}),h("option",{value:ti.PENDING,children:"Pendiente"})]})}),h("td",{children:h(ie,{onClick:()=>o(f),color:"primary",children:"Enviar un mensaje"})})]},f.id))})]})]}),h("div",{className:"absolute bottom-10 right-10 shadow",children:A(ie,{className:"flex items-center justify-center p-2 gap-2",color:"primary",onClick:()=>a(n.id),children:[h(s9,{}),"Pasar todos a pendiente"]})})]})},S7=({closeModal:e,owner:t,handleSubmit:n})=>{const r={email:t.email,message:""};return h(ln,{close:e,title:"Enviar mensaje",children:h(On,{onSubmit:n,initialValues:r,children:A(on,{children:[A("div",{className:"flex flex-col",children:[h(pe,{htmlFor:"email",children:"Para"}),h(qe,{className:"w-full text-gray-500",disabled:!0,name:"email",type:"text",placeholder:"Nombre"})]}),A("div",{className:"flex flex-col mt-2",children:[h(pe,{htmlFor:"message",children:"Mensaje"}),h(Ng,{placeholder:"Enviar mensaje...",name:"message"})]}),h("div",{className:"flex justify-end mt-2",children:h(ie,{type:"submit",color:"primary",children:"Enviar"})})]})})})},E7=()=>{const[e,t]=$.exports.useState([]),{closeModal:n,isOpen:r,data:i,openModal:s,setData:a}=Ht(),{closeModal:o,isOpen:l,data:u,openModal:c,setData:f}=Ht(),[d,p]=$.exports.useState(null),[g,y]=$.exports.useState([]),{paymentId:b}=qs(),m=em(),v=Bx(),w=em();$.exports.useEffect(()=>{b&&(E(b),v.getPaymentById(b).then(k=>{p(k)}))},[b]);const E=k=>{m.getAllOwnersByPaymentId(k).then(R=>{t(R),y(R)})};return A(ge,{children:[r&&h(Ax,{activeOwnerIds:i,handleClose:n,handleOwnerIds:k=>{w.attachOwnerPayment(k,d).then(R=>{R&&(n(),E(b))})}}),l&&h(S7,{handleSubmit:({email:k,message:R})=>{v.sentUserEmail(k,R).then(L=>{L&&o()})},closeModal:o,owner:u}),h(b7,{handleSentMessage:k=>{f(k),c()},handleResetUserStates:k=>{w.resetUserStates(k).then(R=>{R&&E(k)})},handleAddUsers:k=>{a(k),s()},handleChangeState:(k,R,L)=>{w.updateOwnerState(k,R,L).then(F=>{F&&E(b)})},allOwners:g,owners:e,setOwners:t,payment:d})]})},x7=()=>A(Vi,{children:[h(fe,{index:!0,element:h(_7,{})}),h(fe,{path:"users/:paymentId",element:h(E7,{})})]}),A7=()=>A(Vi,{children:[h(fe,{path:"apartments",element:h(V9,{})}),h(fe,{path:"owners",element:h(r7,{}),children:h(fe,{path:":ownerId",element:h(i7,{})})}),h(fe,{path:"states",element:h(m7,{})}),h(fe,{path:"public-spaces",element:h(u7,{})}),h(fe,{path:"admin-request",element:h(X9,{})}),h(fe,{path:"custom",element:h(e7,{})}),h(fe,{path:"act/*",element:h(Cx,{})}),h(fe,{path:"payments/*",element:h(x7,{})}),h(fe,{path:"booking/*",element:h($x,{})}),h(fe,{path:"*",element:h(Ja,{to:"/NotFound",replace:!0})})]}),T7=()=>{const{role:e}=sn(t=>t.authState);return e==="admin"?h(Vi,{children:h(fe,{path:"*",element:h(A7,{})})}):e==="client"?A(Vi,{children:[h(fe,{path:"apartment",element:h(T9,{})}),h(fe,{path:"request",element:h(M9,{})}),h(fe,{path:"wait-approved",element:h(C9,{})}),h(fe,{path:"booking/*",element:h($x,{})}),h(fe,{path:"payments",element:h(B9,{})}),h(fe,{path:"act",element:h(Cx,{})}),h(fe,{path:"*",element:h(Ja,{to:"/NotFound",replace:!0})})]}):h(hg,{})};var tm;try{tm=Map}catch{}var nm;try{nm=Set}catch{}function jx(e,t,n){if(!e||typeof e!="object"||typeof e=="function")return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(rm);if(tm&&e instanceof tm)return new Map(Array.from(e.entries()));if(nm&&e instanceof nm)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);n.push(r);for(var i in e){var s=t.findIndex(function(a){return a===e[i]});r[i]=s>-1?n[s]:jx(e[i],t,n)}return r}return e}function rm(e){return jx(e,[],[])}const C7=Object.prototype.toString,I7=Error.prototype.toString,P7=RegExp.prototype.toString,O7=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",N7=/^Symbol\((.*)\)(.*)$/;function k7(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function cw(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return k7(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return O7.call(e).replace(N7,"Symbol($1)");const r=C7.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+I7.call(e)+"]":r==="RegExp"?P7.call(e):null}function kl(e,t){let n=cw(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let s=cw(this[r],t);return s!==null?s:i},2)}let cs={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{let i=r!=null&&r!==n,s=`${e} must be a \`${t}\` type, but the final value was: \`${kl(n,!0)}\``+(i?` (cast from the value \`${kl(r,!0)}\`).`:".");return n===null&&(s+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),s},defined:"${path} must be defined"},Zn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},hi={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},im={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},R7={isValue:"${path} field must be ${value}"},sm={noUnknown:"${path} field has unspecified keys: ${unknown}"},$7={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:cs,string:Zn,number:hi,date:im,object:sm,array:$7,boolean:R7});var F7=Object.prototype,D7=F7.hasOwnProperty;function M7(e,t){return e!=null&&D7.call(e,t)}var L7=M7,U7=Array.isArray,Zi=U7,B7=typeof xi=="object"&&xi&&xi.Object===Object&&xi,zx=B7,j7=zx,z7=typeof self=="object"&&self&&self.Object===Object&&self,V7=j7||z7||Function("return this")(),ai=V7,H7=ai,W7=H7.Symbol,yf=W7,dw=yf,Vx=Object.prototype,q7=Vx.hasOwnProperty,G7=Vx.toString,Po=dw?dw.toStringTag:void 0;function K7(e){var t=q7.call(e,Po),n=e[Po];try{e[Po]=void 0;var r=!0}catch{}var i=G7.call(e);return r&&(t?e[Po]=n:delete e[Po]),i}var Y7=K7,Q7=Object.prototype,X7=Q7.toString;function J7(e){return X7.call(e)}var Z7=J7,fw=yf,eL=Y7,tL=Z7,nL="[object Null]",rL="[object Undefined]",hw=fw?fw.toStringTag:void 0;function iL(e){return e==null?e===void 0?rL:nL:hw&&hw in Object(e)?eL(e):tL(e)}var tu=iL;function sL(e){return e!=null&&typeof e=="object"}var nu=sL,aL=tu,oL=nu,lL="[object Symbol]";function uL(e){return typeof e=="symbol"||oL(e)&&aL(e)==lL}var Fg=uL,cL=Zi,dL=Fg,fL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hL=/^\w*$/;function pL(e,t){if(cL(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||dL(e)?!0:hL.test(e)||!fL.test(e)||t!=null&&e in Object(t)}var Dg=pL;function mL(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Mg=mL,gL=tu,yL=Mg,vL="[object AsyncFunction]",wL="[object Function]",_L="[object GeneratorFunction]",bL="[object Proxy]";function SL(e){if(!yL(e))return!1;var t=gL(e);return t==wL||t==_L||t==vL||t==bL}var Hx=SL,EL=ai,xL=EL["__core-js_shared__"],AL=xL,Th=AL,pw=function(){var e=/[^.]+$/.exec(Th&&Th.keys&&Th.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function TL(e){return!!pw&&pw in e}var CL=TL,IL=Function.prototype,PL=IL.toString;function OL(e){if(e!=null){try{return PL.call(e)}catch{}try{return e+""}catch{}}return""}var Wx=OL,NL=Hx,kL=CL,RL=Mg,$L=Wx,FL=/[\\^$.*+?()[\]{}|]/g,DL=/^\[object .+?Constructor\]$/,ML=Function.prototype,LL=Object.prototype,UL=ML.toString,BL=LL.hasOwnProperty,jL=RegExp("^"+UL.call(BL).replace(FL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zL(e){if(!RL(e)||kL(e))return!1;var t=NL(e)?jL:DL;return t.test($L(e))}var VL=zL;function HL(e,t){return e==null?void 0:e[t]}var WL=HL,qL=VL,GL=WL;function KL(e,t){var n=GL(e,t);return qL(n)?n:void 0}var Zs=KL,YL=Zs,QL=YL(Object,"create"),vf=QL,mw=vf;function XL(){this.__data__=mw?mw(null):{},this.size=0}var JL=XL;function ZL(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var eU=ZL,tU=vf,nU="__lodash_hash_undefined__",rU=Object.prototype,iU=rU.hasOwnProperty;function sU(e){var t=this.__data__;if(tU){var n=t[e];return n===nU?void 0:n}return iU.call(t,e)?t[e]:void 0}var aU=sU,oU=vf,lU=Object.prototype,uU=lU.hasOwnProperty;function cU(e){var t=this.__data__;return oU?t[e]!==void 0:uU.call(t,e)}var dU=cU,fU=vf,hU="__lodash_hash_undefined__";function pU(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fU&&t===void 0?hU:t,this}var mU=pU,gU=JL,yU=eU,vU=aU,wU=dU,_U=mU;function uo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}uo.prototype.clear=gU;uo.prototype.delete=yU;uo.prototype.get=vU;uo.prototype.has=wU;uo.prototype.set=_U;var bU=uo;function SU(){this.__data__=[],this.size=0}var EU=SU;function xU(e,t){return e===t||e!==e&&t!==t}var qx=xU,AU=qx;function TU(e,t){for(var n=e.length;n--;)if(AU(e[n][0],t))return n;return-1}var wf=TU,CU=wf,IU=Array.prototype,PU=IU.splice;function OU(e){var t=this.__data__,n=CU(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():PU.call(t,n,1),--this.size,!0}var NU=OU,kU=wf;function RU(e){var t=this.__data__,n=kU(t,e);return n<0?void 0:t[n][1]}var $U=RU,FU=wf;function DU(e){return FU(this.__data__,e)>-1}var MU=DU,LU=wf;function UU(e,t){var n=this.__data__,r=LU(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var BU=UU,jU=EU,zU=NU,VU=$U,HU=MU,WU=BU;function co(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}co.prototype.clear=jU;co.prototype.delete=zU;co.prototype.get=VU;co.prototype.has=HU;co.prototype.set=WU;var _f=co,qU=Zs,GU=ai,KU=qU(GU,"Map"),Lg=KU,gw=bU,YU=_f,QU=Lg;function XU(){this.size=0,this.__data__={hash:new gw,map:new(QU||YU),string:new gw}}var JU=XU;function ZU(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var eB=ZU,tB=eB;function nB(e,t){var n=e.__data__;return tB(t)?n[typeof t=="string"?"string":"hash"]:n.map}var bf=nB,rB=bf;function iB(e){var t=rB(this,e).delete(e);return this.size-=t?1:0,t}var sB=iB,aB=bf;function oB(e){return aB(this,e).get(e)}var lB=oB,uB=bf;function cB(e){return uB(this,e).has(e)}var dB=cB,fB=bf;function hB(e,t){var n=fB(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var pB=hB,mB=JU,gB=sB,yB=lB,vB=dB,wB=pB;function fo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fo.prototype.clear=mB;fo.prototype.delete=gB;fo.prototype.get=yB;fo.prototype.has=vB;fo.prototype.set=wB;var Ug=fo,Gx=Ug,_B="Expected a function";function Bg(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_B);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(Bg.Cache||Gx),n}Bg.Cache=Gx;var bB=Bg,SB=bB,EB=500;function xB(e){var t=SB(e,function(r){return n.size===EB&&n.clear(),r}),n=t.cache;return t}var AB=xB,TB=AB,CB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,IB=/\\(\\)?/g,PB=TB(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(CB,function(n,r,i,s){t.push(i?s.replace(IB,"$1"):r||n)}),t}),OB=PB;function NB(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var kB=NB,yw=yf,RB=kB,$B=Zi,FB=Fg,DB=1/0,vw=yw?yw.prototype:void 0,ww=vw?vw.toString:void 0;function Kx(e){if(typeof e=="string")return e;if($B(e))return RB(e,Kx)+"";if(FB(e))return ww?ww.call(e):"";var t=e+"";return t=="0"&&1/e==-DB?"-0":t}var MB=Kx,LB=MB;function UB(e){return e==null?"":LB(e)}var ru=UB,BB=Zi,jB=Dg,zB=OB,VB=ru;function HB(e,t){return BB(e)?e:jB(e,t)?[e]:zB(VB(e))}var Yx=HB,WB=tu,qB=nu,GB="[object Arguments]";function KB(e){return qB(e)&&WB(e)==GB}var YB=KB,_w=YB,QB=nu,Qx=Object.prototype,XB=Qx.hasOwnProperty,JB=Qx.propertyIsEnumerable,ZB=_w(function(){return arguments}())?_w:function(e){return QB(e)&&XB.call(e,"callee")&&!JB.call(e,"callee")},Xx=ZB,ej=9007199254740991,tj=/^(?:0|[1-9]\d*)$/;function nj(e,t){var n=typeof e;return t=t==null?ej:t,!!t&&(n=="number"||n!="symbol"&&tj.test(e))&&e>-1&&e%1==0&&e<t}var Jx=nj,rj=9007199254740991;function ij(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rj}var jg=ij,sj=Fg,aj=1/0;function oj(e){if(typeof e=="string"||sj(e))return e;var t=e+"";return t=="0"&&1/e==-aj?"-0":t}var Sf=oj,lj=Yx,uj=Xx,cj=Zi,dj=Jx,fj=jg,hj=Sf;function pj(e,t,n){t=lj(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var a=hj(t[r]);if(!(s=e!=null&&n(e,a)))break;e=e[a]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&fj(i)&&dj(a,i)&&(cj(e)||uj(e)))}var Zx=pj,mj=L7,gj=Zx;function yj(e,t){return e!=null&&gj(e,t,mj)}var nd=yj;const eA=e=>e&&e.__isYupSchema__;class vj{constructor(t,n){if(this.fn=void 0,this.refs=t,this.refs=t,typeof n=="function"){this.fn=n;return}if(!nd(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,a=typeof r=="function"?r:(...o)=>o.every(l=>l===r);this.fn=function(...o){let l=o.pop(),u=o.pop(),c=a(...o)?i:s;if(!!c)return typeof c=="function"?c(u):u.concat(c.resolve(l))}}resolve(t,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn.apply(t,r.concat(t,n));if(i===void 0||i===t)return t;if(!eA(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}function tA(e){return e==null?[]:[].concat(e)}function am(){return am=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},am.apply(this,arguments)}let wj=/\$\{\s*(\w+)\s*\}/g;class wn extends Error{static formatError(t,n){const r=n.label||n.path||"this";return r!==n.path&&(n=am({},n,{path:r})),typeof t=="string"?t.replace(wj,(i,s)=>kl(n[s])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],tA(t).forEach(s=>{wn.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,wn)}}const _j=e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}};function om(e,t){let{endEarly:n,tests:r,args:i,value:s,errors:a,sort:o,path:l}=e,u=_j(t),c=r.length;const f=[];if(a=a||[],!c)return a.length?u(new wn(a,s,l)):u(null,s);for(let d=0;d<r.length;d++){const p=r[d];p(i,function(y){if(y){if(!wn.isError(y))return u(y,s);if(n)return y.value=s,u(y,s);f.push(y)}if(--c<=0){if(f.length&&(o&&f.sort(o),a.length&&f.push(...a),a=f),a.length){u(new wn(a,s,l),s);return}u(null,s)}})}}var bj=Zs,Sj=function(){try{var e=bj(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ej=Sj,bw=Ej;function xj(e,t,n){t=="__proto__"&&bw?bw(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var nA=xj;function Aj(e){return function(t,n,r){for(var i=-1,s=Object(t),a=r(t),o=a.length;o--;){var l=a[e?o:++i];if(n(s[l],l,s)===!1)break}return t}}var Tj=Aj,Cj=Tj,Ij=Cj(),Pj=Ij;function Oj(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Nj=Oj,rd={exports:{}};function kj(){return!1}var Rj=kj;(function(e,t){var n=ai,r=Rj,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;e.exports=u})(rd,rd.exports);var $j=tu,Fj=jg,Dj=nu,Mj="[object Arguments]",Lj="[object Array]",Uj="[object Boolean]",Bj="[object Date]",jj="[object Error]",zj="[object Function]",Vj="[object Map]",Hj="[object Number]",Wj="[object Object]",qj="[object RegExp]",Gj="[object Set]",Kj="[object String]",Yj="[object WeakMap]",Qj="[object ArrayBuffer]",Xj="[object DataView]",Jj="[object Float32Array]",Zj="[object Float64Array]",ez="[object Int8Array]",tz="[object Int16Array]",nz="[object Int32Array]",rz="[object Uint8Array]",iz="[object Uint8ClampedArray]",sz="[object Uint16Array]",az="[object Uint32Array]",Be={};Be[Jj]=Be[Zj]=Be[ez]=Be[tz]=Be[nz]=Be[rz]=Be[iz]=Be[sz]=Be[az]=!0;Be[Mj]=Be[Lj]=Be[Qj]=Be[Uj]=Be[Xj]=Be[Bj]=Be[jj]=Be[zj]=Be[Vj]=Be[Hj]=Be[Wj]=Be[qj]=Be[Gj]=Be[Kj]=Be[Yj]=!1;function oz(e){return Dj(e)&&Fj(e.length)&&!!Be[$j(e)]}var lz=oz;function uz(e){return function(t){return e(t)}}var cz=uz,lm={exports:{}};(function(e,t){var n=zx,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=o})(lm,lm.exports);var dz=lz,fz=cz,Sw=lm.exports,Ew=Sw&&Sw.isTypedArray,hz=Ew?fz(Ew):dz,rA=hz,pz=Nj,mz=Xx,gz=Zi,yz=rd.exports,vz=Jx,wz=rA,_z=Object.prototype,bz=_z.hasOwnProperty;function Sz(e,t){var n=gz(e),r=!n&&mz(e),i=!n&&!r&&yz(e),s=!n&&!r&&!i&&wz(e),a=n||r||i||s,o=a?pz(e.length,String):[],l=o.length;for(var u in e)(t||bz.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vz(u,l)))&&o.push(u);return o}var Ez=Sz,xz=Object.prototype;function Az(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||xz;return e===n}var Tz=Az;function Cz(e,t){return function(n){return e(t(n))}}var Iz=Cz,Pz=Iz,Oz=Pz(Object.keys,Object),Nz=Oz,kz=Tz,Rz=Nz,$z=Object.prototype,Fz=$z.hasOwnProperty;function Dz(e){if(!kz(e))return Rz(e);var t=[];for(var n in Object(e))Fz.call(e,n)&&n!="constructor"&&t.push(n);return t}var Mz=Dz,Lz=Hx,Uz=jg;function Bz(e){return e!=null&&Uz(e.length)&&!Lz(e)}var jz=Bz,zz=Ez,Vz=Mz,Hz=jz;function Wz(e){return Hz(e)?zz(e):Vz(e)}var zg=Wz,qz=Pj,Gz=zg;function Kz(e,t){return e&&qz(e,t,Gz)}var iA=Kz,Yz=_f;function Qz(){this.__data__=new Yz,this.size=0}var Xz=Qz;function Jz(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Zz=Jz;function eV(e){return this.__data__.get(e)}var tV=eV;function nV(e){return this.__data__.has(e)}var rV=nV,iV=_f,sV=Lg,aV=Ug,oV=200;function lV(e,t){var n=this.__data__;if(n instanceof iV){var r=n.__data__;if(!sV||r.length<oV-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new aV(r)}return n.set(e,t),this.size=n.size,this}var uV=lV,cV=_f,dV=Xz,fV=Zz,hV=tV,pV=rV,mV=uV;function ho(e){var t=this.__data__=new cV(e);this.size=t.size}ho.prototype.clear=dV;ho.prototype.delete=fV;ho.prototype.get=hV;ho.prototype.has=pV;ho.prototype.set=mV;var sA=ho,gV="__lodash_hash_undefined__";function yV(e){return this.__data__.set(e,gV),this}var vV=yV;function wV(e){return this.__data__.has(e)}var _V=wV,bV=Ug,SV=vV,EV=_V;function id(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new bV;++t<n;)this.add(e[t])}id.prototype.add=id.prototype.push=SV;id.prototype.has=EV;var xV=id;function AV(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var TV=AV;function CV(e,t){return e.has(t)}var IV=CV,PV=xV,OV=TV,NV=IV,kV=1,RV=2;function $V(e,t,n,r,i,s){var a=n&kV,o=e.length,l=t.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,p=n&RV?new PV:void 0;for(s.set(e,t),s.set(t,e);++f<o;){var g=e[f],y=t[f];if(r)var b=a?r(y,g,f,t,e,s):r(g,y,f,e,t,s);if(b!==void 0){if(b)continue;d=!1;break}if(p){if(!OV(t,function(m,v){if(!NV(p,v)&&(g===m||i(g,m,n,r,s)))return p.push(v)})){d=!1;break}}else if(!(g===y||i(g,y,n,r,s))){d=!1;break}}return s.delete(e),s.delete(t),d}var aA=$V,FV=ai,DV=FV.Uint8Array,MV=DV;function LV(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var UV=LV;function BV(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var jV=BV,xw=yf,Aw=MV,zV=qx,VV=aA,HV=UV,WV=jV,qV=1,GV=2,KV="[object Boolean]",YV="[object Date]",QV="[object Error]",XV="[object Map]",JV="[object Number]",ZV="[object RegExp]",eH="[object Set]",tH="[object String]",nH="[object Symbol]",rH="[object ArrayBuffer]",iH="[object DataView]",Tw=xw?xw.prototype:void 0,Ch=Tw?Tw.valueOf:void 0;function sH(e,t,n,r,i,s,a){switch(n){case iH:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case rH:return!(e.byteLength!=t.byteLength||!s(new Aw(e),new Aw(t)));case KV:case YV:case JV:return zV(+e,+t);case QV:return e.name==t.name&&e.message==t.message;case ZV:case tH:return e==t+"";case XV:var o=HV;case eH:var l=r&qV;if(o||(o=WV),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=GV,a.set(e,t);var c=VV(o(e),o(t),r,i,s,a);return a.delete(e),c;case nH:if(Ch)return Ch.call(e)==Ch.call(t)}return!1}var aH=sH;function oH(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var lH=oH,uH=lH,cH=Zi;function dH(e,t,n){var r=t(e);return cH(e)?r:uH(r,n(e))}var fH=dH;function hH(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}var pH=hH;function mH(){return[]}var gH=mH,yH=pH,vH=gH,wH=Object.prototype,_H=wH.propertyIsEnumerable,Cw=Object.getOwnPropertySymbols,bH=Cw?function(e){return e==null?[]:(e=Object(e),yH(Cw(e),function(t){return _H.call(e,t)}))}:vH,SH=bH,EH=fH,xH=SH,AH=zg;function TH(e){return EH(e,AH,xH)}var CH=TH,Iw=CH,IH=1,PH=Object.prototype,OH=PH.hasOwnProperty;function NH(e,t,n,r,i,s){var a=n&IH,o=Iw(e),l=o.length,u=Iw(t),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=o[f];if(!(a?d in t:OH.call(t,d)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var y=!0;s.set(e,t),s.set(t,e);for(var b=a;++f<l;){d=o[f];var m=e[d],v=t[d];if(r)var w=a?r(v,m,d,t,e,s):r(m,v,d,e,t,s);if(!(w===void 0?m===v||i(m,v,n,r,s):w)){y=!1;break}b||(b=d=="constructor")}if(y&&!b){var E=e.constructor,N=t.constructor;E!=N&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof N=="function"&&N instanceof N)&&(y=!1)}return s.delete(e),s.delete(t),y}var kH=NH,RH=Zs,$H=ai,FH=RH($H,"DataView"),DH=FH,MH=Zs,LH=ai,UH=MH(LH,"Promise"),BH=UH,jH=Zs,zH=ai,VH=jH(zH,"Set"),HH=VH,WH=Zs,qH=ai,GH=WH(qH,"WeakMap"),KH=GH,um=DH,cm=Lg,dm=BH,fm=HH,hm=KH,oA=tu,po=Wx,Pw="[object Map]",YH="[object Object]",Ow="[object Promise]",Nw="[object Set]",kw="[object WeakMap]",Rw="[object DataView]",QH=po(um),XH=po(cm),JH=po(dm),ZH=po(fm),eW=po(hm),ds=oA;(um&&ds(new um(new ArrayBuffer(1)))!=Rw||cm&&ds(new cm)!=Pw||dm&&ds(dm.resolve())!=Ow||fm&&ds(new fm)!=Nw||hm&&ds(new hm)!=kw)&&(ds=function(e){var t=oA(e),n=t==YH?e.constructor:void 0,r=n?po(n):"";if(r)switch(r){case QH:return Rw;case XH:return Pw;case JH:return Ow;case ZH:return Nw;case eW:return kw}return t});var tW=ds,Ih=sA,nW=aA,rW=aH,iW=kH,$w=tW,Fw=Zi,Dw=rd.exports,sW=rA,aW=1,Mw="[object Arguments]",Lw="[object Array]",$u="[object Object]",oW=Object.prototype,Uw=oW.hasOwnProperty;function lW(e,t,n,r,i,s){var a=Fw(e),o=Fw(t),l=a?Lw:$w(e),u=o?Lw:$w(t);l=l==Mw?$u:l,u=u==Mw?$u:u;var c=l==$u,f=u==$u,d=l==u;if(d&&Dw(e)){if(!Dw(t))return!1;a=!0,c=!1}if(d&&!c)return s||(s=new Ih),a||sW(e)?nW(e,t,n,r,i,s):rW(e,t,l,n,r,i,s);if(!(n&aW)){var p=c&&Uw.call(e,"__wrapped__"),g=f&&Uw.call(t,"__wrapped__");if(p||g){var y=p?e.value():e,b=g?t.value():t;return s||(s=new Ih),i(y,b,n,r,s)}}return d?(s||(s=new Ih),iW(e,t,n,r,i,s)):!1}var uW=lW,cW=uW,Bw=nu;function lA(e,t,n,r,i){return e===t?!0:e==null||t==null||!Bw(e)&&!Bw(t)?e!==e&&t!==t:cW(e,t,n,r,lA,i)}var uA=lA,dW=sA,fW=uA,hW=1,pW=2;function mW(e,t,n,r){var i=n.length,s=i,a=!r;if(e==null)return!s;for(e=Object(e);i--;){var o=n[i];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=n[i];var l=o[0],u=e[l],c=o[1];if(a&&o[2]){if(u===void 0&&!(l in e))return!1}else{var f=new dW;if(r)var d=r(u,c,l,e,t,f);if(!(d===void 0?fW(c,u,hW|pW,r,f):d))return!1}}return!0}var gW=mW,yW=Mg;function vW(e){return e===e&&!yW(e)}var cA=vW,wW=cA,_W=zg;function bW(e){for(var t=_W(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,wW(i)]}return t}var SW=bW;function EW(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var dA=EW,xW=gW,AW=SW,TW=dA;function CW(e){var t=AW(e);return t.length==1&&t[0][2]?TW(t[0][0],t[0][1]):function(n){return n===e||xW(n,e,t)}}var IW=CW,PW=Yx,OW=Sf;function NW(e,t){t=PW(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[OW(t[n++])];return n&&n==r?e:void 0}var fA=NW,kW=fA;function RW(e,t,n){var r=e==null?void 0:kW(e,t);return r===void 0?n:r}var $W=RW;function FW(e,t){return e!=null&&t in Object(e)}var DW=FW,MW=DW,LW=Zx;function UW(e,t){return e!=null&&LW(e,t,MW)}var BW=UW,jW=uA,zW=$W,VW=BW,HW=Dg,WW=cA,qW=dA,GW=Sf,KW=1,YW=2;function QW(e,t){return HW(e)&&WW(t)?qW(GW(e),t):function(n){var r=zW(n,e);return r===void 0&&r===t?VW(n,e):jW(t,r,KW|YW)}}var XW=QW;function JW(e){return e}var ZW=JW;function eq(e){return function(t){return t==null?void 0:t[e]}}var tq=eq,nq=fA;function rq(e){return function(t){return nq(t,e)}}var iq=rq,sq=tq,aq=iq,oq=Dg,lq=Sf;function uq(e){return oq(e)?sq(lq(e)):aq(e)}var cq=uq,dq=IW,fq=XW,hq=ZW,pq=Zi,mq=cq;function gq(e){return typeof e=="function"?e:e==null?hq:typeof e=="object"?pq(e)?fq(e[0],e[1]):dq(e):mq(e)}var hA=gq,yq=nA,vq=iA,wq=hA;function _q(e,t){var n={};return t=wq(t),vq(e,function(r,i,s){yq(n,i,t(r,i,s))}),n}var pA=_q;function ea(e){this._maxSize=e,this.clear()}ea.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ea.prototype.get=function(e){return this._values[e]};ea.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var bq=/[^.^\]^[]+|(?=\[\]|\.\.)/g,mA=/^\d+$/,Sq=/^\d/,Eq=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,xq=/^\s*(['"]?)(.*?)(\1)\s*$/,Vg=512,jw=new ea(Vg),zw=new ea(Vg),Vw=new ea(Vg),Ef={Cache:ea,split:pm,normalizePath:Ph,setter:function(e){var t=Ph(e);return zw.get(e)||zw.set(e,function(r,i){for(var s=0,a=t.length,o=r;s<a-1;){var l=t[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;o=o[t[s++]]}o[t[s]]=i})},getter:function(e,t){var n=Ph(e);return Vw.get(e)||Vw.set(e,function(i){for(var s=0,a=n.length;s<a;)if(i!=null||!t)i=i[n[s++]];else return;return i})},join:function(e){return e.reduce(function(t,n){return t+(Hg(n)||mA.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){Aq(Array.isArray(e)?e:pm(e),t,n)}};function Ph(e){return jw.get(e)||jw.set(e,pm(e).map(function(t){return t.replace(xq,"$2")}))}function pm(e){return e.match(bq)||[""]}function Aq(e,t,n){var r=e.length,i,s,a,o;for(s=0;s<r;s++)i=e[s],i&&(Iq(i)&&(i='"'+i+'"'),o=Hg(i),a=!o&&/^\d+$/.test(i),t.call(n,i,o,a,s,e))}function Hg(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function Tq(e){return e.match(Sq)&&!e.match(mA)}function Cq(e){return Eq.test(e)}function Iq(e){return!Hg(e)&&(Tq(e)||Cq(e))}const Fu={context:"$",value:"."};function Pq(e,t){return new Gr(e,t)}class Gr{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Fu.context,this.isValue=this.key[0]===Fu.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Fu.context:this.isValue?Fu.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Ef.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Gr.prototype.__isYupRef=!0;function sd(){return sd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sd.apply(this,arguments)}function Oq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Du(e){function t(n,r){let{value:i,path:s="",label:a,options:o,originalValue:l,sync:u}=n,c=Oq(n,["value","path","label","options","originalValue","sync"]);const{name:f,test:d,params:p,message:g}=e;let{parent:y,context:b}=o;function m(S){return Gr.isRef(S)?S.getValue(i,y,b):S}function v(S={}){const P=pA(sd({value:i,originalValue:l,label:a,path:S.path||s},p,S.params),m),_=new wn(wn.formatError(S.message||g,P),i,P.path,S.type||f);return _.params=P,_}let w=sd({path:s,parent:y,type:f,createError:v,resolve:m,options:o,originalValue:l},c);if(!u){try{Promise.resolve(d.call(w,i,w)).then(S=>{wn.isError(S)?r(S):S?r(null,S):r(v())}).catch(r)}catch(S){r(S)}return}let E;try{var N;if(E=d.call(w,i,w),typeof((N=E)==null?void 0:N.then)=="function")throw new Error(`Validation test of type: "${w.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(S){r(S);return}wn.isError(E)?r(E):E?r(null,E):r(v())}return t.OPTIONS=e,t}let Nq=e=>e.substr(0,e.length-1).substr(1);function kq(e,t,n,r=n){let i,s,a;return t?(Ef.forEach(t,(o,l,u)=>{let c=l?Nq(o):o;if(e=e.resolve({context:r,parent:i,value:n}),e.innerType){let f=u?parseInt(c,10):0;if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[f],e=e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e._type}")`);i=n,n=n&&n[c],e=e.fields[c]}s=c,a=l?"["+o+"]":"."+o}),{schema:e,parent:i,parentPath:s}):{parent:i,parentPath:t,schema:e}}class ad{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const t=[];for(const n of this.list)t.push(n);for(const[,n]of this.refs)t.push(n.describe());return t}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(t){return this.toArray().reduce((n,r)=>n.concat(Gr.isRef(r)?t(r):r),[])}add(t){Gr.isRef(t)?this.refs.set(t.key,t):this.list.add(t)}delete(t){Gr.isRef(t)?this.refs.delete(t.key):this.list.delete(t)}clone(){const t=new ad;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}merge(t,n){const r=this.clone();return t.list.forEach(i=>r.add(i)),t.refs.forEach(i=>r.add(i)),n.list.forEach(i=>r.delete(i)),n.refs.forEach(i=>r.delete(i)),r}}function Ln(){return Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ln.apply(this,arguments)}class Vt{constructor(t){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new ad,this._blacklist=new ad,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(cs.notType)}),this.type=(t==null?void 0:t.type)||"mixed",this.spec=Ln({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},t==null?void 0:t.spec)}get _type(){return this.type}_typeCheck(t){return!0}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeError=this._typeError,n._whitelistError=this._whitelistError,n._blacklistError=this._blacklistError,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.exclusiveTests=Ln({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=rm(Ln({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Ln({},n.spec,r.spec);return r.spec=i,r._typeError||(r._typeError=n._typeError),r._whitelistError||(r._whitelistError=n._whitelistError),r._blacklistError||(r._blacklistError=n._blacklistError),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{t.tests.forEach(a=>{s.test(a.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return this.spec.nullable&&t===null?!0:this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,t),n),n=n.resolve(t)}return n}cast(t,n={}){let r=this.resolve(Ln({value:t},n)),i=r._cast(t,n);if(t!==void 0&&n.assert!==!1&&r.isType(i)!==!0){let s=kl(t),a=kl(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". 

attempted value: ${s} 
`+(a!==s?`result of cast: ${a}`:""))}return i}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,s)=>s.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault()),r}_validate(t,n={},r){let{sync:i,path:s,from:a=[],originalValue:o=t,strict:l=this.spec.strict,abortEarly:u=this.spec.abortEarly}=n,c=t;l||(c=this._cast(c,Ln({assert:!1},n)));let f={value:c,path:s,options:n,originalValue:o,schema:this,label:this.spec.label,sync:i,from:a},d=[];this._typeError&&d.push(this._typeError);let p=[];this._whitelistError&&p.push(this._whitelistError),this._blacklistError&&p.push(this._blacklistError),om({args:f,value:c,path:s,sync:i,tests:d,endEarly:u},g=>{if(g)return void r(g,c);om({tests:this.tests.concat(p),args:f,path:s,sync:i,value:c,endEarly:u},r)})}validate(t,n,r){let i=this.resolve(Ln({},n,{value:t}));return typeof r=="function"?i._validate(t,n,r):new Promise((s,a)=>i._validate(t,n,(o,l)=>{o?a(o):s(l)}))}validateSync(t,n){let r=this.resolve(Ln({},n,{value:t})),i;return r._validate(t,Ln({},n,{sync:!0}),(s,a)=>{if(s)throw s;i=a}),i}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(wn.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(wn.isError(r))return!1;throw r}}_getDefault(){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this):rm(t)}getDefault(t){return this.resolve(t||{})._getDefault()}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){let n=this.clone();return n.spec.strict=t,n}_isPresent(t){return t!=null}defined(t=cs.defined){return this.test({message:t,name:"defined",exclusive:!0,test(n){return n!==void 0}})}required(t=cs.required){return this.clone({presence:"required"}).withMutation(n=>n.test({message:t,name:"required",exclusive:!0,test(r){return this.schema._isPresent(r)}}))}notRequired(){let t=this.clone({presence:"optional"});return t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t}nullable(t=!0){return this.clone({nullable:t!==!1})}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=cs.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Du(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===n.name&&(s||a.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=tA(t).map(s=>new Gr(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(new vj(i,n)),r}typeError(t){let n=this.clone();return n._typeError=Du({message:t,name:"typeError",test(r){return r!==void 0&&!this.schema.isType(r)?this.createError({params:{type:this.schema._type}}):!0}}),n}oneOf(t,n=cs.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r._whitelistError=Du({message:n,name:"oneOf",test(i){if(i===void 0)return!0;let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(i)?!0:this.createError({params:{values:s.toArray().join(", "),resolved:a}})}}),r}notOneOf(t,n=cs.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r._blacklistError=Du({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(i)?this.createError({params:{values:s.toArray().join(", "),resolved:a}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(){const t=this.clone(),{label:n,meta:r}=t.spec;return{meta:r,label:n,type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(s=>({name:s.OPTIONS.name,params:s.OPTIONS.params})).filter((s,a,o)=>o.findIndex(l=>l.name===s.name)===a)}}}Vt.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Vt.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:s,schema:a}=kq(this,t,n,r.context);return a[e](i&&i[s],Ln({},r,{parent:i,path:t}))};for(const e of["equals","is"])Vt.prototype[e]=Vt.prototype.oneOf;for(const e of["not","nope"])Vt.prototype[e]=Vt.prototype.notOneOf;Vt.prototype.optional=Vt.prototype.notRequired;const Rq=Vt;Rq.prototype;const gt=e=>e==null;let $q=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,Fq=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Dq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Mq=e=>gt(e)||e===e.trim(),Lq={}.toString();function fs(){return new gA}class gA extends Vt{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(t){if(this.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===Lq?t:n})})}_typeCheck(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}_isPresent(t){return super._isPresent(t)&&!!t.length}length(t,n=Zn.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},test(r){return gt(r)||r.length===this.resolve(t)}})}min(t,n=Zn.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return gt(r)||r.length>=this.resolve(t)}})}max(t,n=Zn.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},test(r){return gt(r)||r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Zn.matches,params:{regex:t},test:a=>gt(a)||a===""&&r||a.search(t)!==-1})}email(t=Zn.email){return this.matches($q,{name:"email",message:t,excludeEmptyString:!0})}url(t=Zn.url){return this.matches(Fq,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Zn.uuid){return this.matches(Dq,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Zn.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:Mq})}lowercase(t=Zn.lowercase){return this.transform(n=>gt(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,test:n=>gt(n)||n===n.toLowerCase()})}uppercase(t=Zn.uppercase){return this.transform(n=>gt(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,test:n=>gt(n)||n===n.toUpperCase()})}}fs.prototype=gA.prototype;let Uq=e=>e!=+e;function yA(){return new vA}class vA extends Vt{constructor(){super({type:"number"}),this.withMutation(()=>{this.transform(function(t){let n=t;if(typeof n=="string"){if(n=n.replace(/\s/g,""),n==="")return NaN;n=+n}return this.isType(n)?n:parseFloat(n)})})}_typeCheck(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!Uq(t)}min(t,n=hi.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return gt(r)||r>=this.resolve(t)}})}max(t,n=hi.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(r){return gt(r)||r<=this.resolve(t)}})}lessThan(t,n=hi.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},test(r){return gt(r)||r<this.resolve(t)}})}moreThan(t,n=hi.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},test(r){return gt(r)||r>this.resolve(t)}})}positive(t=hi.positive){return this.moreThan(0,t)}negative(t=hi.negative){return this.lessThan(0,t)}integer(t=hi.integer){return this.test({name:"integer",message:t,test:n=>gt(n)||Number.isInteger(n)})}truncate(){return this.transform(t=>gt(t)?t:t|0)}round(t){var n;let r=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(r.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>gt(i)?i:Math[t](i))}}yA.prototype=vA.prototype;var Bq=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function jq(e){var t=[1,4,5,6,7,10,11],n=0,r,i;if(i=Bq.exec(e)){for(var s=0,a;a=t[s];++s)i[a]=+i[a]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(e):NaN;return r}let wA=new Date(""),zq=e=>Object.prototype.toString.call(e)==="[object Date]";class _A extends Vt{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(t){return this.isType(t)?t:(t=jq(t),isNaN(t)?wA:new Date(t))})})}_typeCheck(t){return zq(t)&&!isNaN(t.getTime())}prepareParam(t,n){let r;if(Gr.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=im.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(i){return gt(i)||i>=this.resolve(r)}})}max(t,n=im.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(i){return gt(i)||i<=this.resolve(r)}})}}_A.INVALID_DATE=wA;_A.prototype;function Vq(e,t,n,r){var i=-1,s=e==null?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}var Hq=Vq;function Wq(e){return function(t){return e==null?void 0:e[t]}}var qq=Wq,Gq=qq,Kq={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Yq=Gq(Kq),Qq=Yq,Xq=Qq,Jq=ru,Zq=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,eG="\\u0300-\\u036f",tG="\\ufe20-\\ufe2f",nG="\\u20d0-\\u20ff",rG=eG+tG+nG,iG="["+rG+"]",sG=RegExp(iG,"g");function aG(e){return e=Jq(e),e&&e.replace(Zq,Xq).replace(sG,"")}var oG=aG,lG=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function uG(e){return e.match(lG)||[]}var cG=uG,dG=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function fG(e){return dG.test(e)}var hG=fG,bA="\\ud800-\\udfff",pG="\\u0300-\\u036f",mG="\\ufe20-\\ufe2f",gG="\\u20d0-\\u20ff",yG=pG+mG+gG,SA="\\u2700-\\u27bf",EA="a-z\\xdf-\\xf6\\xf8-\\xff",vG="\\xac\\xb1\\xd7\\xf7",wG="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_G="\\u2000-\\u206f",bG=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xA="A-Z\\xc0-\\xd6\\xd8-\\xde",SG="\\ufe0e\\ufe0f",AA=vG+wG+_G+bG,TA="['\u2019]",Hw="["+AA+"]",EG="["+yG+"]",CA="\\d+",xG="["+SA+"]",IA="["+EA+"]",PA="[^"+bA+AA+CA+SA+EA+xA+"]",AG="\\ud83c[\\udffb-\\udfff]",TG="(?:"+EG+"|"+AG+")",CG="[^"+bA+"]",OA="(?:\\ud83c[\\udde6-\\uddff]){2}",NA="[\\ud800-\\udbff][\\udc00-\\udfff]",oa="["+xA+"]",IG="\\u200d",Ww="(?:"+IA+"|"+PA+")",PG="(?:"+oa+"|"+PA+")",qw="(?:"+TA+"(?:d|ll|m|re|s|t|ve))?",Gw="(?:"+TA+"(?:D|LL|M|RE|S|T|VE))?",kA=TG+"?",RA="["+SG+"]?",OG="(?:"+IG+"(?:"+[CG,OA,NA].join("|")+")"+RA+kA+")*",NG="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kG="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",RG=RA+kA+OG,$G="(?:"+[xG,OA,NA].join("|")+")"+RG,FG=RegExp([oa+"?"+IA+"+"+qw+"(?="+[Hw,oa,"$"].join("|")+")",PG+"+"+Gw+"(?="+[Hw,oa+Ww,"$"].join("|")+")",oa+"?"+Ww+"+"+qw,oa+"+"+Gw,kG,NG,CA,$G].join("|"),"g");function DG(e){return e.match(FG)||[]}var MG=DG,LG=cG,UG=hG,BG=ru,jG=MG;function zG(e,t,n){return e=BG(e),t=n?void 0:t,t===void 0?UG(e)?jG(e):LG(e):e.match(t)||[]}var VG=zG,HG=Hq,WG=oG,qG=VG,GG="['\u2019]",KG=RegExp(GG,"g");function YG(e){return function(t){return HG(qG(WG(t).replace(KG,"")),e,"")}}var $A=YG,QG=$A,XG=QG(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Kw=XG;function JG(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}var ZG=JG,eK=ZG;function tK(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:eK(e,t,n)}var nK=tK,rK="\\ud800-\\udfff",iK="\\u0300-\\u036f",sK="\\ufe20-\\ufe2f",aK="\\u20d0-\\u20ff",oK=iK+sK+aK,lK="\\ufe0e\\ufe0f",uK="\\u200d",cK=RegExp("["+uK+rK+oK+lK+"]");function dK(e){return cK.test(e)}var FA=dK;function fK(e){return e.split("")}var hK=fK,DA="\\ud800-\\udfff",pK="\\u0300-\\u036f",mK="\\ufe20-\\ufe2f",gK="\\u20d0-\\u20ff",yK=pK+mK+gK,vK="\\ufe0e\\ufe0f",wK="["+DA+"]",mm="["+yK+"]",gm="\\ud83c[\\udffb-\\udfff]",_K="(?:"+mm+"|"+gm+")",MA="[^"+DA+"]",LA="(?:\\ud83c[\\udde6-\\uddff]){2}",UA="[\\ud800-\\udbff][\\udc00-\\udfff]",bK="\\u200d",BA=_K+"?",jA="["+vK+"]?",SK="(?:"+bK+"(?:"+[MA,LA,UA].join("|")+")"+jA+BA+")*",EK=jA+BA+SK,xK="(?:"+[MA+mm+"?",mm,LA,UA,wK].join("|")+")",AK=RegExp(gm+"(?="+gm+")|"+xK+EK,"g");function TK(e){return e.match(AK)||[]}var CK=TK,IK=hK,PK=FA,OK=CK;function NK(e){return PK(e)?OK(e):IK(e)}var kK=NK,RK=nK,$K=FA,FK=kK,DK=ru;function MK(e){return function(t){t=DK(t);var n=$K(t)?FK(t):void 0,r=n?n[0]:t.charAt(0),i=n?RK(n,1).join(""):t.slice(1);return r[e]()+i}}var LK=MK,UK=LK,BK=UK("toUpperCase"),jK=BK,zK=ru,VK=jK;function HK(e){return VK(zK(e).toLowerCase())}var WK=HK,qK=WK,GK=$A,KK=GK(function(e,t,n){return t=t.toLowerCase(),e+(n?qK(t):t)}),YK=KK,QK=nA,XK=iA,JK=hA;function ZK(e,t){var n={};return t=JK(t),XK(e,function(r,i,s){QK(n,t(r,i,s),r)}),n}var eY=ZK,Wg={exports:{}};Wg.exports=function(e){return zA(tY(e),e)};Wg.exports.array=zA;function zA(e,t){var n=e.length,r=new Array(n),i={},s=n,a=nY(t),o=rY(e);for(t.forEach(function(u){if(!o.has(u[0])||!o.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(e[s],s,new Set);return r;function l(u,c,f){if(f.has(u)){var d;try{d=", node was:"+JSON.stringify(u)}catch{d=""}throw new Error("Cyclic dependency"+d)}if(!o.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var p=a.get(u)||new Set;if(p=Array.from(p),c=p.length){f.add(u);do{var g=p[--c];l(g,o.get(g),f)}while(c);f.delete(u)}r[--n]=u}}}function tY(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}function nY(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function rY(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}function iY(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([a,o])=>`${a}-${o}`));function s(a,o){let l=Ef.split(a)[0];r.add(l),i.has(`${o}-${l}`)||n.push([o,l])}for(const a in e)if(nd(e,a)){let o=e[a];r.add(a),Gr.isRef(o)&&o.isSibling?s(o.path,a):eA(o)&&"deps"in o&&o.deps.forEach(l=>s(l,a))}return Wg.exports.array(Array.from(r),n).reverse()}function Yw(e,t){let n=1/0;return e.some((r,i)=>{var s;if(((s=t.path)==null?void 0:s.indexOf(r))!==-1)return n=i,!0}),n}function VA(e){return(t,n)=>Yw(e,t)-Yw(e,n)}function Sa(){return Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sa.apply(this,arguments)}let Qw=e=>Object.prototype.toString.call(e)==="[object Object]";function sY(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const aY=VA([]);class HA extends Vt{constructor(t){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=aY,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return this.isType(r)?r:null}),t&&this.shape(t)})}_typeCheck(t){return Qw(t)||typeof t=="function"}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault();if(!this._typeCheck(i))return i;let s=this.fields,a=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,o=this._nodes.concat(Object.keys(i).filter(f=>this._nodes.indexOf(f)===-1)),l={},u=Sa({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const f of o){let d=s[f],p=nd(i,f);if(d){let g,y=i[f];u.path=(n.path?`${n.path}.`:"")+f,d=d.resolve({value:y,context:n.context,parent:l});let b="spec"in d?d.spec:void 0,m=b==null?void 0:b.strict;if(b!=null&&b.strip){c=c||f in i;continue}g=!n.__validating||!m?d.cast(i[f],u):i[f],g!==void 0&&(l[f]=g)}else p&&!a&&(l[f]=i[f]);l[f]!==i[f]&&(c=!0)}return c?l:i}_validate(t,n={},r){let i=[],{sync:s,from:a=[],originalValue:o=t,abortEarly:l=this.spec.abortEarly,recursive:u=this.spec.recursive}=n;a=[{schema:this,value:o},...a],n.__validating=!0,n.originalValue=o,n.from=a,super._validate(t,n,(c,f)=>{if(c){if(!wn.isError(c)||l)return void r(c,f);i.push(c)}if(!u||!Qw(f)){r(i[0]||null,f);return}o=o||f;let d=this._nodes.map(p=>(g,y)=>{let b=p.indexOf(".")===-1?(n.path?`${n.path}.`:"")+p:`${n.path||""}["${p}"]`,m=this.fields[p];if(m&&"validate"in m){m.validate(f[p],Sa({},n,{path:b,from:a,strict:!0,parent:f,originalValue:o[p]}),y);return}y(null)});om({sync:s,tests:d,value:f,errors:i,endEarly:l,sort:this._sortErrors,path:n.path},r)})}clone(t){const n=super.clone(t);return n.fields=Sa({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const a=r[i];a===void 0?r[i]=s:a instanceof Vt&&s instanceof Vt&&(r[i]=s.concat(a))}return n.withMutation(()=>n.shape(r,this._excludedEdges))}getDefaultFromShape(){let t={};return this._nodes.forEach(n=>{const r=this.fields[n];t[n]="default"in r?r.getDefault():void 0}),t}_getDefault(){if("default"in this.spec)return super._getDefault();if(!!this._nodes.length)return this.getDefaultFromShape()}shape(t,n=[]){let r=this.clone(),i=Object.assign(r.fields,t);return r.fields=i,r._sortErrors=VA(Object.keys(i)),n.length&&(Array.isArray(n[0])||(n=[n]),r._excludedEdges=[...r._excludedEdges,...n]),r._nodes=iY(i,r._excludedEdges),r}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.clone().withMutation(r=>(r.fields={},r.shape(n)))}omit(t){const n=this.clone(),r=n.fields;n.fields={};for(const i of t)delete r[i];return n.withMutation(()=>n.shape(r))}from(t,n,r){let i=Ef.getter(t,!0);return this.transform(s=>{if(s==null)return s;let a=s;return nd(s,t)&&(a=Sa({},s),r||delete a[t],a[n]=i(s)),a})}noUnknown(t=!0,n=sm.noUnknown){typeof t=="string"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=sY(this.schema,i);return!t||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=sm.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>n&&eY(n,(r,i)=>t(i)))}camelCase(){return this.transformKeys(YK)}snakeCase(){return this.transformKeys(Kw)}constantCase(){return this.transformKeys(t=>Kw(t).toUpperCase())}describe(){let t=super.describe();return t.fields=pA(this.fields,n=>n.describe()),t}}function WA(e){return new HA(e)}WA.prototype=HA.prototype;const oY=()=>{an();const[e,t]=$.exports.useState(null),{authController:n}=uf(),r=WA().shape({name:fs().min(2,"El nombre es demasiado corto").required("El nombre es requerido"),surnames:fs().min(2,"Demasiado corto").required("Los apellidos son requeridos"),email:fs().email("El correo electr\xF3nico no es valido").required("El email es requerido"),phoneNumber:yA().required("El n\xFAmero de contacto es requerido"),password:fs().matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/,"Debe contener 8 caracteres, una may\xFAscula, una min\xFAscula, un n\xFAmero y un car\xE1cter especial").required("La contrase\xF1a es requerida"),passwordRepeated:fs().oneOf([Pq("password"),null],"Las contrase\xF1as no coinciden").required("Por favor confirme la contrase\xF1a"),requestDescription:fs().required("El detalle es importante para poder informar al administrador cual va a ser el uso del usuario")}),i={name:"",surnames:"",email:"",password:"",passwordRepeated:"",phoneNumber:"",requestDescription:"",role:je.CLIENT};return{setPhoto:t,registerSchema:r,initialValue:i,handleSubmit:async({email:a,name:o,surnames:l,password:u,role:c,phoneNumber:f,requestDescription:d})=>{await n.register({email:a,password:u,phoneNumber:f,displayName:`${o} ${l}`,photo:e,role:c,requestDescription:d})}}},lY=()=>{const{handleSubmit:e,initialValue:t,setPhoto:n,registerSchema:r}=oY(),i=ri(),s=()=>{i(-1)};return h("section",{className:"flex flex-col gap-4 justify-center items-center bg-gray-100 w-full h-screen",children:A("div",{className:"bg-white flex flex-col p-8 gap-2 rounded shadow w-full md:w-1/2 max-w-[48em]",children:[A("h2",{className:"font-semibold text-2xl flex flex-col items-center mb-3",children:["Registro",h("small",{className:"text-gray-400 font-light text-lg",children:"Diligencie todos los datos requeridos"})]}),h(On,{onSubmit:e,initialValues:t,validationSchema:r,children:({errors:a})=>h("div",{className:"",children:A(on,{className:"flex flex-col gap-4",children:[A("div",{className:"flex flex-col md:flex-row gap-1",children:[A("div",{className:"w-full md:w-1/3 flex flex-col gap-1",children:[h(pe,{htmlFor:"name",required:!0,children:"Nombres"}),h(qe,{name:"name",type:"text",placeholder:"Nombres"})]}),A("div",{className:"w-full md:w-1/3 flex flex-col gap-1",children:[h(pe,{htmlFor:"surnames",required:!0,children:"Apellidos"}),h(qe,{name:"surnames",type:"text",placeholder:"Apellidos"})]}),A("div",{className:"w-full md:w-1/3 flex flex-col gap-1",children:[h(pe,{htmlFor:"email",required:!0,children:"N\xFAmero de contacto"}),h(qe,{type:"number",placeholder:"N\xFAmero de contacto",name:"phoneNumber"})]})]}),A("div",{className:"flex flex-col md:flex-row gap-1",children:[A("div",{className:"w-full md:w-1/3 flex flex-col gap-1",children:[h(pe,{htmlFor:"email",required:!0,children:"Email"}),h(qe,{name:"email",type:"email",placeholder:"Correo electr\xF3nico*"})]}),A("div",{className:"w-full md:w-1/3 flex flex-col gap-1",children:[h(pe,{htmlFor:"password",required:!0,children:"Contrase\xF1a"}),h(qe,{name:"password",type:"password",placeholder:"Contrase\xF1a"})]}),A("div",{className:"w-full md:w-1/3 flex flex-col gap-1",children:[h(pe,{htmlFor:"password",required:!0,children:"Repetir contrase\xF1a"}),h(qe,{name:"passwordRepeated",type:"password",placeholder:"Repetir contrase\xF1a"})]})]}),A("div",{className:"flex flex-col gap-1",children:[h(pe,{htmlFor:"requestDescription",required:!0,children:"Detalles"}),h(Ng,{placeholder:"Detalles de la solicitud (Ej. N\xFAmero de la unidad residencial y torre a la cu\xE1l va a hacer uso)",name:"requestDescription",rows:3})]}),h(Cg,{className:"w-full",placeholder:"Subir imagen de usuario",id:"photo",onChange:o=>{n(o)}}),Object.values(a).length>0&&A("div",{className:"text-sm text-blue-800 p-4 rounded-lg bg-blue-50",children:[h("h2",{className:"text-xl font-bold",children:"Requerimientos:"}),h("ul",{className:"list-inside list-disc",children:Object.values(a).map((o,l)=>A("li",{className:"break-words",children:[o,"."]},l))})]}),A("div",{className:"w-full flex gap-1 justify-end",children:[h(ie,{onClick:s,type:"button",color:"secondary",children:"Volver"}),h(ie,{type:"submit",color:"primary",children:"Registrarse"})]})]})})})]})})},uY=()=>{const e=ri(),{authController:t}=uf(),{theme:n}=ii(s=>s.themeState),r=async s=>{await t.signInWithEmailAndPassword(s)},i=()=>{e("register")};return A("section",{className:"flex flex-col gap-4 justify-center items-center bg-gray-100 w-full h-screen",children:[n.logo&&h("div",{className:"flex justify-center",children:h("img",{src:n.logo,width:150})}),A("div",{className:"bg-white flex flex-col p-8 gap-2 rounded shadow",children:[A("h2",{className:"font-semibold text-2xl flex flex-col items-center mb-3",children:["Ingreso",h("small",{className:"text-gray-400 font-light text-lg",children:"Ingresa tu correo electr\xF3nico y contrase\xF1a"})]}),h(On,{onSubmit:r,initialValues:{email:"",password:""},children:A(on,{className:"flex flex-col gap-5",children:[h(qe,{name:"email",type:"email",placeholder:"Correo electr\xF3nico",className:"w-96"}),h(qe,{name:"password",type:"password",placeholder:"Contrase\xF1a",className:"w-96"}),A("div",{className:"w-full flex flex-col gap-2",children:[h(ie,{type:"submit",color:"primary",children:"Ingresar"}),h(ie,{type:"button",color:"secondary",onClick:i,children:"Registrarse"})]})]})})]}),A("p",{className:"text-gray-500",children:["\xBFOlvido su contrase\xF1a?\xA0",h(_0,{className:"text-primary hover:underline cursor-pointer",to:"../forgot-password",children:"Click aqu\xED"})]})]})},cY=()=>{const{loading:e}=sn(t=>t.loadingState);return A(ge,{children:[e&&h(hg,{}),h(uY,{})]})},dY=()=>{const[e,t]=$.exports.useState(!1),n=Ix(),r=ri(),i=async a=>{n.sendValidationEmail(a.email).then(o=>{t(o)})},s=()=>{r(-1)};return A(ge,{children:[h(fg,{}),h("section",{className:"flex flex-col gap-4 justify-center items-center bg-gray-100 w-full h-screen",children:h("div",{className:"bg-white flex flex-col p-8 gap-2 rounded shadow w-96",children:e?A(ge,{children:[h("h2",{className:"font-semibold text-2xl flex flex-col items-center mb-3",children:"\xA1Ya puede cerrar esta p\xE1gina!"}),h("p",{className:"text-center",children:"Revise su bandeja de entrada del correo electr\xF3nico ah\xED podr\xE1 ver un enlace para cambiar su contrase\xF1a, si no le lleg\xF3 ning\xFAn correo intente m\xE1s tarde o contacte con soporte"}),h("div",{className:"w-full flex mt-2 gap-1 justify-center",children:h(ie,{type:"button",color:"primary",onClick:s,children:"Volver"})})]}):A(ge,{children:[A("h2",{className:"font-semibold text-2xl flex flex-col items-center mb-3",children:["\xBFOlvido su contrase\xF1a?",h("small",{className:"text-gray-400 font-light text-lg",children:"Diligencie su correo electr\xF3nico"})]}),h(On,{initialValues:{email:""},onSubmit:i,children:A(on,{className:"flex flex-col gap-3",children:[h("div",{className:"w-full flex flex-col",children:h(qe,{name:"email",type:"email",placeholder:"Correo electr\xF3nico"})}),A("div",{className:"w-full flex gap-1 justify-end",children:[h(ie,{onClick:s,type:"button",color:"secondary",children:"Volver"}),h(ie,{type:"submit",color:"primary",children:"Enviar"})]})]})})]})})})]})},fY=()=>A(Vi,{children:[h(fe,{index:!0,element:h(cY,{})}),h(fe,{path:"register",element:A(ge,{children:[h(lY,{}),h(fg,{})]})}),h(fe,{path:"forgot-password",element:h(dY,{})}),h(fe,{path:"*",element:h(Ja,{to:"/NotFound",replace:!0})})]}),hY=()=>h(PI,{children:A(Vi,{children:[h(fe,{path:"NotFound",element:h(DR,{})}),A(fe,{path:":id",element:h(FR,{}),children:[h(fe,{path:"home/*",element:h(T7,{})}),h(fe,{path:"auth/*",element:h(fY,{})}),h(fe,{index:!0,element:h(Ja,{to:"auth",replace:!0})})]})]})}),pY=cP({reducer:{loadingState:dE.reducer,themeState:EE.reducer,authState:cE.reducer,toastState:Fb.reducer}});Oh.createRoot(document.getElementById("root")).render(h(X4,{store:pY,children:h(hY,{})}))});export default mY();
